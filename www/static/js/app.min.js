!function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():"undefined"!=typeof Package?Sortable=e():window.Sortable=e()}(function(){"use strict";function e(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=b({},t),e[I]=this;var a={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var i in a)!(i in t)&&(t[i]=a[i]);z(t);for(var n in this)"_"===n.charAt(0)&&(this[n]=this[n].bind(this));this.nativeDraggable=!t.forceFallback&&X,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),j.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function t(e){$&&$.state!==e&&(s($,"display",e?"none":""),!e&&$.state&&w.insertBefore($,v),$.state=e)}function a(e,t,a){if(e){a=a||Q;var i=(t=t.split(".")).shift().toUpperCase(),o=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");do{if(">*"===i&&e.parentNode===a||(""===i||e.nodeName.toUpperCase()==i)&&(!t.length||((" "+e.className+" ").match(o)||[]).length==t.length))return e}while(e!==a&&(e=e.parentNode))}return null}function i(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault()}function o(e,t,a){e.addEventListener(t,a,!1)}function n(e,t,a){e.removeEventListener(t,a,!1)}function l(e,t,a){if(e)if(e.classList)e.classList[a?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(N," ").replace(" "+t+" "," ");e.className=(i+(a?" "+t:"")).replace(N," ")}}function s(e,t,a){var i=e&&e.style;if(i){if(void 0===a)return Q.defaultView&&Q.defaultView.getComputedStyle?a=Q.defaultView.getComputedStyle(e,""):e.currentStyle&&(a=e.currentStyle),void 0===t?a:a[t];t in i||(t="-webkit-"+t),i[t]=a+("string"==typeof a?"":"px")}}function r(e,t,a){if(e){var i=e.getElementsByTagName(t),o=0,n=i.length;if(a)for(;n>o;o++)a(i[o],o);return i}return[]}function d(e,t,a,i,o,n,l){var s=Q.createEvent("Event"),r=(e||t[I]).options,d="on"+a.charAt(0).toUpperCase()+a.substr(1);s.initEvent(a,!0,!0),s.to=t,s.from=o||t,s.item=i||t,s.clone=$,s.oldIndex=n,s.newIndex=l,t.dispatchEvent(s),r[d]&&r[d].call(e,s)}function c(e,t,a,i,o,n){var l,s,r=e[I],d=r.options.onMove;return(l=Q.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=a,l.draggedRect=i,l.related=o||t,l.relatedRect=n||t.getBoundingClientRect(),e.dispatchEvent(l),d&&(s=d.call(r,l)),s}function f(e){e.draggable=!1}function p(){H=!1}function u(e,t){var a=e.lastElementChild,i=a.getBoundingClientRect();return(t.clientY-(i.top+i.height)>5||t.clientX-(i.right+i.width)>5)&&a}function m(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,a=t.length,i=0;a--;)i+=t.charCodeAt(a);return i.toString(36)}function g(e){var t=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function h(e,t){var a,i;return function(){void 0===a&&(a=arguments,i=this,setTimeout(function(){1===a.length?e.call(i,a[0]):e.apply(i,a),a=void 0},t))}}function b(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}var v,A,y,$,w,C,x,E,T,k,B,S,_,D,L,U,P,R={},N=/\s+/g,I="Sortable"+(new Date).getTime(),M=window,Q=M.document,G=M.parseInt,X=!!("draggable"in Q.createElement("div")),O=function(e){return e=Q.createElement("x"),e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}(),H=!1,F=Math.abs,j=[],q=h(function(e,t,a){if(a&&t.scroll){var i,o,n,l,s=t.scrollSensitivity,r=t.scrollSpeed,d=e.clientX,c=e.clientY,f=window.innerWidth,p=window.innerHeight;if(E!==a&&(x=t.scroll,E=a,!0===x)){x=a;do{if(x.offsetWidth<x.scrollWidth||x.offsetHeight<x.scrollHeight)break}while(x=x.parentNode)}x&&(i=x,o=x.getBoundingClientRect(),n=(F(o.right-d)<=s)-(F(o.left-d)<=s),l=(F(o.bottom-c)<=s)-(F(o.top-c)<=s)),n||l||(n=(s>=f-d)-(s>=d),l=(s>=p-c)-(s>=c),(n||l)&&(i=M)),(R.vx!==n||R.vy!==l||R.el!==i)&&(R.el=i,R.vx=n,R.vy=l,clearInterval(R.pid),i&&(R.pid=setInterval(function(){i===M?M.scrollTo(M.pageXOffset+n*r,M.pageYOffset+l*r):(l&&(i.scrollTop+=l*r),n&&(i.scrollLeft+=n*r))},24)))}},30),z=function(e){var t=e.group;t&&"object"==typeof t||(t=e.group={name:t}),["pull","put"].forEach(function(e){e in t||(t[e]=!0)}),e.groups=" "+t.name+(t.put.join?" "+t.put.join(" "):"")+" "};return e.prototype={constructor:e,_onTapStart:function(e){var t=this,i=this.el,o=this.options,n=e.type,l=e.touches&&e.touches[0],s=(l||e).target,r=s,c=o.filter;if(!("mousedown"===n&&0!==e.button||o.disabled)&&(s=a(s,o.draggable,i))){if(S=g(s),"function"==typeof c){if(c.call(this,e,s,this))return d(t,r,"filter",s,i,S)}else if(c&&(c=c.split(",").some(function(e){return e=a(r,e.trim(),i),e?(d(t,e,"filter",s,i,S),!0):void 0})))return void e.preventDefault();(!o.handle||a(r,o.handle,i))&&this._prepareDragStart(e,l,s)}},_prepareDragStart:function(e,t,a){var i,n=this,s=n.el,d=n.options,c=s.ownerDocument;a&&!v&&a.parentNode===s&&(L=e,w=s,v=a,A=v.parentNode,C=v.nextSibling,D=d.group,i=function(){n._disableDelayedDrag(),v.draggable=!0,l(v,n.options.chosenClass,!0),n._triggerDragStart(t)},d.ignore.split(",").forEach(function(e){r(v,e.trim(),f)}),o(c,"mouseup",n._onDrop),o(c,"touchend",n._onDrop),o(c,"touchcancel",n._onDrop),d.delay?(o(c,"mouseup",n._disableDelayedDrag),o(c,"touchend",n._disableDelayedDrag),o(c,"touchcancel",n._disableDelayedDrag),o(c,"mousemove",n._disableDelayedDrag),o(c,"touchmove",n._disableDelayedDrag),n._dragStartTimer=setTimeout(i,d.delay)):i())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),n(e,"mouseup",this._disableDelayedDrag),n(e,"touchend",this._disableDelayedDrag),n(e,"touchcancel",this._disableDelayedDrag),n(e,"mousemove",this._disableDelayedDrag),n(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(e){e?(L={target:v,clientX:e.clientX,clientY:e.clientY},this._onDragStart(L,"touch")):this.nativeDraggable?(o(v,"dragend",this),o(w,"dragstart",this._onDragStart)):this._onDragStart(L,!0);try{Q.selection?Q.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){w&&v&&(l(v,this.options.ghostClass,!0),e.active=this,d(this,w,"start",v,w,S))},_emulateDragOver:function(){if(U){if(this._lastX===U.clientX&&this._lastY===U.clientY)return;this._lastX=U.clientX,this._lastY=U.clientY,O||s(y,"display","none");var e=Q.elementFromPoint(U.clientX,U.clientY),t=e,a=" "+this.options.group.name,i=j.length;if(t)do{if(t[I]&&t[I].options.groups.indexOf(a)>-1){for(;i--;)j[i]({clientX:U.clientX,clientY:U.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);O||s(y,"display","")}},_onTouchMove:function(t){if(L){e.active||this._dragStarted(),this._appendGhost();var a=t.touches?t.touches[0]:t,i=a.clientX-L.clientX,o=a.clientY-L.clientY,n=t.touches?"translate3d("+i+"px,"+o+"px,0)":"translate("+i+"px,"+o+"px)";P=!0,U=a,s(y,"webkitTransform",n),s(y,"mozTransform",n),s(y,"msTransform",n),s(y,"transform",n),t.preventDefault()}},_appendGhost:function(){if(!y){var e,t=v.getBoundingClientRect(),a=s(v),i=this.options;l(y=v.cloneNode(!0),i.ghostClass,!1),l(y,i.fallbackClass,!0),s(y,"top",t.top-G(a.marginTop,10)),s(y,"left",t.left-G(a.marginLeft,10)),s(y,"width",t.width),s(y,"height",t.height),s(y,"opacity","0.8"),s(y,"position","fixed"),s(y,"zIndex","100000"),s(y,"pointerEvents","none"),i.fallbackOnBody&&Q.body.appendChild(y)||w.appendChild(y),e=y.getBoundingClientRect(),s(y,"width",2*t.width-e.width),s(y,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var a=e.dataTransfer,i=this.options;this._offUpEvents(),"clone"==D.pull&&($=v.cloneNode(!0),s($,"display","none"),w.insertBefore($,v)),t?("touch"===t?(o(Q,"touchmove",this._onTouchMove),o(Q,"touchend",this._onDrop),o(Q,"touchcancel",this._onDrop)):(o(Q,"mousemove",this._onTouchMove),o(Q,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(a&&(a.effectAllowed="move",i.setData&&i.setData.call(this,a,v)),o(Q,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var i,o,n,l=this.el,r=this.options,d=r.group,f=d.put,m=D===d,g=r.sort;if(void 0!==e.preventDefault&&(e.preventDefault(),!r.dragoverBubble&&e.stopPropagation()),P=!0,D&&!r.disabled&&(m?g||(n=!w.contains(v)):D.pull&&f&&(D.name===d.name||f.indexOf&&~f.indexOf(D.name)))&&(void 0===e.rootEl||e.rootEl===this.el)){if(q(e,r,this.el),H)return;if(i=a(e.target,r.draggable,l),o=v.getBoundingClientRect(),n)return t(!0),void($||C?w.insertBefore(v,$||C):g||w.appendChild(v));if(0===l.children.length||l.children[0]===y||l===e.target&&(i=u(l,e))){if(i){if(i.animated)return;b=i.getBoundingClientRect()}t(m),!1!==c(w,l,v,o,i,b)&&(v.contains(l)||(l.appendChild(v),A=l),this._animate(o,v),i&&this._animate(b,i))}else if(i&&!i.animated&&i!==v&&void 0!==i.parentNode[I]){T!==i&&(T=i,k=s(i),B=s(i.parentNode));var h,b=i.getBoundingClientRect(),x=b.right-b.left,E=b.bottom-b.top,S=/left|right|inline/.test(k.cssFloat+k.display)||"flex"==B.display&&0===B["flex-direction"].indexOf("row"),_=i.offsetWidth>v.offsetWidth,L=i.offsetHeight>v.offsetHeight,U=(S?(e.clientX-b.left)/x:(e.clientY-b.top)/E)>.5,R=i.nextElementSibling,N=c(w,l,v,o,i,b);if(!1!==N){if(H=!0,setTimeout(p,30),t(m),1===N||-1===N)h=1===N;else if(S){var M=v.offsetTop,Q=i.offsetTop;h=M===Q?i.previousElementSibling===v&&!_||U&&_:Q>M}else h=R!==v&&!L||U&&L;v.contains(l)||(h&&!R?l.appendChild(v):i.parentNode.insertBefore(v,h?R:i)),A=v.parentNode,this._animate(o,v),this._animate(b,i)}}}},_animate:function(e,t){var a=this.options.animation;if(a){var i=t.getBoundingClientRect();s(t,"transition","none"),s(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,s(t,"transition","all "+a+"ms"),s(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){s(t,"transition",""),s(t,"transform",""),t.animated=!1},a)}},_offUpEvents:function(){var e=this.el.ownerDocument;n(Q,"touchmove",this._onTouchMove),n(e,"mouseup",this._onDrop),n(e,"touchend",this._onDrop),n(e,"touchcancel",this._onDrop)},_onDrop:function(t){var a=this.el,i=this.options;clearInterval(this._loopId),clearInterval(R.pid),clearTimeout(this._dragStartTimer),n(Q,"mousemove",this._onTouchMove),this.nativeDraggable&&(n(Q,"drop",this),n(a,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(P&&(t.preventDefault(),!i.dropBubble&&t.stopPropagation()),y&&y.parentNode.removeChild(y),v&&(this.nativeDraggable&&n(v,"dragend",this),f(v),l(v,this.options.ghostClass,!1),l(v,this.options.chosenClass,!1),w!==A?(_=g(v))>=0&&(d(null,A,"sort",v,w,S,_),d(this,w,"sort",v,w,S,_),d(null,A,"add",v,w,S,_),d(this,w,"remove",v,w,S,_)):($&&$.parentNode.removeChild($),v.nextSibling!==C&&(_=g(v))>=0&&(d(this,w,"update",v,w,S,_),d(this,w,"sort",v,w,S,_))),e.active&&((null===_||-1===_)&&(_=S),d(this,w,"end",v,w,S,_),this.save())),w=v=A=y=C=$=x=E=L=U=P=_=T=k=D=e.active=null)},handleEvent:function(e){var t=e.type;"dragover"===t||"dragenter"===t?v&&(this._onDragOver(e),i(e)):("drop"===t||"dragend"===t)&&this._onDrop(e)},toArray:function(){for(var e,t=[],i=this.el.children,o=0,n=i.length,l=this.options;n>o;o++)e=i[o],a(e,l.draggable,this.el)&&t.push(e.getAttribute(l.dataIdAttr)||m(e));return t},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,o){var n=i.children[o];a(n,this.options.draggable,i)&&(t[e]=n)},this),e.forEach(function(e){t[e]&&(i.removeChild(t[e]),i.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return a(e,t||this.options.draggable,this.el)},option:function(e,t){var a=this.options;return void 0===t?a[e]:(a[e]=t,void("group"===e&&z(a)))},destroy:function(){var e=this.el;e[I]=null,n(e,"mousedown",this._onTapStart),n(e,"touchstart",this._onTapStart),this.nativeDraggable&&(n(e,"dragover",this),n(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),j.splice(j.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},e.utils={on:o,off:n,css:s,find:r,is:function(e,t){return!!a(e,t,e)},extend:b,throttle:h,closest:a,toggleClass:l,index:g},e.create=function(t,a){return new e(t,a)},e.version="1.4.2",e}),Zepto.fn.flatpickr=function(e){return _flatpickr(this,e)},Zepto.fn.swapWith=function(e){return this.each(function(){var t=$(e).clone(!0),a=$(this).clone(!0);$(e).replaceWith(a),$(this).replaceWith(t)})},$(document).ready(function(){Ui.init()}),function(e,t){"use strict";function a(e,a,i,n,l){if("string"==typeof a)i=(a=$.txt2color(a)).type,u[i]=a[i],l=l!==t?l:a.alpha;else if(a)for(var s in a)e[i][s]="Lab"===i?c(a[s],f[i][s][0],f[i][s][1]):c(a[s]/f[i][s][1],0,1);return l!==t&&(e.alpha=c(+l,0,1)),o(i,n?e:t)}function i(e,t,a){var i=p.options.grey,o={};return o.RGB={r:e.r,g:e.g,b:e.b},o.rgb={r:t.r,g:t.g,b:t.b},o.alpha=a,o.equivalentGrey=b.round(i.r*e.r+i.g*e.g+i.b*e.b),o.rgbaMixBlack=r(t,{r:0,g:0,b:0},a,1),o.rgbaMixWhite=r(t,{r:1,g:1,b:1},a,1),o.rgbaMixBlack.luminance=s(o.rgbaMixBlack,!0),o.rgbaMixWhite.luminance=s(o.rgbaMixWhite,!0),p.options.customBG&&(o.rgbaMixCustom=r(t,p.options.customBG,a,1),o.rgbaMixCustom.luminance=s(o.rgbaMixCustom,!0),p.options.customBG.luminance=s(p.options.customBG,!0)),o}function o(e,t){var a,o,c,m=b,g=t||u,h=$,v=p.options,A=f,y=g.RND,w="",C="",x={hsl:"hsv",cmyk:"cmy",rgb:e},E=y.rgb;if("alpha"!==e){for(var T in A)if(!A[T][T]){e!==T&&"XYZ"!==T&&(C=x[T]||"rgb",g[T]=h[C+"2"+T](g[C])),y[T]||(y[T]={}),a=g[T];for(w in a)y[T][w]=m.round(a[w]*("Lab"===T?1:A[T][w][1]))}"Lab"!==e&&delete g._rgb,E=y.rgb,g.HEX=h.RGB2HEX(E),g.equivalentGrey=v.grey.r*g.rgb.r+v.grey.g*g.rgb.g+v.grey.b*g.rgb.b,g.webSave=o=n(E,51),g.webSmart=c=n(E,17),g.saveColor=E.r===o.r&&E.g===o.g&&E.b===o.b?"web save":E.r===c.r&&E.g===c.g&&E.b===c.b?"web smart":"",g.hueRGB=h.hue2RGB(g.hsv.h),t&&(g.background=i(E,g.rgb,g.alpha))}var k,B,S,_,D,L,U,P=g.rgb,R=g.alpha,N="luminance",I=g.background,M=r,Q=s,G=d,X=l;return k=M(P,{r:0,g:0,b:0},R,1),k[N]=Q(k,!0),g.rgbaMixBlack=k,B=M(P,{r:1,g:1,b:1},R,1),B[N]=Q(B,!0),g.rgbaMixWhite=B,v.allMixDetails&&(k.WCAG2Ratio=G(k[N],0),B.WCAG2Ratio=G(B[N],1),v.customBG&&(S=M(P,v.customBG,R,1),S[N]=Q(S,!0),S.WCAG2Ratio=G(S[N],v.customBG[N]),g.rgbaMixCustom=S),_=M(P,I.rgb,R,I.alpha),_[N]=Q(_,!0),g.rgbaMixBG=_,D=M(P,I.rgbaMixBlack,R,1),D[N]=Q(D,!0),D.WCAG2Ratio=G(D[N],I.rgbaMixBlack[N]),D.luminanceDelta=m.abs(D[N]-I.rgbaMixBlack[N]),D.hueDelta=X(I.rgbaMixBlack,D,!0),g.rgbaMixBGMixBlack=D,L=M(P,I.rgbaMixWhite,R,1),L[N]=Q(L,!0),L.WCAG2Ratio=G(L[N],I.rgbaMixWhite[N]),L.luminanceDelta=m.abs(L[N]-I.rgbaMixWhite[N]),L.hueDelta=X(I.rgbaMixWhite,L,!0),g.rgbaMixBGMixWhite=L),v.customBG&&(U=M(P,I.rgbaMixCustom,R,1),U[N]=Q(U,!0),U.WCAG2Ratio=G(U[N],I.rgbaMixCustom[N]),g.rgbaMixBGMixCustom=U,U.luminanceDelta=m.abs(U[N]-I.rgbaMixCustom[N]),U.hueDelta=X(I.rgbaMixCustom,U,!0)),g.RGBLuminance=Q(E),g.HUELuminance=Q(g.hueRGB),v.convertCallback&&v.convertCallback(g,e),g}function n(e,t){var a={},i=0,o=t/2;for(var n in e)i=e[n]%t,a[n]=e[n]+(i>o?t-i:-i);return a}function l(e,t,a){var i=b;return(i.max(e.r-t.r,t.r-e.r)+i.max(e.g-t.g,t.g-e.g)+i.max(e.b-t.b,t.b-e.b))*(a?255:1)/765}function s(e,t){for(var a=t?1:255,i=[e.r/a,e.g/a,e.b/a],o=p.options.luminance,n=i.length;n--;)i[n]=i[n]<=.03928?i[n]/12.92:b.pow((i[n]+.055)/1.055,2.4);return o.r*i[0]+o.g*i[1]+o.b*i[2]}function r(e,a,i,o){var n={},l=i!==t?i:1,s=o!==t?o:1,r=l+s*(1-l);for(var d in e)n[d]=(e[d]*l+a[d]*s*(1-l))/r;return n.a=r,n}function d(e,t){var a=1;return a=e>=t?(e+.05)/(t+.05):(t+.05)/(e+.05),b.round(100*a)/100}function c(e,t,a){return e>a?a:t>e?t:e}var f={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},cmy:{c:[0,100],m:[0,100],y:[0,100]},cmyk:{c:[0,100],m:[0,100],y:[0,100],k:[0,100]},Lab:{L:[0,100],a:[-128,127],b:[-128,127]},XYZ:{X:[0,100],Y:[0,100],Z:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},p={},u={},m={X:[.4124564,.3575761,.1804375],Y:[.2126729,.7151522,.072175],Z:[.0193339,.119192,.9503041],R:[3.2404542,-1.5371385,-.4985314],G:[-.969266,1.8760108,.041556],B:[.0556434,-.2040259,1.0572252]},g={r:.298954,g:.586434,b:.114612},h={r:.2126,g:.7152,b:.0722},b=e.Math,v=(e.parseInt,e.Colors=function(e){this.colors={RND:{}},this.options={color:"rgba(204, 82, 37, 0.8)",XYZMatrix:m,grey:g,luminance:h,valueRanges:f},A(this,e||{})}),A=function(e,i){var o,n,l=e.options;y(e);for(var s in i)i[s]!==t&&(l[s]=i[s]);o=l.XYZMatrix,i.XYZReference||(l.XYZReference={X:o.X[0]+o.X[1]+o.X[2],Y:o.Y[0]+o.Y[1]+o.Y[2],Z:o.Z[0]+o.Z[1]+o.Z[2]}),n=l.customBG,l.customBG="string"==typeof n?$.txt2color(n).rgb:n,u=a(e.colors,l.color,t,!0)},y=function(e){p!==e&&(p=e,u=e.colors)};v.prototype.setColor=function(e,i,n){return y(this),e?a(this.colors,e,i,t,n):(n!==t&&(this.colors.alpha=c(n,0,1)),o(i))},v.prototype.getColor=function(e){var a=this.colors,i=0;if(e){for(e=e.split(".");a[e[i]];)a=a[e[i++]];e.length!==i&&(a=t)}return a},v.prototype.setCustomBackground=function(e){return y(this),this.options.customBG="string"==typeof e?$.txt2color(e).rgb:e,a(this.colors,t,"rgb")},v.prototype.saveAsBackground=function(){return y(this),a(this.colors,t,"rgb",!0)},v.prototype.convertColor=function(e,t){var a=$,i=f,o=t.split("2"),n=o[0],l=o[1],s=/(?:RG|HS|CM|LA)/,r=s.test(n),d=s.test(l),c={LAB:"Lab"},p=function(e,t,a){var o={},n="Lab"===t?1:0;for(var l in e)o[l]=a?b.round(e[l]*(n||i[t][l][1])):e[l]/(n||i[t][l][1]);return o};return n=i[n]?n:c[n]||n.toLowerCase(),l=i[l]?l:c[l]||l.toLowerCase(),r&&"RGB2HEX"!==t&&(e=p(e,n)),e=n===l?e:a[n+"2"+l]?a[n+"2"+l](e,!0):"HEX"===l?a.RGB2HEX("RGB2HEX"===t?e:p("rgb"===n?e:a[n+"2rgb"](e,!0),"rgb",!0)):a["rgb2"+l](a[n+"2rgb"](e,!0),!0),d&&(e=p(e,l,!0)),e},v.prototype.toString=function(e,t){return $.color2text((e||"rgb").toLowerCase(),this.colors,t)};var $={txt2color:function(e){var t={},a=e.replace(/(?:#|\)|%)/g,"").split("("),i=(a[1]||"").split(/,\s*/),o=a[1]?a[0].substr(0,3):"rgb",n="";if(t.type=o,t[o]={},a[1])for(var l=3;l--;)n=o[l]||o.charAt(l),t[o][n]=+i[l]/f[o][n][1];else t.rgb=$.HEX2rgb(a[0]);return t.alpha=i[3]?+i[3]:1,t},color2text:function(e,t,a){var i=!1!==a&&b.round(100*t.alpha)/100,o="number"==typeof i&&!1!==a&&(a||1!==i),n=t.RND.rgb,l=t.RND.hsl,s="hex"===e&&o,r="hex"===e&&!s,d="rgb"===e||s?n.r+", "+n.g+", "+n.b:r?"#"+t.HEX:l.h+", "+l.s+"%, "+l.l+"%";return r?d:(s?"rgb":e)+(o?"a":"")+"("+d+(o?", "+i:"")+")"},RGB2HEX:function(e){return((e.r<16?"0":"")+e.r.toString(16)+(e.g<16?"0":"")+e.g.toString(16)+(e.b<16?"0":"")+e.b.toString(16)).toUpperCase()},HEX2rgb:function(e){return e=e.split(""),{r:+("0x"+e[0]+e[e[3]?1:0])/255,g:+("0x"+e[e[3]?2:1]+(e[3]||e[1]))/255,b:+("0x"+(e[4]||e[2])+(e[5]||e[2]))/255}},hue2RGB:function(e){var t=b,a=6*e,i=~~a%6,o=6===a?0:a-i;return{r:t.round(255*[1,1-o,0,0,o,1][i]),g:t.round(255*[o,1,1,1-o,0,0][i]),b:t.round(255*[0,0,o,1,1,1-o][i])}},rgb2hsv:function(e){var t,a,i,o=b,n=e.r,l=e.g,s=e.b,r=0;return s>l&&(l=s+(s=l,0),r=-1),a=s,l>n&&(n=l+(l=n,0),r=-2/6-r,a=o.min(l,s)),t=n-a,i=n?t/n:0,{h:1e-15>i?u&&u.hsl&&u.hsl.h||0:t?o.abs(r+(l-s)/(6*t)):0,s:n?t/n:u&&u.hsv&&u.hsv.s||0,v:n}},hsv2rgb:function(e){var t=6*e.h,a=e.s,i=e.v,o=~~t,n=t-o,l=i*(1-a),s=i*(1-n*a),r=i*(1-(1-n)*a),d=o%6;return{r:[i,s,l,l,r,i][d],g:[r,i,i,s,l,l][d],b:[l,l,r,i,i,s][d]}},hsv2hsl:function(e){var t=(2-e.s)*e.v,a=e.s*e.v;return a=e.s?1>t?t?a/t:0:a/(2-t):0,{h:e.h,s:e.v||a?a:u&&u.hsl&&u.hsl.s||0,l:t/2}},rgb2hsl:function(e,t){var a=$.rgb2hsv(e);return $.hsv2hsl(t?a:u.hsv=a)},hsl2rgb:function(e){var t=6*e.h,a=e.s,i=e.l,o=.5>i?i*(1+a):i+a-a*i,n=i+i-o,l=~~t,s=o*(o?(o-n)/o:0)*(t-l),r=n+s,d=o-s,c=l%6;return{r:[o,d,n,n,r,o][c],g:[r,o,o,d,n,n][c],b:[n,n,r,o,o,d][c]}},rgb2cmy:function(e){return{c:1-e.r,m:1-e.g,y:1-e.b}},cmy2cmyk:function(e){var t=b,a=t.min(t.min(e.c,e.m),e.y),i=1-a||1e-20;return{c:(e.c-a)/i,m:(e.m-a)/i,y:(e.y-a)/i,k:a}},cmyk2cmy:function(e){var t=e.k;return{c:e.c*(1-t)+t,m:e.m*(1-t)+t,y:e.y*(1-t)+t}},cmy2rgb:function(e){return{r:1-e.c,g:1-e.m,b:1-e.y}},rgb2cmyk:function(e,t){var a=$.rgb2cmy(e);return $.cmy2cmyk(t?a:u.cmy=a)},cmyk2rgb:function(e,t){var a=$.cmyk2cmy(e);return $.cmy2rgb(t?a:u.cmy=a)},XYZ2rgb:function(e,t){var a=b,i=p.options.XYZMatrix,o=e.X,n=e.Y,l=e.Z,s=o*i.R[0]+n*i.R[1]+l*i.R[2],r=o*i.G[0]+n*i.G[1]+l*i.G[2],d=o*i.B[0]+n*i.B[1]+l*i.B[2],f=1/2.4;return i=.0031308,s=s>i?1.055*a.pow(s,f)-.055:12.92*s,r=r>i?1.055*a.pow(r,f)-.055:12.92*r,d=d>i?1.055*a.pow(d,f)-.055:12.92*d,t||(u._rgb={r:s,g:r,b:d}),{r:c(s,0,1),g:c(r,0,1),b:c(d,0,1)}},rgb2XYZ:function(e){var t=b,a=p.options.XYZMatrix,i=e.r,o=e.g,n=e.b,l=.04045;return i=i>l?t.pow((i+.055)/1.055,2.4):i/12.92,o=o>l?t.pow((o+.055)/1.055,2.4):o/12.92,n=n>l?t.pow((n+.055)/1.055,2.4):n/12.92,{X:i*a.X[0]+o*a.X[1]+n*a.X[2],Y:i*a.Y[0]+o*a.Y[1]+n*a.Y[2],Z:i*a.Z[0]+o*a.Z[1]+n*a.Z[2]}},XYZ2Lab:function(e){var t=b,a=p.options.XYZReference,i=e.X/a.X,o=e.Y/a.Y,n=e.Z/a.Z,l=16/116,s=.008856,r=7.787037;return i=i>s?t.pow(i,1/3):r*i+l,o=o>s?t.pow(o,1/3):r*o+l,n=n>s?t.pow(n,1/3):r*n+l,{L:116*o-16,a:500*(i-o),b:200*(o-n)}},Lab2XYZ:function(e){var t=b,a=p.options.XYZReference,i=(e.L+16)/116,o=e.a/500+i,n=i-e.b/200,l=t.pow(o,3),s=t.pow(i,3),r=t.pow(n,3),d=16/116,c=.008856,f=7.787037;return{X:(l>c?l:(o-d)/f)*a.X,Y:(s>c?s:(i-d)/f)*a.Y,Z:(r>c?r:(n-d)/f)*a.Z}},rgb2Lab:function(e,t){var a=$.rgb2XYZ(e);return $.XYZ2Lab(t?a:u.XYZ=a)},Lab2rgb:function(e,t){var a=$.Lab2XYZ(e);return $.XYZ2rgb(t?a:u.XYZ=a,t)}}}(window),function(e){"use strict";var t='^§app alpha-bg-w">^§slds">^§sldl-1">$^§sldl-2">$^§sldl-3">$^§curm">$^§sldr-1">$^§sldr-2">$^§sldr-4">$^§curl">$^§curr">$$^§opacity">|^§opacity-slider">$$$^§memo">^§raster">$^§raster-bg">$|$|$|$|$|$|$|$|$^§memo-store">$^§memo-cursor">$$^§panel">^§hsv">^hsl-mode §ß">$^hsv-h-ß §ß">H$^hsv-h-~ §~">-^§nsarrow">$$^hsl-h-@ §@">H$^hsv-s-ß §ß">S$^hsv-s-~ §~">-$^hsl-s-@ §@">S$^hsv-v-ß §ß">B$^hsv-v-~ §~">-$^hsl-l-@ §@">L$$^§hsl §hide">^hsv-mode §ß">$^hsl-h-ß §ß">H$^hsl-h-~ §~">-$^hsv-h-@ §@">H$^hsl-s-ß §ß">S$^hsl-s-~ §~">-$^hsv-s-@ §@">S$^hsl-l-ß §ß">L$^hsl-l-~ §~">-$^hsv-v-@ §@">B$$^§rgb">^rgb-r-ß §ß">R$^rgb-r-~ §~">-$^rgb-r-@ §ß">&nbsp;$^rgb-g-ß §ß">G$^rgb-g-~ §~">-$^rgb-g-@ §ß">&nbsp;$^rgb-b-ß §ß">B$^rgb-b-~ §~">-$^rgb-b-@ §ß">&nbsp;$$^§cmyk">^Lab-mode §ß">$^cmyk-c-ß §@">C$^cmyk-c-~ §~">-$^Lab-L-@ §@">L$^cmyk-m-ß §@">M$^cmyk-m-~ §~">-$^Lab-a-@ §@">a$^cmyk-y-ß §@">Y$^cmyk-y-~ §~">-$^Lab-b-@ §@">b$^cmyk-k-ß §@">K$^cmyk-k-~ §~">-$^Lab-x-@ §ß">&nbsp;$$^§Lab §hide">^cmyk-mode §ß">$^Lab-L-ß §@">L$^Lab-L-~ §~">-$^cmyk-c-@ §@">C$^Lab-a-ß §@">a$^Lab-a-~ §~">-$^cmyk-m-@ §@">M$^Lab-b-ß §@">b$^Lab-b-~ §~">-$^cmyk-y-@ §@">Y$^Lab-x-ß §@">&nbsp;$^Lab-x-~ §~">-$^cmyk-k-@ §@">K$$^§alpha">^alpha-ß §ß">A$^alpha-~ §~">-$^alpha-@ §ß">W$$^§HEX">^HEX-ß §ß">#$^HEX-~ §~">-$^HEX-@ §ß">M$$^§ctrl">^§raster">$^§cont">$^§cold">$^§col1">|&nbsp;$$^§col2">|&nbsp;$$^§bres">RESET$^§bsav">SAVE$$$^§exit">$^§resize">$^§resizer">|$$$'.replace(/\^/g,'<div class="').replace(/\$/g,"</div>").replace(/~/g,"disp").replace(/ß/g,"butt").replace(/@/g,"labl").replace(/\|/g,"<div>"),a="är^1,äg^1,äb^1,öh^1,öh?1,öh?2,ös?1,öv?1,üh^1,üh?1,üh?2,üs?1,ül?1,.no-rgb-r är?2,.no-rgb-r är?3,.no-rgb-r är?4,.no-rgb-g äg?2,.no-rgb-g äg?3,.no-rgb-g äg?4,.no-rgb-b äb?2,.no-rgb-b äb?3,.no-rgb-b äb?4{visibility:hidden}är^2,är^3,äg^2,äg^3,äb^2,äb^3{@-image:url(_patches.png)}.§slds div{@-image:url(_vertical.png)}öh^2,ös^1,öv^1,üh^2,üs^1,ül^1{@-image:url(_horizontal.png)}ös?4,öv^3,üs?4,ül^3{@:#000}üs?3,ül^4{@:#fff}är?1{@-color:#f00}äg?1{@-color:#0f0}äb?1{@-color:#00f}är^2{@|-1664px 0}är^3{@|-896px 0}är?1,äg?1,äb?1,öh^3,ös^2,öv?2Ü-2432Öär?2Ü-2944Öär?3Ü-4480Öär?4Ü-3202Öäg^2Äöh^2{@|-640px 0}äg^3{@|-384px 0}äg?2Ü-4736Öäg?3Ü-3968Öäg?4Ü-3712Öäb^2{@|-1152px 0}äb^3{@|-1408px 0}äb?2Ü-3456Öäb?3Ü-4224Öäb?4Ü-2688Ööh^2Äär^3Ääb?4Ü0}öh?4,üh?4Ü-1664Öös^1,öv^1,üs^1,ül^1Ääg^3{@|-256px 0}ös^3,öv?4,üs^3,ül?4Ü-2176Öös?2,öv^2Ü-1920Öüh^2{@|-768px 0}üh^3,üs^2,ül?2Ü-5184Öüs?2,ül^2Ü-5824Ö.S är^2{@|-128px -128Ö.S är?1Ääg?1Ääb?1Äöh^3Äös^2Äöv?2Ü-1408Ö.S är?2Ääb^3Ü-128Ö.S är?3Ü-896Ö.S är?4Ü-256Ö.S äg^2{@|-256px -128Ö.S äg?2Ü-1024Ö.S äg?3Ü-640Ö.S äg?4Ü-512Ö.S äb^2{@|-128px 0}.S äb?2Ü-384Ö.S äb?3Ü-768Ö.S öh?4Äüh?4Ü-1536Ö.S ös^1Äöv^1Äüs^1Äül^1{@|-512px 0}.S ös^3Äöv?4Äüs^3Äül?4Ü-1280Ö.S ös?2Äöv^2Ü-1152Ö.S üh^2{@|-1024px 0}.S üh^3Äüs^2Äül?2Ü-5440Ö.S üs?2Äül^2Ü-5696Ö.XXS ös^2,.XXS öv?2Ü-5120Ö.XXS ös^3,.XXS öv?4,.XXS üs^3,.XXS ül^3,.XXS ül?4Ü-5056Ö.XXS ös?2,.XXS öv^2Ü-4992Ö.XXS üs^2,.XXS ül?2Ü-5568Ö.XXS üs?2,.XXS ül^2Ü-5632Ö".replace(/Ü/g,"{@|0 ").replace(/Ö/g,"px}").replace(/Ä/g,",.S ").replace(/\|/g,"-position:").replace(/@/g,"background").replace(/ü/g,".hsl-").replace(/ö/g,".hsv-").replace(/ä/g,".rgb-").replace(/~/g," .no-rgb-}").replace(/\?/g," .§sldr-").replace(/\^/g," .§sldl-"),i='∑{@#bbb;font-family:monospace, "Courier New", Courier, mono;font-size:12¥line-ä15¥font-weight:bold;cursor:default;~412¥ä323¥?top-left-radius:7¥?top-Ü-radius:7¥?bottom-Ü-radius:7¥?bottom-left-radius:7¥ö@#444}.S{~266¥ä177px}.XS{~158¥ä173px}.XXS{ä105¥~154px}.no-alpha{ä308px}.no-alpha .§opacity,.no-alpha .§alpha{display:none}.S.no-alpha{ä162px}.XS.no-alpha{ä158px}.XXS.no-alpha{ä90px}∑,∑ div{border:none;padding:0¥float:none;margin:0¥outline:none;box-sizing:content-box}∑ div{|absolute}^s .§curm,«§disp,«§nsarrow,∑ .§exit,∑ ø-cursor,∑ .§resize{öimage:url(_icons.png)}∑ .do-drag div{cursor:none}∑ .§opacity,ø .§raster-bg,∑ .§raster{öimage:url(_bgs.png)}∑ ^s{~287¥ä256¥top:10¥left:10¥overflow:hidden;cursor:crosshair}.S ^s{~143¥ä128¥left:9¥top:9px}.XS ^s{left:7¥top:7px}.XXS ^s{left:5¥top:5px}^s div{~256¥ä256¥left:0px}.S ^l-1,.S ^l-2,.S ^l-3,.S ^l-4{~128¥ä128px}.XXS ^s,.XXS ^s ^l-1,.XXS ^s ^l-2,.XXS ^s ^l-3,.XXS ^s ^l-4{ä64px}^s ^r-1,^s ^r-2,^s ^r-3,^s ^r-4{~31¥left:256¥cursor:default}.S ^r-1,.S ^r-2,.S ^r-3,.S ^r-4{~15¥ä128¥left:128px}^s .§curm{margin:-5¥~11¥ä11¥ö|-36px -30px}.light .§curm{ö|-7px -30px}^s .§curl,^s .§curr{~0¥ä0¥margin:-3px -4¥border:4px solid;cursor:default;left:auto;öimage:none}^s .§curl,∑ ^s .§curl-dark,.hue-dark div.§curl{Ü:27¥?@† † † #fff}.light .§curl,∑ ^s .§curl-light,.hue-light .§curl{?@† † † #000}.S ^s .§curl,.S ^s .§curr{?~3px}.S ^s .§curl-light,.S ^s .§curl{Ü:13px}^s .§curr,∑ ^s .§curr-dark{Ü:4¥?@† #fff † †}.light .§curr,∑ ^s .§curr-light{?@† #000 † †}∑ .§opacity{bottom:44¥left:10¥ä10¥~287¥ö|0 -87px}.S .§opacity{bottom:27¥left:9¥~143¥ö|0 -100px}.XS .§opacity{left:7¥bottom:25px}.XXS .§opacity{left:5¥bottom:23px}.§opacity div{~100%;ä16¥margin-top:-3¥overflow:hidden}.§opacity .§opacity-slider{margin:0 -4¥~0¥ä8¥?~4¥?style:solid;?@#eee †}∑ ø{bottom:10¥left:10¥~288¥ä31¥ö@#fff}.S ø{ä15¥~144¥left:9¥bottom:9px}.XS ø{left:7¥bottom:7px}.XXS ø{left:5¥bottom:5px}ø div{|relative;float:left;~31¥ä31¥margin-Ü:1px}.S ø div{~15¥ä15px}∑ .§raster,ø .§raster-bg,.S ø .§raster,.S ø .§raster-bg{|absolute;top:0¥Ü:0¥bottom:0¥left:0¥~100%}.S ø .§raster-bg{ö|0 -31px}∑ .§raster{opacity:0.2;ö|0 -49px}.alpha-bg-b ø{ö@#333}.alpha-bg-b .§raster{opacity:1}ø ø-cursor{|absolute;Ü:0¥ö|-26px -87px}∑ .light ø-cursor{ö|3px -87px}.S ø-cursor{ö|-34px -95px}.S .light ø-cursor{ö|-5px -95px}∑ .§panel{|absolute;top:10¥Ü:10¥bottom:10¥~94¥?~1¥?style:solid;?@#222 #555 #555 #222;overflow:hidden;ö@#333}.S .§panel{top:9¥Ü:9¥bottom:9px}.XS .§panel{display:none}.§panel div{|relative}«§hsv,«§hsl,«§rgb,«§cmyk,«§Lab,«§alpha,.no-alpha «§HEX,«§HEX{~86¥margin:-1px 0px 1px 4¥padding:1px 0px 3¥?top-~1¥?top-style:solid;?top-@#444;?bottom-~1¥?bottom-style:solid;?bottom-@#222;float:Ö«§hsv,«§hsl{padding-top:2px}.S .§hsv,.S .§hsl{padding-top:1px}«§HEX{?bottom-style:none;?top-~0¥margin-top:-4¥padding-top:0px}.no-alpha «§HEX{?bottom-style:none}«§alpha{?bottom-style:none}.S .rgb-r .§hsv,.S .rgb-g .§hsv,.S .rgb-b .§hsv,.S .rgb-r .§hsl,.S .rgb-g .§hsl,.S .rgb-b .§hsl,.S .hsv-h .§rgb,.S .hsv-s .§rgb,.S .hsv-v .§rgb,.S .hsl-h .§rgb,.S .hsl-s .§rgb,.S .hsl-l .§rgb,.S .§cmyk,.S .§Lab{display:none}«§butt,«§labl{float:left;~14¥ä14¥margin-top:2¥text-align:center;border:1px solid}«§butt{?@#555 #222 #222 #555}«§butt:active{ö@#444}«§labl{?@†}«Lab-mode,«cmyk-mode,«hsv-mode,«hsl-mode{|absolute;Ü:0¥top:1¥ä50px}«hsv-mode,«hsl-mode{top:2px}«cmyk-mode{ä68px}.hsl-h .hsl-h-labl,.hsl-s .hsl-s-labl,.hsl-l .hsl-l-labl,.hsv-h .hsv-h-labl,.hsv-s .hsv-s-labl,.hsv-v .hsv-v-labl{@#f90}«cmyk-mode,«hsv-mode,.rgb-r .rgb-r-butt,.rgb-g .rgb-g-butt,.rgb-b .rgb-b-butt,.hsv-h .hsv-h-butt,.hsv-s .hsv-s-butt,.hsv-v .hsv-v-butt,.hsl-h .hsl-h-butt,.hsl-s .hsl-s-butt,.hsl-l .hsl-l-butt,«rgb-r-labl,«rgb-g-labl,«rgb-b-labl,«alpha-butt,«HEX-butt,«Lab-x-labl{?@#222 #555 #555 #222;ö@#444}.no-rgb-r .rgb-r-labl,.no-rgb-g .rgb-g-labl,.no-rgb-b .rgb-b-labl,.mute-alpha .alpha-butt,.no-HEX .HEX-butt,.cmy-only .Lab-x-labl{?@#555 #222 #222 #555;ö@#333}.Lab-x-disp,.cmy-only .cmyk-k-disp,.cmy-only .cmyk-k-butt{visibility:hidden}«HEX-disp{öimage:none}«§disp{float:left;~48¥ä14¥margin:2px 2px 0¥cursor:text;text-align:left;text-indent:3¥?~1¥?style:solid;?@#222 #555 #555 #222}∑ .§nsarrow{|absolute;top:0¥left:-13¥~8¥ä16¥display:none;ö|-87px -23px}∑ .start-change .§nsarrow{display:block}∑ .do-change .§nsarrow{display:block;ö|-87px -36px}.do-change .§disp{cursor:default}«§hide{display:none}«§cont,«§cold{|absolute;top:-5¥left:0¥ä3¥border:1px solid #333}«§cold{z-index:1;ö@#c00}«§cont{margin-Ü:-1¥z-index:2}«contrast .§cont{z-index:1;ö@#ccc}«orange .§cold{ö@#f90}«green .§cold{ö@#4d0}«§ctrl{|absolute;bottom:0¥left:0¥~100%;ö@#fff}.alpha-bg-b .§ctrl,«§bres,«§bsav{ö@#333}«§col1,«§col2,«§bres,«§bsav{?~1¥?style:solid;?@#555 #222 #222 #555;float:left;~45¥line-ä28¥text-align:center;top:0px}.§panel div div{ä100%}.S .§ctrl div{line-ä25px}.S «§bres,.S «§bsav{line-ä26px}∑ .§exit,∑ .§resize{Ü:3¥top:3¥~15¥ä15¥ö|0 -52px}∑ .§resize{top:auto;bottom:3¥cursor:nwse-resize;ö|-15px -52px}.S .§exit{ö|1px -52px}.XS .§resize,.XS .§exit{~10¥ä10¥Ü:0¥öimage:none}.XS .§exit{top:0px}.XS .§resize{bottom:0px}∑ .§resizer,∑ .§resizer div{|absolute;border:1px solid #888;top:-1¥Ü:-1¥bottom:-1¥left:-1¥z-index:2;display:none;cursor:nwse-resize}∑ .§resizer div{border:1px dashed #333;opacity:0.3;display:block;ö@#bbb}'.replace(/Ü/g,"right").replace(/Ö/g,"left}").replace(/∑/g,".§app").replace(/«/g,".§panel .").replace(/¥/g,"px;").replace(/\|/g,"position:").replace(/@/g,"color:").replace(/ö/g,"background-").replace(/ä/g,"height:").replace(/ø/g,".§memo").replace(/†/g,"transparent").replace(/\~/g,"width:").replace(/\?/g,"border-").replace(/\^/g,".§sld"),o="iVBORw0KGgo^NSUhEUgAAB4^EACAI#DdoPxz#L0UlEQVR4Xu3cQWrDQBREwR7FF8/BPR3wXktnQL+KvxfypuEhvLJXcp06d/bXd71OPt+trIw95zr33Z1bk1/fudEv79wa++7OfayZ59wrO2PBzklcGQmAZggAAOBYgAYBmpWRAGg^BGgRofAENgAAN#I0CBA6w8AG^ECABgEa/QH§AI0CNDoDwAY^QIAGAVp/AM§AjQI0OgPAAY^QoEGARn8Aw§CNAjQ+gMABg#BCgQYCmGQmABgAAEKBBgEZ/AM§AjQI0PoDAAY^QoEGARn8AM^IAADQI0+gMABg#BCgQYDWHwAw^gAANAjT6A4AB^BGgQoNEfAD^C#0CtP4AgAE^EaBCgaUYCoAE#RoEKDRHwAw^gAANArT+AIAB^BGgQoNEfAAw^gQIMAjf4AgAE^EaBCg9QcAD^CBAgwCN/gBg§EaBGj0BwAM^IECDAK0/AG§ARoEaJqRAGg^BGgRo9AcAD^CBAgwCtPwBg§EaBGj0BwAD^CNAgQKM/AG§ARoEaP0BAAM^I0CBAoz8AG^ECABgEa/QEAAw^jQIEDrDwAY^QIAGAZpmJACaBw^RoEKD1BwAM^IECDAK0/AG§ARoEaPQHAAw^gQIMArT8AY§BGgRo/QEAAw^jQIECjPwBg§EaBGj9AQAD^CNAgQOsPABg#BAgAYBGv0BAANwCwAAGB6gYeckmpEAa^AEaBGj0BwAM^IECDAK0/AG§ARoEaPQHAAM^I0CBAoz8AY§BGgRo/QEAAw^jQIECjPwAY^QIAGARr9AQAD^CNAgQOsPABg#BAgAYBmmYkABoAAECABgEa/QEAAw^jQIEDrDwAY^QIAGARr9Ac§AjQI0OgPABg#BAgAYBWn8Aw§CNAjQ6A8ABg#BCgQYBGfwD§AI0CND6AwAG^EKBBgKYZCYAG#QoEGARn8Aw§CNAjQ+gMABg#BCgQYBGfwAw^gAANAjT6AwAG^EKBBgNYfAD^C#0CNPoDgAE^EaBCg0R8AM^IAADQK0/gCAAQ^RoEKBpRgKgAQAABGgQoNEfAD^C#0CtP4AgAE^EaBCg0R8AD^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAI3+AG§ARoEaPQHAAw^gQIMArT8AY§BGgRomsMAM^IAADQK0/gCAAQ^RoEKDRHwAw^gAANO7fQHwAw^gAANArT+AIAB^BGgQoNEfAGg^BGgRo9AcAD^CBAgwCtPwBg§EaBGj0BwAD^RIB+Ntg5iea5AD^DAIwI0CND6AwAG^EKBBgEZ/AKAB#EaBCg0R8AM^IAADQK0/gCAAQ^RoEKDRHwAM^IECDAI3+AIAB^BGgQoPUHAAw^gQIMAjf4AY§BGgRo9AcAD^CBAgwCtPwBg§EaBGiakQBo^ARoEaPQHAAw^gQIMArT8AY§BGgRo9AcAAw^jQIECjPwBg§EaBGj9AQAD^CNAgQKM/ABg#BAgAYBGv0BAAM^I0CBA6w8AG^ECABgGaZiQAGgAAQIAGARr9AQAD^CNAgQOsPABg#BAgAYBGv0Bw§CNAjQ6A8AG^ECABgFafwD§AI0CNDoDwAG^EKBBgEZ/AM§AjQI0PoDAAY^QoEGApjkMAAM^I0CBA6w8AG^ECABgEa/QEAAw^jQsIP+AIAB^BGgQoPUHAAw^gQIMAjf4AgAE#Bea/fK+3P5/3PJOvh8t1cO4nflmQAQoAEAAF9Aw/7JHfQHAAw^gQIMArT8AY§BGvwHNPoDAA0AACBAgwCN/gCAAQ^RoEKD1BwAM^IECDAI3+AG§ARoEaPQHAAw^gQIMArT8AY§BGgRo9AcAAw^jQIECjPwBg§EaBGj9AQAD^CNAgQNOMBEAD#I0CBAoz8AY§BGgRo/QEAAw^jQIECjPwAY^QIAGARr9AQAD^CNAgQOsPABg#BAgAYBGv0Bw§CNAjQ6A8AG^ECABgFafwD§AI0CNA0IwHQ^AjQI0OgPABg#BAgAYBWn8Aw§CNAjQ6A8ABg#BCgQYBGfwD§AI0CND6AwAG^EKBBgEZ/AD^C#0CNPoDAAY^QoEGA1h8AM^IAADQI0DQAG^EKBBgEZ/AM§AjQI0PoDAAY^QoEGA1h8AM^IAADQI0+gMABg#BCgQYDWHwAw^gAANArT+AIAB^BGgQoNEfAD^C#0CtP4AgAE^EaBCg9QcAD^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAK0/AG§ARoEaPQHAAw^gQIMArT8AY§BGgRo/QEAAw^jQIECjPwBgACDhFgC#07t9AfAD^C#0CtP4AgAE^EaBCg0R8Aa^AEaBGj0BwAM^IECDAK0/AG§ARoEaPQHAAM^I0CBAoz8AY§BGgRo/QEAAw^jQIECjPwAY^QIAGARr9AQAD^CNAgQOsPABg#BAgAYBmmYkABoAAECABgEa/QEAAw^jQIEDrDwAY^QIAGARr9Ac§AjQI0OgPABg#BAgAYBWn8Aw§CNAjQ6A8ABg#BCgQYBGfwD§AI0CND6AwAG^EKBBgKYZCYAG#QoEGARn8Aw§CNAjQ+gMABg#BCgQYBGfwAw^gAANAjT6AwAG^EKBBgNYfAD^C#0CNPoDgAE^EaBCg0R8AM^IAADQK0/gCAAQ^RoEKBpRgKgAQAABGgQoNEfAD^C#0CtP4AgAE^EaBCg0R8AD^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAI3+AG§ARoEaPQHAAw^gQIMArT8AY§BGgRommEAM^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAI3+AIAB^ARoEaPQHAAw^gQIMArT8AY§BGgRo9AcAGgAAQICGCNBfRfNcABg#BgeICGnVvoDwAY^QIAGAVp/AM§AjQI0OgPADQAAIAADQI0+gMABg#BCgQYDWHwAw^gAANAjT6A4AB^BGgQoNEfAD^C#0CtP4AgAE^EaBCg0R8AD^CBAgwCN/gCAAQ^RoEKD1BwAM^IECDAE0zEgAN#gQIMAjf4AgAE^EaBCg9QcAD^CBAgwCN/gBg§EaBGj0BwAM^IECDAK0/AG§ARoEaPQHAAM^I0CBAoz8AY§BGgRo/QEAAw^jQIEDTjARAAwAACNAgQKM/AG§ARoEaP0BAAM^I0CBAoz8AG^ECABgEa/QEAAw^jQIEDrDwAY^QIAGARr9Ac§AjQI0OgPABg#BAgAYBWn8Aw§CNAjQNIcBY§BGgRo/QEAAw^jQIECjPwBg§EadtAfAD^C#0CtP4AgAE^EaBCgAQABGgAA+AO2TAbHupOgH^ABJRU5ErkJggg==".replace(/§/g,"AAAAAA").replace(/\^/g,"AAAA").replace(/#/g,"AAA");e.ColorPicker={_html:t,_cssFunc:a,_cssMain:i,_horizontalPng:"iVBORw0KGgoAAAANSUhEUgAABIAAAAABCAYAAACmC9U0AAABT0lEQVR4Xu2S3Y6CMBCFhyqIsjGBO1/B9/F5DC/pK3DHhVkUgc7Zqus2DVlGU/cnQZKTjznttNPJBABA149HyRf1iN//4mIBCg0jV4In+j9xJiuihly1V/Z9X88v//kNeDXVvyO/lK+IPR76B019+1Riab3H1zkmeqerKnL+Bzwxx6PAgZxaSQU8vB62T28pxcQeRQ2sHw6GxCOWHvP78zwHAARBABOfdYtd30rwxXOEPDF+dj2+91r6vV/id3k+/brrXmaGUkqKhX3i+ffSt16HQ/dorTGZTHrs7ev7Tl7XdZhOpzc651nfsm1bRFF0YRiGaJoGs9nsQuN/xafTCXEco65rzOdzHI9HJEmCqqqwXC6x3++RZRnKssRqtUJRFFiv19jtdthutyAi5Hl+Jo9VZg7+7f3yXuvZf5c3KaXYzByb+WIzO5ymKW82G/0BNcFhO/tOuuMAAAAASUVORK5CYII=",_verticalPng:"iVBORw0KGgoAAAANSUhEUgAAAAEAABfACAYAAABn2KvYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABHtJREFUeNrtnN9SqzAQxpOF1to6zuiVvoI+j6/gva/lA/kKeqUzjtX+QTi7SzSYBg49xdIzfL34+e1usoQQklCnmLwoCjImNwDQA2xRGMqNAYB+gPEH9IdCgIUA6Aem0P1fLoMQAPYNHYDoCKAv8OMHFgKgX2AjDPQDXn4t1l+gt/1fId//yWgE/hUJ+mAn8EyY5wCwXxhrbaHzn8E9iPlv79DdHxXTqciZ4KROnXRVZMF/6U2OPhcEavtAbZH1SM7wRDD7VoHZItCiyEQf4t6+MW9UOxaZybmdCGKqNrB9Eb5SfMg3wTyiagMtigTmWofiSDCOYNTSNz6sLDIoaCU9GWDd0tdhoMMsRm+r8U/EfB0GfjmLXiqzimDd0tdhoLMsI7la45+I+ToM/HIW0kfGVQTrlr7tA91kaUr//fxrKo8jUFB7VAn6AKpHJf+EKwAAAIYD/f7F7/8MVgMo7P+gBqDKr57Lf72V8x8AAMDgYIuvH4EAAAAMDQX6AACAQcI9GGMjDADA4MA/P2KlP8IEAAAYFCz6AACAgaLA8y8AAIN+CMYXoQAADA7u/UPYCAMAMDjI7z9S+SdwDFQX2C9Gh9GMEOWriz8/Pw1lWQZsi/L3R4czzP678Ve+P8f9nCv/C7hwLq99ah8NfKrU15zPB5pVcwtiJt9qGy0IfEE+jQa+Fn0VtI/fkxUPqBlEfRENeF+tqUpbGpi1iu8epwJzvV5XA4GpWC6XGz7F+/u766EgwJ+ckiTJKU3TnI6OjnI6OzvLZf6zMggt3dzckPhIoiTlSGpQ+eEsVegdz0fbCCi4fRs+Po+4yWdeDXiT+6pBSTeHple1pkz3FZ+avpyavoiPxgLN0B7yprY08PlyQTTm0+PWmkH7ynedNKraar4F/lRj1WpTtYh+ozL/cY2sAvZl0gcbZm0gSLBLvkxGoaogiy/HDXemQk2t5pUm8OAhH8/HH6e0mkJ9q9XKKQXfb07xfZnJbZrRxcVFVt6/t7e3Kc1ms5RGo1Eq5VIZuyl9fHw4k/M5xYeoKj64A7eqCt1ZeqWFVSl8NV9OTV3fmvP5qE9VmzSoEcsXpArK1UHen/hZbgL53BZSdyEXalGau/hU8TEW0u3VcoFPy3EDFrTgT+njydeZ0+l0UV7fu7u7iVzziQQmUm4iqRw4n/NxMxw4s/Mp1NSALxf4NEtQ10cjMDwSl+b+/j6hp6enVGb+jUvrn05iKobm6PboOt8vPISY5Pr6OqGXlxe3fOokoGtAbMUJZmqvYmaLQDP+sdrecOjtO/SXeH69P8Imutm5urqy9PDwYOny8tLS4+OjpfPzc0vPz8+WTk9PLb2+vlpZbCzN53NLx8fHVtYZS5PJxMoEZWWqsjKULY3HYytTi1Pex5OMldXKRVXxuLcy/20onmms3BBOxcr5qCrZtsrd45SPel8sGlOxGoGy0neynQ6VL9fsa1YtWlCrtj9G83G7PjdVush5n5q1iJWLZW6u21a1bUvbVnVzlru0pe3RdmlV1/23fZtbZv4Dx+7FBypx77kAAAAASUVORK5CYII=",_patchesPng:o,_iconsPng:"iVBORw0KGgoAAAANSUhEUgAAAGEAAABDCAMAAAC7vJusAAAAkFBMVEUAAAAvLy9ERERubm7///8AAAD///9EREREREREREREREQAAAD///8AAAD///8AAAD///8AAAD///8AAAD///8AAAD///8AAAD///8AAAD///8AAAD///8cHBwkJCQnJycoKCgpKSkqKiouLi4vLy8/Pz9AQEBCQkJDQ0NdXV1ubm58fHykpKRERERVVVUzMzPx7Ab+AAAAHXRSTlMAAAAAAAQEBQ4QGR4eIyMtLUVFVVVqapKSnJy7u9JKTggAAAFUSURBVHja7dXbUoMwEAbgSICqLYeW88F6KIogqe//dpoYZ0W4AXbv8g9TwkxmvtndZMrEwlw/F8YIRjCCEYxgBCOsFmzqGMEI28J5zzmt0Pc9rdDL0NYgMxIYC5KiKpKAzZphWtZlGm4SjlnkOV6UHeeEUx77rh/npw1dCrI9k9lnwUwF+UG9D3m4ftJJxH4SJdPtaawXcbr+tBaeFrxiur309cIv19+4ytGCU0031a5euPVigLYGqjlAqM4ShOQ+QAYQUO80AMMAAkUGGfMfR9Ul+kmvPq2QGxXKOQBAKdjUgk0t2NiCGEVP+rHT3/iCUMBT90YrPMsKsIWP3x/VolaonJEETchHCS8AYAmaUICQQwaAQnjoXgHAES7jLkEFaHO4bdq/k25HAIpgWY34FwAE5xjCffM+D2DV8B0gRsAZT7hr5gE8wdrJcU+CJqhcqQD7Cx5L7Ph4WnrKAAAAAElFTkSuQmCC",_bgsPng:"iVBORw0KGgoAAAANSUhEUgAAASAAAABvCAYAAABM+h2NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABORJREFUeNrs3VtTW1UYBuCEcxAI4YydWqTWdqr1V7T/2QsvvPDCCy9qjxZbamsrhZIQUHsCEtfafpmJe8qFjpUxfZ4Zuvt2feydJvAOARZUut1u5bRerl692nV913f99/f6QxWAU6KAAAUEKCAABQQoIAAFBCggAAUEKCAABQQoIAAFBCggAAUEKCAABQQoIEABASggQAEBKCBAAQEoIEABASggQAEBKCBAAQEoIGBQC+jatWvd07zxrv9+Xx8fAQEoIEABASggQAEBKCBAAQEoIEABAQoIQAEBCghAAQEKCEABAQOk2u36kS6AAgLetwJKL29toFRM1be+QrVq3rx58//KvM8BAadGAQEKCFBAAAoIGHwnfhneZ+/Nmzf/LufzrI+AAE/BAAUEoIAABQTwztgLZt68eXvBAE/BABQQoIAAFBAweOwFM2/evL1ggKdgAAoIUEAACggYPPaCmTdv3l4wwFMwAAUEKCAABQQMHnvBzJs3by8Y4CkYgAICFBCAAgIGz4lfBQNQQMDgFlCtVisaaHV1tThubW1VInciD0U+ysdnz54N5+PKysphOnRTHsvHlN9EHo/1l5FrkV9Enoz8W87b29tTOS8vLx9EnoncjlyPvBe5EbkZeT4fU96NvBDr2znv7Ows57y0tLQVeSXy08gf5mNfPhPrjyOfrVarlcXFxZ9yfv78+bl8TPlh5LU8n/KDyOuxfj/y+VjfyHl3d/dCKv28fi/yp/m4sLDwQ+SLke9GvhT5Tinfjnw5f4/F/Pz8rZybzeZn+ZjyzVK+EfnzUr4S+Xopf9/L+fxzc3M5d1qt1hf531Mu5k/IxzGf85VYL+fefHH+RqNRrO/t7RW3L+UbkS9Hvhk5/386Kd/qW8/5duRLMV/OdyJfzNebnZ0t7t92u53v/07K9yJfiLwROT9+ef7HyOux/iDyWuSHkT+K+eLtZX9//2xer9frjyOfyY9/Wn8S86v59qT1p7Ge315zLt4RU16K19+O9YXIu5HnYn435hux3opcj9yOPB3z+5E/iPXf43y1yMX778HBQS3f3pTz+28l5bHIr2N+LN3+zszMzGHkoh/S+mHMF98XlNaP8zHd/0W/pMe943NAwKlSQIACAhQQgAICFBCAAgIUEIACAhQQgAIC/n9GqtXqYbfbHa38+RtSu32llPdqdNL6aOSj+LfxyMVekLTem39Ryr/mPDQ0NBznzXtROikPRW6W8k7k3m9rzXthOsPDw73bUuylGRkZ6cR63nvTSfko8oPIr+Pnz96P/DLW816ezujoaN6DdtyX9+P8eS9QZ2xs7Hxf7qa8Xlr/JO6Ljcjrcf6cj1P+OO+N6V1/fHz8XLz+/Tjfubh+sZcorZ+N9Ycxfybyo8ircf6fc56YmFiJ1/8l8mLk7cjzkfP92U15Ns63G+u9nPcKdWq12lQ8Xu3Ixd6f9Pd8P3UmJycnUszzL2N9LM7/anNzs9V7Q2q32395w/q7ubdH6L/KrVbrpPxlKX9Vyl+X8jel/G0pf5f/aDabvXy9tH6ztH63lDdKebOUH5Xyk1LeKuWd/ry2tlap9P125Onp6Zf9eWpq6lW3b8f6zMzM6/71er3+ppSP+u/XNN/pz41Go+sjIMBTMEABASggQAEBKCBAAQEoIEABASggQAEB/CN/CDAAw78uW9AVDw4AAAAASUVORK5CYII="}}(window),function(e,t){"use strict";function a(a,o){var d,c="",f="";for(var p in o)a.options[p]=o[p];O=document.createStyleSheet!==t&&document.getElementById||!!e.MSInputMethodContext,H=void 0!==document.body.style.opacity,J=new Colors(a.options),delete a.options,(te=J.options).scale=1,f=te.CSSPrefix,a.color=J,F=te.valueRanges,a.nodes=ae=l(n(a)),h(te.mode),i(a),y(),c=" "+te.mode.type+"-"+te.mode.z,ae.slds.className+=c,ae.panel.className+=c,te.noHexButton&&B(ae.HEX_butt,f+"butt",f+"labl"),te.size!==t&&g(t,te.size),d={alphaBG:ae.alpha_labl,cmyOnly:ae.HEX_labl};for(var u in d)te[u]!==t&&m({target:d[u],data:te[u]});te.noAlpha&&(ae.colorPicker.className+=" no-alpha"),a.renderMemory(te.memoryColors),s(a),P=!0,r(t,"init"),Q&&(i(Q),w())}function i(e){K=!0,M!==e&&(M=e,ee=e.color.colors,te=e.color.options,ae=e.nodes,J=e.color,W={},$(ee))}function o(){var e=["L","S","XS","XXS"];te.sizes={},ae.testNode.style.cssText="position:absolute;left:-1000px;top:-1000px;",document.body.appendChild(ae.testNode);for(var t=e.length;t--;)ae.testNode.className=te.CSSPrefix+"app "+e[t],te.sizes[e[t]]=[ae.testNode.offsetWidth,ae.testNode.offsetHeight];ae.testNode.removeNode?ae.testNode.removeNode(!0):document.body.removeChild(ae.testNode)}function n(e){var t=document.createElement("div"),a=te.CSSPrefix,i="data:image/png;base64,",o=function(e,t){var a=document.createElement("style");a.setAttribute("type","text/css"),t&&a.setAttribute("id",t),a.styleSheet||a.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(a),a.styleSheet&&(document.styleSheets[document.styleSheets.length-1].cssText=e)},n=function(e){G._cssFunc=G._cssFunc.replace(/§/g,a).replace("_patches.png",e?i+G._patchesPng:te.imagePath+"_patches.png").replace("_vertical.png",e?i+G._verticalPng:te.imagePath+"_vertical.png").replace("_horizontal.png",e?i+G._horizontalPng:te.imagePath+"_horizontal.png"),o(G._cssFunc,"colorPickerCSS"),te.customCSS||(G._cssMain=G._cssMain.replace(/§/g,a).replace("_bgs.png",e?i+G._bgsPng:te.imagePath+"_bgs.png").replace("_icons.png",e?i+G._iconsPng:te.imagePath+"_icons.png").replace(/opacity:(\d*\.*(\d+))/g,function(e,t){return H?"-moz-opacity: "+t+"; -khtml-opacity: "+t+"; opacity: "+t:'-ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity='+ie.round(100*+t)+')";filter: alpha(opacity='+ie.round(100*+t)+")"}),o(G._cssMain))},l=document.createElement("img");return X?e.color.options.devPicker:(document.getElementById("colorPickerCSS")?e.cssIsReady=!0:(l.onload=l.onerror=function(){G._cssFunc&&n(1===this.width&&1===this.height),e.cssIsReady=!0},l.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="),(Q=M)&&b(),t.insertAdjacentHTML("afterbegin",M?M.nodes.colorPicker.outerHTML||(new XMLSerializer).serializeToString(M.nodes.colorPicker):G._html.replace(/§/g,a)),t=t.children[0],t.style.cssText=te.initStyle||"",(te.appendTo||document.body).appendChild(t))}function l(e){var t,a,i=e.getElementsByTagName("*"),o={colorPicker:e},n=new RegExp(te.CSSPrefix);o.styles={},o.textNodes={},o.memos=[],o.testNode=document.createElement("div");for(var l=0,s=i.length;s>l;l++)t=i[l],(a=t.className)&&n.test(a)?(a=a.split(" ")[0].replace(te.CSSPrefix,"").replace(/-/g,"_"),/_disp/.test(a)?(a=a.replace("_disp",""),o.styles[a]=t.style,o.textNodes[a]=t.firstChild,t.contentEditable=!0):(/(?:hs|cmyk|Lab).*?(?:butt|labl)/.test(a)||(o[a]=t),/(?:cur|sld[^s]|opacity|cont|col)/.test(a)&&(o.styles[a]=/(?:col\d)/.test(a)?t.children[0].style:t.style))):/memo/.test(t.parentNode.className)&&o.memos.push(t);return o.panelCover=o.panel.appendChild(document.createElement("div")),o}function s(a,n){var l=n?L:D;l(ae.colorPicker,"mousedown",function(n){var l=n||e.event,s=_(l),u=(l.button||l.which)<2?l.target||l.srcElement:{},m=u.className;return i(a),R=u,r(t,"resetEventListener"),q="",u===ae.sldl_3||u===ae.curm?(R=ae.sldl_3,P=d,q="changeXYValue",B(ae.slds,"do-drag")):/sldr/.test(m)||u===ae.curl||u===ae.curr?(R=ae.sldr_4,P=c,q="changeZValue"):u===ae.opacity.children[0]||u===ae.opacity_slider?(R=ae.opacity,P=f,q="changeOpacityValue"):/-disp/.test(m)&&!/HEX-/.test(m)?(P=p,q="changeInputValue",(3===u.nextSibling.nodeType?u.nextSibling.nextSibling:u.nextSibling).appendChild(ae.nsarrow),N=m.split("-disp")[0].split("-"),N={type:N[0],z:N[1]||""},B(ae.panel,"start-change"),z=0):u!==ae.resize||te.noResize?P=t:(te.sizes||o(),R=ae.resizer,P=g,q="resizeApp"),P&&(Y={pageX:s.X,pageY:s.Y},R.style.display="block",V=S(R),V.width=ae.opacity.offsetWidth,V.childWidth=ae.opacity_slider.offsetWidth,R.style.display="",P(l),D(O?document.body:e,"mousemove",P),I=e[ne](w)),/-disp/.test(m)?void 0:k(l)}),l(ae.colorPicker,"click",function(e){i(a),m(e)}),l(ae.colorPicker,"dblclick",m),l(ae.colorPicker,"keydown",function(e){i(a),u(e)}),l(ae.colorPicker,"keypress",u),l(ae.colorPicker,"paste",function(e){return e.target.firstChild.data=e.clipboardData.getData("Text"),k(e)})}function r(a,i){var o=P;P&&(e[le](I),L(O?document.body:e,"mousemove",P),z&&(N={type:"alpha"},w()),("function"==typeof P||"number"==typeof P)&&delete te.webUnsave,z=1,P=t,B(ae.slds,"do-drag",""),B(ae.panel,"(?:start-change|do-change)",""),ae.resizer.style.cssText="",ae.panelCover.style.cssText="",ae.memo_store.style.cssText="background-color: "+x(ee.RND.rgb)+"; "+T(ee.alpha),ae.memo.className=ae.memo.className.replace(/\s+(?:dark|light)/,"")+(ee["rgbaMix"+j[te.alphaBG]].luminance<.22?" dark":" light"),N=t,v(),te.actionCallback&&te.actionCallback(a,q||o.name||i||"external"))}function d(t){var a=t||e.event,i=te.scale,o=_(a),n=(o.X-V.left)*(4===i?2:i),l=(o.Y-V.top)*i,s=te.mode;return ee[s.type][s.x]=E(n/255,0,1),ee[s.type][s.y]=1-E(l/255,0,1),A(),k(a)}function c(t){var a=t||e.event,i=(_(a).Y-V.top)*te.scale,o=te.mode;return ee[o.type][o.z]=1-E(i/255,0,1),A(),k(a)}function f(t){var a=t||e.event,i=_(a);return K=!0,ee.alpha=E(ie.round((i.X-V.left)/V.width*100),0,100)/100,A("alpha"),k(a)}function p(t){var a,i=t||e.event,o=_(i),n=Y.pageY-o.Y,l=te.delayOffset,s=N.type,r="alpha"===s;return z||ie.abs(n)>=l?(z||(z=(n>0?-l:l)+ +R.firstChild.data*(r?100:1),Y.pageY+=z,n+=z,z=1,B(ae.panel,"start-change","do-change"),ae.panelCover.style.cssText="position:absolute;left:0;top:0;right:0;bottom:0",document.activeElement.blur(),I=e[ne](w)),"cmyk"===s&&te.cmyOnly&&(s="cmy"),r?(K=!0,ee.alpha=E(n/100,0,1)):(a=F[s][N.z],ee[s][N.z]="Lab"===s?E(n,a[0],a[1]):E(n/a[1],0,1)),A(r?"alpha":s),k(i)):void 0}function u(a){var i,o=a||e.event,n=o.which||o.keyCode,l=String.fromCharCode(n),s=document.activeElement,d=s.className.replace(te.CSSPrefix,"").split("-"),c=d[0],f=d[1],p="alpha"===c,u="HEX"===c,m={k40:-1,k38:1,k34:-10,k33:10}["k"+n]/(p?100:1),g={HEX:/[0-9a-fA-F]/,Lab:/[\-0-9]/,alpha:/[\.0-9]/}[c]||/[0-9]/,h=F[c][c]||F[c][f],b=s.firstChild,v=U(s),y=b.data,w="0"!==y||u?y.split(""):[];return/^(?:27|13)$/.test(n)?(k(o),s.blur()):"keydown"===o.type?(m?i=E(ie.round(1e6*(+y+m))/1e6,h[0],h[1]):/^(?:8|46)$/.test(n)&&(v.range||(v.range++,v.start-=8===n?1:0),w.splice(v.start,v.range),i=w.join("")||"0"),i!==t&&k(o,!0)):"keypress"===o.type&&(/^(?:37|39|8|46|9)$/.test(n)||k(o,!0),g.test(l)&&(w.splice(v.start,v.range,l),i=w.join("")),v.start++),13===n&&u?b.data.length%3==0||"0"===b.data?M.setColor("0"===b.data?"000":b.data,"rgb",ee.alpha,!0):(k(o,!0),s.focus()):(u&&i!==t&&(i=/^0+/.test(i)?i:parseInt(""+i,16)||0),void(i!==t&&""!==i&&+i>=h[0]&&+i<=h[1]&&(u&&(i=i.toString(16).toUpperCase()||"0"),p?ee[c]=+i:u||(ee[c][f]=+i/("Lab"===c?1:h[1])),A(p?"alpha":c),$(ee),P=!0,r(a,o.type),b.data=i,U(s,ie.min(s.firstChild.data.length,v.start<0?0:v.start)))))}function m(a){var i,o,n=a||e.event,l=n.target||n.srcElement,s=l.className,d=l.parentNode,c=te,f=ee.RND.rgb,p=te.mode,u="",m=c.CSSPrefix,g=/(?:hs|rgb)/.test(d.className)&&/^[HSBLRG]$/.test(l.firstChild?l.firstChild.data:""),h=/dblc/.test(n.type),b="";if(!h||g){if(-1!==s.indexOf("-labl "+m+"labl"))B(ae[s.split("-")[0]],m+"hide",""),B(ae[d.className.split("-")[1]],m+"hide");else if(-1!==s.indexOf(m+"butt"))if(g)h&&2===te.scale&&(u=/hs/.test(p.type)?"rgb":/hide/.test(ae.hsl.className)?"hsv":"hsl",u=u+"-"+u[p.type.indexOf(p.z)]),M.setMode(u||s.replace("-butt","").split(" ")[0]),b="modeChange";else if(/^[rgb]/.test(s))u=s.split("-")[1],B(ae.colorPicker,"no-rgb-"+u,(c["noRGB"+u]=!c["noRGB"+u])?t:""),b="noRGB"+u;else if(l===ae.alpha_labl)i=c.customBG,o=c.alphaBG,B(ae.colorPicker,"alpha-bg-"+o,"alpha-bg-"+(o=c.alphaBG=a.data||("w"===o?i?"c":"b":"c"===o?"b":"w"))),l.firstChild.data=o.toUpperCase(),ae.ctrl.style.backgroundColor=ae.memo.style.backgroundColor="c"!==o?"":"rgb("+ie.round(255*i.r)+", "+ie.round(255*i.g)+", "+ie.round(255*i.b)+")",ae.raster.style.cssText=ae.raster_bg.previousSibling.style.cssText="c"!==o?"":T(i.luminance<.22?.5:.4),b="alphaBackground";else if(l===ae.alpha_butt)B(ae.colorPicker,"mute-alpha",(c.muteAlpha=!c.muteAlpha)?t:""),b="alphaState";else if(l===ae.HEX_butt)B(ae.colorPicker,"no-HEX",(c.HEXState=!c.HEXState)?t:""),b="HEXState";else if(l===ae.HEX_labl){var v="web save"===ee.saveColor;"web smart"===ee.saveColor||v?v?M.setColor(c.webUnsave,"rgb"):(c.webUnsave||(c.webUnsave=C(f)),M.setColor(ee.webSave,"rgb")):(c.webUnsave=C(f),M.setColor(ee.webSmart,"rgb")),b="webColorState"}else/Lab-x-labl/.test(s)&&(B(ae.colorPicker,"cmy-only",(c.cmyOnly=!c.cmyOnly)?t:""),b="cmykState");else if(l===ae.bsav)y(),b="saveAsBackground";else if(l===ae.bres){var w=C(f),x=ee.alpha;M.setColor(c.color),y(),M.setColor(w,"rgb",x),b="resetColor"}else if(d===ae.col1)ee.hsv.h-=ee.hsv.h>.5?.5:-.5,A("hsv"),b="shiftColor";else if(d===ae.col2)M.setColor(l.style.backgroundColor,"rgb",ee.background.alpha),b="setSavedColor";else if(d===ae.memo){var E=function(){ae.memos.blinker&&(ae.memos.blinker.style.cssText=ae.memos.cssText)},k=function(t){ae.memos.blinker=t,t.style.cssText="background-color:"+(ee.RGBLuminance>.22?"#333":"#DDD"),e.setTimeout(E,200)};if(l===ae.memo_cursor){E(),ae.memos.blinker=t,ae.testNode.style.cssText=ae.memo_store.style.cssText,ae.memos.cssText=ae.testNode.style.cssText;for(S=ae.memos.length-1;S--;)if(ae.memos.cssText===ae.memos[S].style.cssText){k(ae.memos[S]);break}if(!ae.memos.blinker){for(var S=ae.memos.length-1;S--;)ae.memos[S+1].style.cssText=ae.memos[S].style.cssText;ae.memos[0].style.cssText=ae.memo_store.style.cssText}b="toMemory"}else E(),M.setColor(l.style.backgroundColor,"rgb",l.style.opacity||1),ae.memos.cssText=l.style.cssText,k(l),P=1,b="fromMemory"}b&&($(ee),P=P||!0,r(a,b))}}function g(a,i){var o,n=a||e.event,l=n?_(n):{},s=i!==t,r=s?i:l.X-V.left+8,d=s?i:l.Y-V.top+8,c=[" S XS XXS"," S XS"," S",""],f=te.sizes,p=s?i:d<f.XXS[1]+25?0:r<f.XS[0]+25?1:r<f.S[0]+25||d<f.S[1]+25?2:3,u=c[p],m=!1,g="";W.resizer!==u&&(m=/XX/.test(u),o=te.mode,!m||/hs/.test(o.type)&&"h"!==o.z?o.original&&M.setMode(o.original):(g=o.type+"-"+o.z,M.setMode(/hs/.test(o.type)?o.type+"-s":"hsv-s"),te.mode.original=g),ae.colorPicker.className=ae.colorPicker.className.replace(/\s+(?:S|XS|XXS)/g,"")+u,te.scale=m?4:/S/.test(u)?2:1,te.currentSize=p,W.resizer=u,K=!0,w(),v()),ae.resizer.style.cssText="display: block;width: "+(r>10?r:10)+"px;height: "+(d>10?d:10)+"px;"}function h(e){var t={rgb_r:{x:"b",y:"g"},rgb_g:{x:"b",y:"r"},rgb_b:{x:"r",y:"g"},hsv_h:{x:"s",y:"v"},hsv_s:{x:"h",y:"v"},hsv_v:{x:"h",y:"s"},hsl_h:{x:"s",y:"l"},hsl_s:{x:"h",y:"l"},hsl_l:{x:"h",y:"s"}},a=e.replace("-","_"),i="\\b(?:rg|hs)\\w\\-\\w\\b";return B(ae.panel,i,e),B(ae.slds,i,e),e=e.split("-"),te.mode={type:e[0],x:t[a].x,y:t[a].y,z:e[1]}}function b(){var e=/\s+(?:hue-)*(?:dark|light)/g,t="className";ae.curl[t]=ae.curl[t].replace(e,""),ae.curr[t]=ae.curr[t].replace(e,""),ae.slds[t]=ae.slds[t].replace(e,""),ae.sldr_2[t]=te.CSSPrefix+"sldr-2",ae.sldr_4[t]=te.CSSPrefix+"sldr-4",ae.sldl_3[t]=te.CSSPrefix+"sldl-3";for(var a in ae.styles)a.indexOf("sld")||(ae.styles[a].cssText="");W={}}function v(){ae.styles.curr.cssText=ae.styles.curl.cssText,ae.curl.className=te.CSSPrefix+"curl"+(Z.noRGBZ?" "+te.CSSPrefix+"curl-"+Z.noRGBZ:""),ae.curr.className=te.CSSPrefix+"curr "+te.CSSPrefix+"curr-"+("h"===te.mode.z?Z.HUEContrast:Z.noRGBZ?Z.noRGBZ:Z.RGBLuminance)}function A(e){$(J.setColor(t,e||te.mode.type)),K=!0}function y(e){return J.saveAsBackground(),ae.styles.col2.cssText="background-color: "+x(ee.background.RGB)+";"+T(ee.background.alpha),e&&$(ee),ee}function $(e){var a=ie,i=Z,o=j[te.alphaBG];i.hueDelta=a.round(100*e["rgbaMixBGMix"+o].hueDelta),i.luminanceDelta=a.round(100*e["rgbaMixBGMix"+o].luminanceDelta),i.RGBLuminance=e.RGBLuminance>.22?"light":"dark",i.HUEContrast=e.HUELuminance>.22?"light":"dark",i.contrast=i.luminanceDelta>i.hueDelta?"contrast":"",i.readabiltiy=e["rgbaMixBGMix"+o].WCAG2Ratio>=7?"green":e["rgbaMixBGMix"+o].WCAG2Ratio>=4.5?"orange":"",i.noRGBZ=te["no"+te.mode.type.toUpperCase()+te.mode.z]?"g"===te.mode.z&&e.rgb.g<.59||"b"===te.mode.z||"r"===te.mode.z?"dark":"light":t}function w(){if(P){if(!K)return I=e[ne](w);K=!1}var a,i,o,n,l=te,s=l.mode,r=l.scale,f=l.CSSPrefix,p=ee,u=ae,m=u.styles,g=u.textNodes,h=F,b=N,v=Z,A=W,y=ie,$=T,C=x,E=0,k=0,B=p[s.type][s.x],S=y.round(255*B/(4===r?2:r)),_=p[s.type][s.y],D=1-_,L=y.round(255*D/r),U=1-p[s.type][s.z],M=y.round(255*U/r),Q=[B,_],G="rgb"===s.type,X="h"===s.z,O="hsl"===s.type,H=O&&"s"===s.z,j=P===d,q=P===c;G&&(Q[0]>=Q[1]?k=1:E=1,A.sliderSwap!==E&&(u.sldr_2.className=l.CSSPrefix+"sldr-"+(3-E),A.sliderSwap=E)),(G&&!q||X&&!j||!X&&!q)&&(m[X?"sldl_2":"sldr_2"][G?"cssText":"backgroundColor"]=G?$((Q[E]-Q[k])/(1-Q[k]||0)):C(p.hueRGB)),X||(q||(m.sldr_4.cssText=$(G?Q[k]:H?y.abs(1-2*D):D)),j||(m.sldl_3.cssText=$(O&&"l"===s.z?y.abs(1-2*U):U)),O&&(n=H?"sldr_4":"sldl_3",i=H?"r-":"l-",o=H?D>.5?4:3:U>.5?3:4,A[n]!==o&&(u[n].className=l.CSSPrefix+"sld"+i+o,A[n]=o))),q||(m.curm.cssText="left: "+S+"px; top: "+L+"px;"),j||(m.curl.top=M+"px"),b&&(m.curr.top=M+"px"),(b&&"alpha"===b.type||R===u.opacity)&&(m.opacity_slider.left=l.opacityPositionRelative?p.alpha*((V.width||u.opacity.offsetWidth)-(V.childWidth||u.opacity_slider.offsetWidth))+"px":100*p.alpha+"%"),m.col1.cssText="background-color: "+C(p.RND.rgb)+"; "+(l.muteAlpha?"":$(p.alpha)),m.opacity.backgroundColor=C(p.RND.rgb),m.cold.width=v.hueDelta+"%",m.cont.width=v.luminanceDelta+"%";for(a in g)i=a.split("_"),l.cmyOnly&&(i[0]=i[0].replace("k","")),o=i[1]?p.RND[i[0]][i[1]]:p.RND[i[0]]||p[i[0]],A[a]!==o&&(A[a]=o,g[a].data=o>359.5&&"HEX"!==a?0:o,"HEX"===a||l.noRangeBackground||(o=p[i[0]][i[1]]!==t?p[i[0]][i[1]]:p[i[0]],"Lab"===i[0]&&(o=(o-h[i[0]][i[1]][0])/(h[i[0]][i[1]][1]-h[i[0]][i[1]][0])),m[a].backgroundPosition=y.round(100*(1-o))+"% 0%"));(i=p._rgb?[p._rgb.r!==p.rgb.r,p._rgb.g!==p.rgb.g,p._rgb.b!==p.rgb.b]:[]).join("")!==A.outOfGammut&&(u.rgb_r_labl.firstChild.data=i[0]?"!":" ",u.rgb_g_labl.firstChild.data=i[1]?"!":" ",u.rgb_b_labl.firstChild.data=i[2]?"!":" ",A.outOfGammut=i.join("")),v.noRGBZ&&A.noRGBZ!==v.noRGBZ&&(u.curl.className=f+"curl "+f+"curl-"+v.noRGBZ,q||(u.curr.className=f+"curr "+f+"curr-"+v.noRGBZ),A.noRGBZ=v.noRGBZ),A.HUEContrast!==v.HUEContrast&&"h"===s.z?(u.slds.className=u.slds.className.replace(/\s+hue-(?:dark|light)/,"")+" hue-"+v.HUEContrast,q||(u.curr.className=f+"curr "+f+"curr-"+v.HUEContrast),A.HUEContrast=v.HUEContrast):A.RGBLuminance!==v.RGBLuminance&&(u.colorPicker.className=u.colorPicker.className.replace(/\s+(?:dark|light)/,"")+" "+v.RGBLuminance,q||"h"===s.z||v.noRGBZ||(u.curr.className=f+"curr "+f+"curr-"+v.RGBLuminance),A.RGBLuminance=v.RGBLuminance),(A.contrast!==v.contrast||A.readabiltiy!==v.readabiltiy)&&(u.ctrl.className=u.ctrl.className.replace(" contrast","").replace(/\s*(?:orange|green)/,"")+(v.contrast?" "+v.contrast:"")+(v.readabiltiy?" "+v.readabiltiy:""),A.contrast=v.contrast,A.readabiltiy=v.readabiltiy),A.saveColor!==p.saveColor&&(u.HEX_labl.firstChild.data=p.saveColor?"web save"===p.saveColor?"W":"M":"!",A.saveColor=p.saveColor),l.renderCallback&&l.renderCallback(p,s),P&&(I=e[ne](w))}function C(e){var t={};for(var a in e)t[a]=e[a];return t}function x(e,t){for(var a="",i=(t||"rgb").split(""),o=i.length;o--;)a=", "+e[i[o]]+a;return(t||"rgb")+"("+a.substr(2)+")"}function E(e,t,a){return e>a?a:t>e?t:e}function T(e){return e===t&&(e=1),H?"opacity: "+ie.round(1e10*e)/1e10+";":"filter: alpha(opacity="+ie.round(100*e)+");"}function k(t,a){return t.preventDefault?t.preventDefault():t.returnValue=!1,a||(e.getSelection?e.getSelection().removeAllRanges():document.selection.empty()),!1}function B(e,a,i){return!!e&&(e.className=i!==t?e.className.replace(new RegExp("\\s+?"+a,"g"),i?" "+i:""):e.className+" "+a)}function S(t){var a=t.getBoundingClientRect?t.getBoundingClientRect():{top:0,left:0},i=t&&t.ownerDocument,o=i.body,n=i.defaultView||i.parentWindow||e,l=i.documentElement||o.parentNode,s=l.clientTop||o.clientTop||0,r=l.clientLeft||o.clientLeft||0;return{left:a.left+(n.pageXOffset||l.scrollLeft)-r,top:a.top+(n.pageYOffset||l.scrollTop)-s}}function _(t){var a=e.document;return{X:t.pageX||t.clientX+a.body.scrollLeft+a.documentElement.scrollLeft,Y:t.pageY||t.clientY+a.body.scrollTop+a.documentElement.scrollTop}}function D(e,t,a){D.cache=D.cache||{_get:function(e,t,a,i){for(var o=D.cache[t]||[],n=o.length;n--;)if(e===o[n].obj&&""+a==""+o[n].func)return a=o[n].func,i||(o[n]=o[n].obj=o[n].func=null,o.splice(n,1)),a},_set:function(e,t,a){var i=D.cache[t]=D.cache[t]||[];return!!D.cache._get(e,t,a,!0)||void i.push({func:a,obj:e})}},!a.name&&D.cache._set(e,t,a)||"function"!=typeof a||(e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent("on"+t,a))}function L(e,t,a){"function"==typeof a&&(a.name||(a=D.cache._get(e,t,a)||a),e.removeEventListener?e.removeEventListener(t,a,!1):e.detachEvent("on"+t,a))}function U(a,i){var o={};if(i===t){if(e.getSelection)a.focus(),(l=(n=e.getSelection().getRangeAt(0)).cloneRange()).selectNodeContents(a),l.setEnd(n.endContainer,n.endOffset),o={end:l.toString().length,range:n.toString().length};else{a.focus();var n=document.selection.createRange(),l=document.body.createTextRange();l.moveToElementText(a),l.setEndPoint("EndToEnd",n),o={end:l.text.length,range:n.text.length}}return o.start=o.end-o.range,o}if(-1==i&&(i=a.text().length),e.getSelection)a.focus(),e.getSelection().collapse(a.firstChild,i);else{var s=document.body.createTextRange();s.moveToElementText(a),s.moveStart("character",i),s.collapse(!0),s.select()}return i}var P,R,N,I,M,Q,G=e.ColorPicker,X=!G,O=!1,H=!1,F={},j={w:"White",b:"Black",c:"Custom"},q="",z=1,Y={},V={},K=!0,Z={},W={},J={},ee={},te={},ae={},ie=Math,oe="AnimationFrame",ne="request"+oe,le="cancel"+oe,se=["ms","moz","webkit","o"],re=function(e){this.options={color:"rgba(204, 82, 37, 0.8)",mode:"rgb-b",fps:60,delayOffset:8,CSSPrefix:"cp-",allMixDetails:!0,alphaBG:"w",imagePath:""},a(this,e||{})};e.ColorPicker=re,re.addEvent=D,re.removeEvent=L,re.getOrigin=S,re.limitValue=E,re.changeClass=B,re.prototype.setColor=function(e,t,a,o){i(this),N=!0,$(J.setColor.apply(J,arguments)),o&&this.startRender(!0)},re.prototype.saveAsBackground=function(){return i(this),y(!0)},re.prototype.setCustomBackground=function(e){return i(this),J.setCustomBackground(e)},re.prototype.startRender=function(t){i(this),t?(P=!1,w(),this.stopRender()):(P=1,I=e[ne](w))},re.prototype.stopRender=function(){i(this),e[le](I),N&&(P=1,r(t,"external"))},re.prototype.setMode=function(e){i(this),h(e),b(),w()},re.prototype.destroyAll=function(){var e=this.nodes.colorPicker,t=function(e){for(var a in e)(e[a]&&"[object Object]"===e[a].toString()||e[a]instanceof Array)&&t(e[a]),e[a]=null,delete e[a]};this.stopRender(),s(this,!0),t(this),e.parentNode.removeChild(e),e=null},re.prototype.renderMemory=function(e){var a=this.nodes.memos,i=[];"string"==typeof e&&(e=e.replace(/^'|'$/g,"").replace(/\s*/,"").split("','"));for(var o=a.length;o--;)e&&"string"==typeof e[o]&&(i=e[o].replace("rgba(","").replace(")","").split(","),e[o]={r:i[0],g:i[1],b:i[2],a:i[3]}),a[o].style.cssText="background-color: "+(e&&e[o]!==t?x(e[o])+";"+T(e[o].a||1):"rgb(0,0,0);")},D(O?document.body:e,"mouseup",r);for(var de=se.length;de--&&!e[ne];)e[ne]=e[se[de]+"Request"+oe],e[le]=e[se[de]+"Cancel"+oe]||e[se[de]+"CancelRequest"+oe];e[ne]=e[ne]||function(t){return e.setTimeout(t,1e3/te.fps)},e[le]=e[le]||function(t){return e.clearTimeout(t),I=null}}(window),function(e){e.jsColorPicker=function(t,a){var i=function(e,t){var a=this,i=a.input,o=a.patch,n=e.RND.rgb,l=e.RND.hsl,s=a.isIE8?(e.alpha<.16?"0":"")+Math.round(100*e.alpha).toString(16).toUpperCase()+e.HEX:"",r=n.r+", "+n.g+", "+n.b,d="rgba("+r+", "+e.alpha+")",c=1!==e.alpha&&!a.isIE8,f=i.getAttribute("data-colorMode");o.style.cssText="color:"+(e.rgbaMixCustom.luminance>.22?"#222":"#ddd")+";background-color:"+d+";filter:"+(a.isIE8?"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+s+",endColorstr=#"+s+")":""),i.value="HEX"!==f||c?"rgb"===f||"HEX"===f&&c?c?d:"rgb("+r+")":"hsl"+(c?"a(":"(")+l.h+", "+l.s+"%, "+l.l+"%"+(c?", "+e.alpha:"")+")":"#"+(a.isIE8?s:e.HEX),a.displayCallback&&a.displayCallback(e,t,a)},o=function(e){return e.value||e.getAttribute("value")||e.style.backgroundColor||"#FFFFFF"},n=function(e,t){var a=this,i=r.current;if("toMemory"===t){for(var o=i.nodes.memos,n="",l=0,s=[],d=0,c=o.length;c>d;d++)n=o[d].style.backgroundColor,l=o[d].style.opacity,l=Math.round(100*(""===l?1:l))/100,s.push(n.replace(/, /g,",").replace("rgb(","rgba(").replace(")",","+l+")"));s="'"+s.join("','")+"'",ColorPicker.docCookies("colorPickerMemos"+(a.noAlpha?"NoAlpha":""),s)}else if("resizeApp"===t)ColorPicker.docCookies("colorPickerSize",i.color.options.currentSize);else if("modeChange"===t){var f=i.color.options.mode;ColorPicker.docCookies("colorPickerMode",f.type+"-"+f.z)}},l=function(t,a){var l={klass:e.ColorPicker,input:t,patch:t,isIE8:!!document.all&&!document.addEventListener,margin:{left:-1,top:2},customBG:"#FFFFFF",color:o(t),initStyle:"display: none",mode:ColorPicker.docCookies("colorPickerMode")||"hsv-h",memoryColors:ColorPicker.docCookies("colorPickerMemos"+((a||{}).noAlpha?"NoAlpha":"")),size:ColorPicker.docCookies("colorPickerSize")||1,renderCallback:i,actionCallback:n};for(var s in a)l[s]=a[s];return new l.klass(l)},s=function(t,i,n){var s=n?"removeEventListener":"addEventListener";t[s]("focus",function(){var n=this,s=e.ColorPicker.getOrigin(n),c=i?Array.prototype.indexOf.call(d,this):0,f=r[c]||(r[c]=l(this,a)),p=f.color.options,u=f.nodes.colorPicker,m=p.appendTo||document.body,g=/static/.test(e.getComputedStyle(m).position)?{left:0,top:0}:m.getBoundingClientRect(),h=0;p.color=o(t),u.style.cssText="position: absolute;"+(r[c].cssIsReady?"":"display: none;")+"left:"+(s.left+p.margin.left-g.left)+"px;top:"+(s.top+ +n.offsetHeight+p.margin.top-g.top)+"px;",i||(p.input=t,p.patch=t,f.setColor(o(t),void 0,void 0,!0),f.saveAsBackground()),r.current=r[c],m.appendChild(u),h=setInterval(function(){r.current.cssIsReady&&(h=clearInterval(h),u.style.display="block")},10)}),(!r.evt||n)&&(r.evt=!0,e[s]("mousedown",function(e){var t=r.current,a=t?t.nodes.colorPicker:void 0,i=(t&&t.color.options.animationSpeed,t&&function(e){for(;e;){if(-1!==(e.className||"").indexOf("cp-app"))return e;e=e.parentNode}return!1}(e.target)),o=Array.prototype.indexOf.call(d,e.target);i&&Array.prototype.indexOf.call(r,i)?e.target===t.nodes.exit&&(a.style.display="none",document.activeElement.blur()):-1!==o||a&&(a.style.display="none")}))},r=e.jsColorPicker.colorPickers||[],d=document.querySelectorAll(t),c=new e.Colors({customBG:a.customBG,allMixDetails:!0});e.jsColorPicker.colorPickers=r;for(var f=0,p=d.length;p>f;f++){var u=d[f];if("destroy"===a)s(u,a&&a.multipleInstances,!0),r[f]&&r[f].destroyAll();else{var m=o(u),g=m.split("(");c.setColor(m),a&&a.init&&a.init(u,c.colors),u.setAttribute("data-colorMode",g[1]?g[0].substr(0,3):"HEX"),s(u,a&&a.multipleInstances,!1),a&&a.readOnly&&(u.readOnly=!0)}}return e.jsColorPicker.colorPickers},e.ColorPicker.docCookies=function(e,t,a){var i,o,n,l,s=encodeURIComponent,r=decodeURIComponent,d={};if(void 0===t){for(o=(i=document.cookie.split(/;\s*/)||[]).length;o--;)(n=i[o].split("="))[0]&&(d[r(n.shift())]=r(n.join("=")));return e?d[e]:d}a=a||{},(""===t||a.expires<0)&&(a.expires=-1),void 0!==a.expires&&(l=new Date).setDate(l.getDate()+a.expires),document.cookie=s(e)+"="+s(t)+(l?"; expires="+l.toUTCString():"")+(a.path?"; path="+a.path:"")+(a.domain?"; domain="+a.domain:"")+(a.secure?"; secure":"")}}(this),function(e){"use strict";var t=function(t){var a=e.Deferred(),i=new FileReader;return i.onload=function(e){a.resolve(e.target.result)},i.onerror=a.reject,i.onprogress=a.notify,i.readAsDataURL(t),a.promise()};e.fn.cleanHtml=function(){var t=e(this).html();return t&&t.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},e.fn.wysiwyg=function(a){var i,o,n,l=this,s=function(){o.activeToolbarClass&&e(o.toolbarSelector).find(n).each(function(){var t=e(this).data(o.commandRole);document.queryCommandState(t)?e(this).addClass(o.activeToolbarClass):e(this).removeClass(o.activeToolbarClass)})},r=function(e,t){var a=e.split(" "),i=a.shift(),o=a.join(" ")+(t||"");document.execCommand(i,0,o),s()},d=function(){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)},c=function(){i=d()},f=function(){var e=window.getSelection();if(i){try{e.removeAllRanges()}catch(e){document.body.createTextRange().select(),document.selection.empty()}e.addRange(i)}},p=function(a){l.focus(),e.each(a,function(a,i){/^image\//.test(i.type)?e.when(t(i)).done(function(e){r("insertimage",e)}).fail(function(e){o.fileUploadError("file-reader",e)}):o.fileUploadError("unsupported-file-type",i.type)})},u=function(e,t){f(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",0,t||"transparent"),c(),e.data(o.selectionMarker,t)};return o=e.extend({},e.fn.wysiwyg.defaults,a),n="a[data-"+o.commandRole+"],button[data-"+o.commandRole+"],input[type=button][data-"+o.commandRole+"]",function(t){e.each(t,function(e,t){l.keydown(e,function(e){l.attr("contenteditable")&&l.is(":visible")&&(e.preventDefault(),e.stopPropagation(),r(t))}).keyup(e,function(e){l.attr("contenteditable")&&l.is(":visible")&&(e.preventDefault(),e.stopPropagation())})})}(o.hotKeys),o.dragAndDropImages&&l.on("dragenter dragover",!1).on("drop",function(e){var t=e.originalEvent.dataTransfer;e.stopPropagation(),e.preventDefault(),t&&t.files&&t.files.length>0&&p(t.files)}),function(t,a){t.find(n).click(function(){f(),l.focus(),r(e(this).data(a.commandRole)),c()}),t.find("[data-toggle=dropdown]").click(f),t.find("input[type=text][data-"+a.commandRole+"]").on("webkitspeechchange change",function(){var t=this.value;this.value="",f(),t&&(l.focus(),r(e(this).data(a.commandRole),t)),c()}).on("focus",function(){var t=e(this);t.data(a.selectionMarker)||(u(t,a.selectionColor),t.focus())}).on("blur",function(){var t=e(this);t.data(a.selectionMarker)&&u(t,!1)}),t.find("input[type=file][data-"+a.commandRole+"]").change(function(){f(),"file"===this.type&&this.files&&this.files.length>0&&p(this.files),c(),this.value=""})}(e(o.toolbarSelector),o),l.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){c(),s()}),e(window).bind("touchend",function(e){var t=l.is(e.target)||l.has(e.target).length>0,a=d();a&&a.startContainer===a.endContainer&&a.startOffset===a.endOffset&&!t||(c(),s())}),this},e.fn.wysiwyg.defaults={hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo","ctrl+l meta+l":"justifyleft","ctrl+r meta+r":"justifyright","ctrl+e meta+e":"justifycenter","ctrl+j meta+j":"justifyfull","shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,fileUploadError:function(e,t){console.log("File upload error",e,t)}}}(window.$);var gd={};gd.path="//"+window.location.hostname+"/",gd.object="",gd.element="",gd.alpha=[0,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],gd.numalpha={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:10,K:11,L:12,M:13,N:14,O:15,P:16,Q:17,R:18,S:19,T:20,U:21,V:22,W:23,X:24,Y:25,Z:26},gd.fa_icons={"fa-glass":"f000","fa-music":"f001","fa-search":"f002","fa-envelope-o":"f003","fa-heart":"f004","fa-star":"f005","fa-star-o":"f006","fa-user":"f007","fa-film":"f008","fa-th-large":"f009","fa-th":"f00a","fa-th-list":"f00b","fa-check":"f00c","fa-times":"f00d","fa-search-plus":"f00e","fa-search-minus":"f010","fa-power-off":"f011","fa-signal":"f012","fa-cog":"f013","fa-trash-o":"f014","fa-home":"f015","fa-file-o":"f016","fa-clock-o":"f017","fa-road":"f018","fa-download":"f019","fa-arrow-circle-o-down":"f01a","fa-arrow-circle-o-up":"f01b","fa-inbox":"f01c","fa-play-circle-o":"f01d","fa-repeat":"f01e","fa-refresh":"f021","fa-list-alt":"f022","fa-lock":"f023","fa-flag":"f024","fa-headphones":"f025","fa-volume-off":"f026","fa-volume-down":"f027","fa-volume-up":"f028","fa-qrcode":"f029","fa-barcode":"f02a","fa-tag":"f02b","fa-tags":"f02c","fa-book":"f02d","fa-bookmark":"f02e","fa-print":"f02f","fa-camera":"f030","fa-font":"f031","fa-bold":"f032","fa-italic":"f033","fa-text-height":"f034","fa-text-width":"f035","fa-align-left":"f036","fa-align-center":"f037","fa-align-right":"f038","fa-align-justify":"f039","fa-list":"f03a","fa-outdent":"f03b","fa-indent":"f03c","fa-video-camera":"f03d","fa-picture-o":"f03e","fa-pencil":"f040","fa-map-marker":"f041","fa-adjust":"f042","fa-tint":"f043","fa-pencil-square-o":"f044","fa-share-square-o":"f045","fa-check-square-o":"f046","fa-arrows":"f047","fa-step-backward":"f048","fa-fast-backward":"f049","fa-backward":"f04a","fa-play":"f04b","fa-pause":"f04c","fa-stop":"f04d","fa-forward":"f04e","fa-fast-forward":"f050","fa-step-forward":"f051","fa-eject":"f052","fa-chevron-left":"f053","fa-chevron-right":"f054","fa-plus-circle":"f055","fa-minus-circle":"f056","fa-times-circle":"f057","fa-check-circle":"f058","fa-question-circle":"f059","fa-info-circle":"f05a","fa-crosshairs":"f05b","fa-times-circle-o":"f05c","fa-check-circle-o":"f05d","fa-ban":"f05e","fa-arrow-left":"f060","fa-arrow-right":"f061","fa-arrow-up":"f062","fa-arrow-down":"f063","fa-share":"f064","fa-expand":"f065","fa-compress":"f066","fa-plus":"f067","fa-minus":"f068","fa-asterisk":"f069","fa-exclamation-circle":"f06a","fa-gift":"f06b","fa-leaf":"f06c","fa-fire":"f06d","fa-eye":"f06e","fa-eye-slash":"f070","fa-exclamation-triangle":"f071","fa-plane":"f072","fa-calendar":"f073","fa-random":"f074","fa-comment":"f075","fa-magnet":"f076","fa-chevron-up":"f077","fa-chevron-down":"f078","fa-retweet":"f079","fa-shopping-cart":"f07a","fa-folder":"f07b","fa-folder-open":"f07c","fa-arrows-v":"f07d","fa-arrows-h":"f07e","fa-bar-chart":"f080","fa-twitter-square":"f081","fa-facebook-square":"f082","fa-camera-retro":"f083","fa-key":"f084","fa-cogs":"f085","fa-comments":"f086","fa-thumbs-o-up":"f087","fa-thumbs-o-down":"f088","fa-star-half":"f089","fa-heart-o":"f08a","fa-sign-out":"f08b","fa-linkedin-square":"f08c","fa-thumb-tack":"f08d","fa-external-link":"f08e","fa-sign-in":"f090","fa-trophy":"f091","fa-github-square":"f092","fa-upload":"f093","fa-lemon-o":"f094","fa-phone":"f095","fa-square-o":"f096","fa-bookmark-o":"f097","fa-phone-square":"f098","fa-twitter":"f099","fa-facebook":"f09a","fa-github":"f09b","fa-unlock":"f09c","fa-credit-card":"f09d","fa-rss":"f09e","fa-hdd-o":"f0a0","fa-bullhorn":"f0a1","fa-bell":"f0f3","fa-certificate":"f0a3","fa-hand-o-right":"f0a4","fa-hand-o-left":"f0a5","fa-hand-o-up":"f0a6","fa-hand-o-down":"f0a7","fa-arrow-circle-left":"f0a8","fa-arrow-circle-right":"f0a9","fa-arrow-circle-up":"f0aa","fa-arrow-circle-down":"f0ab","fa-globe":"f0ac","fa-wrench":"f0ad","fa-tasks":"f0ae","fa-filter":"f0b0","fa-briefcase":"f0b1","fa-arrows-alt":"f0b2","fa-users":"f0c0","fa-link":"f0c1","fa-cloud":"f0c2","fa-flask":"f0c3","fa-scissors":"f0c4","fa-files-o":"f0c5","fa-paperclip":"f0c6","fa-floppy-o":"f0c7","fa-square":"f0c8","fa-bars":"f0c9","fa-list-ul":"f0ca","fa-list-ol":"f0cb","fa-strikethrough":"f0cc","fa-underline":"f0cd","fa-table":"f0ce","fa-magic":"f0d0","fa-truck":"f0d1","fa-pinterest":"f0d2","fa-pinterest-square":"f0d3","fa-google-plus-square":"f0d4","fa-google-plus":"f0d5","fa-money":"f0d6","fa-caret-down":"f0d7","fa-caret-up":"f0d8","fa-caret-left":"f0d9","fa-caret-right":"f0da","fa-columns":"f0db","fa-sort":"f0dc","fa-sort-desc":"f0dd","fa-sort-asc":"f0de","fa-envelope":"f0e0","fa-linkedin":"f0e1","fa-undo":"f0e2","fa-gavel":"f0e3","fa-tachometer":"f0e4","fa-comment-o":"f0e5","fa-comments-o":"f0e6","fa-bolt":"f0e7","fa-sitemap":"f0e8","fa-umbrella":"f0e9","fa-clipboard":"f0ea","fa-lightbulb-o":"f0eb","fa-exchange":"f0ec","fa-cloud-download":"f0ed","fa-cloud-upload":"f0ee","fa-user-md":"f0f0","fa-stethoscope":"f0f1","fa-suitcase":"f0f2","fa-bell-o":"f0a2","fa-coffee":"f0f4","fa-cutlery":"f0f5","fa-file-text-o":"f0f6","fa-building-o":"f0f7","fa-hospital-o":"f0f8","fa-ambulance":"f0f9","fa-medkit":"f0fa","fa-fighter-jet":"f0fb","fa-beer":"f0fc","fa-h-square":"f0fd","fa-plus-square":"f0fe","fa-angle-double-left":"f100","fa-angle-double-right":"f101","fa-angle-double-up":"f102","fa-angle-double-down":"f103","fa-angle-left":"f104","fa-angle-right":"f105","fa-angle-up":"f106","fa-angle-down":"f107","fa-desktop":"f108","fa-laptop":"f109","fa-tablet":"f10a","fa-mobile":"f10b","fa-circle-o":"f10c","fa-quote-left":"f10d","fa-quote-right":"f10e","fa-spinner":"f110","fa-circle":"f111","fa-reply":"f112","fa-github-alt":"f113","fa-folder-o":"f114","fa-folder-open-o":"f115","fa-smile-o":"f118","fa-frown-o":"f119","fa-meh-o":"f11a","fa-gamepad":"f11b","fa-keyboard-o":"f11c","fa-flag-o":"f11d","fa-flag-checkered":"f11e","fa-terminal":"f120","fa-code":"f121","fa-reply-all":"f122","fa-star-half-o":"f123","fa-location-arrow":"f124","fa-crop":"f125","fa-code-fork":"f126","fa-chain-broken":"f127","fa-question":"f128","fa-info":"f129","fa-exclamation":"f12a","fa-superscript":"f12b","fa-subscript":"f12c","fa-eraser":"f12d","fa-puzzle-piece":"f12e","fa-microphone":"f130","fa-microphone-slash":"f131","fa-shield":"f132","fa-calendar-o":"f133","fa-fire-extinguisher":"f134","fa-rocket":"f135","fa-maxcdn":"f136","fa-chevron-circle-left":"f137","fa-chevron-circle-right":"f138","fa-chevron-circle-up":"f139","fa-chevron-circle-down":"f13a","fa-html5":"f13b","fa-css3":"f13c","fa-anchor":"f13d","fa-unlock-alt":"f13e","fa-bullseye":"f140","fa-ellipsis-h":"f141","fa-ellipsis-v":"f142","fa-rss-square":"f143","fa-play-circle":"f144","fa-ticket":"f145","fa-minus-square":"f146","fa-minus-square-o":"f147","fa-level-up":"f148","fa-level-down":"f149","fa-check-square":"f14a","fa-pencil-square":"f14b","fa-external-link-square":"f14c","fa-share-square":"f14d","fa-compass":"f14e","fa-caret-square-o-down":"f150","fa-caret-square-o-up":"f151","fa-caret-square-o-right":"f152","fa-eur":"f153","fa-gbp":"f154","fa-usd":"f155","fa-inr":"f156","fa-jpy":"f157","fa-rub":"f158","fa-krw":"f159","fa-btc":"f15a","fa-file":"f15b","fa-file-text":"f15c","fa-sort-alpha-asc":"f15d","fa-sort-alpha-desc":"f15e","fa-sort-amount-asc":"f160","fa-sort-amount-desc":"f161","fa-sort-numeric-asc":"f162","fa-sort-numeric-desc":"f163","fa-thumbs-up":"f164","fa-thumbs-down":"f165","fa-youtube-square":"f166","fa-youtube":"f167","fa-xing":"f168","fa-xing-square":"f169","fa-youtube-play":"f16a","fa-dropbox":"f16b","fa-stack-overflow":"f16c","fa-instagram":"f16d","fa-flickr":"f16e","fa-adn":"f170","fa-bitbucket":"f171","fa-bitbucket-square":"f172","fa-tumblr":"f173","fa-tumblr-square":"f174","fa-long-arrow-down":"f175","fa-long-arrow-up":"f176","fa-long-arrow-left":"f177","fa-long-arrow-right":"f178","fa-apple":"f179","fa-windows":"f17a","fa-android":"f17b","fa-linux":"f17c","fa-dribbble":"f17d","fa-skype":"f17e","fa-foursquare":"f180","fa-trello":"f181","fa-female":"f182","fa-male":"f183","fa-gratipay":"f184","fa-sun-o":"f185","fa-moon-o":"f186","fa-archive":"f187","fa-bug":"f188","fa-vk":"f189","fa-weibo":"f18a","fa-renren":"f18b","fa-pagelines":"f18c","fa-stack-exchange":"f18d","fa-arrow-circle-o-right":"f18e","fa-arrow-circle-o-left":"f190","fa-caret-square-o-left":"f191","fa-dot-circle-o":"f192","fa-wheelchair":"f193","fa-vimeo-square":"f194","fa-try":"f195","fa-plus-square-o":"f196","fa-space-shuttle":"f197","fa-slack":"f198","fa-envelope-square":"f199","fa-wordpress":"f19a","fa-openid":"f19b","fa-university":"f19c","fa-graduation-cap":"f19d","fa-yahoo":"f19e","fa-google":"f1a0","fa-reddit":"f1a1","fa-reddit-square":"f1a2","fa-stumbleupon-circle":"f1a3","fa-stumbleupon":"f1a4","fa-delicious":"f1a5","fa-digg":"f1a6","fa-pied-piper-pp":"f1a7","fa-pied-piper-alt":"f1a8","fa-drupal":"f1a9","fa-joomla":"f1aa","fa-language":"f1ab","fa-fax":"f1ac","fa-building":"f1ad","fa-child":"f1ae","fa-paw":"f1b0","fa-spoon":"f1b1","fa-cube":"f1b2","fa-cubes":"f1b3","fa-behance":"f1b4","fa-behance-square":"f1b5","fa-steam":"f1b6","fa-steam-square":"f1b7","fa-recycle":"f1b8","fa-car":"f1b9","fa-taxi":"f1ba","fa-tree":"f1bb","fa-spotify":"f1bc","fa-deviantart":"f1bd","fa-soundcloud":"f1be","fa-database":"f1c0","fa-file-pdf-o":"f1c1","fa-file-word-o":"f1c2","fa-file-excel-o":"f1c3","fa-file-powerpoint-o":"f1c4","fa-file-image-o":"f1c5","fa-file-archive-o":"f1c6","fa-file-audio-o":"f1c7","fa-file-video-o":"f1c8","fa-file-code-o":"f1c9","fa-vine":"f1ca","fa-codepen":"f1cb","fa-jsfiddle":"f1cc","fa-life-ring":"f1cd","fa-circle-o-notch":"f1ce","fa-rebel":"f1d0","fa-empire":"f1d1","fa-git-square":"f1d2","fa-git":"f1d3","fa-hacker-news":"f1d4","fa-tencent-weibo":"f1d5","fa-qq":"f1d6","fa-weixin":"f1d7","fa-paper-plane":"f1d8","fa-paper-plane-o":"f1d9","fa-history":"f1da","fa-circle-thin":"f1db","fa-header":"f1dc","fa-paragraph":"f1dd","fa-sliders":"f1de","fa-share-alt":"f1e0","fa-share-alt-square":"f1e1","fa-bomb":"f1e2","fa-futbol-o":"f1e3","fa-tty":"f1e4","fa-binoculars":"f1e5","fa-plug":"f1e6","fa-slideshare":"f1e7","fa-twitch":"f1e8","fa-yelp":"f1e9","fa-newspaper-o":"f1ea","fa-wifi":"f1eb","fa-calculator":"f1ec","fa-paypal":"f1ed","fa-google-wallet":"f1ee","fa-cc-visa":"f1f0","fa-cc-mastercard":"f1f1","fa-cc-discover":"f1f2","fa-cc-amex":"f1f3","fa-cc-paypal":"f1f4","fa-cc-stripe":"f1f5","fa-bell-slash":"f1f6","fa-bell-slash-o":"f1f7","fa-trash":"f1f8","fa-copyright":"f1f9","fa-at":"f1fa","fa-eyedropper":"f1fb","fa-paint-brush":"f1fc","fa-birthday-cake":"f1fd","fa-area-chart":"f1fe","fa-pie-chart":"f200","fa-line-chart":"f201","fa-lastfm":"f202","fa-lastfm-square":"f203","fa-toggle-off":"f204","fa-toggle-on":"f205","fa-bicycle":"f206","fa-bus":"f207","fa-ioxhost":"f208","fa-angellist":"f209","fa-cc":"f20a","fa-ils":"f20b","fa-meanpath":"f20c","fa-buysellads":"f20d","fa-connectdevelop":"f20e","fa-dashcube":"f210","fa-forumbee":"f211","fa-leanpub":"f212","fa-sellsy":"f213","fa-shirtsinbulk":"f214","fa-simplybuilt":"f215","fa-skyatlas":"f216","fa-cart-plus":"f217","fa-cart-arrow-down":"f218","fa-diamond":"f219","fa-ship":"f21a","fa-user-secret":"f21b","fa-motorcycle":"f21c","fa-street-view":"f21d","fa-heartbeat":"f21e","fa-venus":"f221","fa-mars":"f222","fa-mercury":"f223","fa-transgender":"f224","fa-transgender-alt":"f225","fa-venus-double":"f226","fa-mars-double":"f227","fa-venus-mars":"f228","fa-mars-stroke":"f229","fa-mars-stroke-v":"f22a","fa-mars-stroke-h":"f22b","fa-neuter":"f22c","fa-genderless":"f22d","fa-facebook-official":"f230","fa-pinterest-p":"f231","fa-whatsapp":"f232","fa-server":"f233","fa-user-plus":"f234","fa-user-times":"f235","fa-bed":"f236","fa-viacoin":"f237","fa-train":"f238","fa-subway":"f239","fa-medium":"f23a","fa-y-combinator":"f23b","fa-optin-monster":"f23c","fa-opencart":"f23d","fa-expeditedssl":"f23e","fa-battery-full":"f240","fa-battery-three-quarters":"f241","fa-battery-half":"f242","fa-battery-quarter":"f243","fa-battery-empty":"f244","fa-mouse-pointer":"f245","fa-i-cursor":"f246","fa-object-group":"f247","fa-object-ungroup":"f248","fa-sticky-note":"f249","fa-sticky-note-o":"f24a","fa-cc-jcb":"f24b","fa-cc-diners-club":"f24c","fa-clone":"f24d","fa-balance-scale":"f24e","fa-hourglass-o":"f250","fa-hourglass-start":"f251","fa-hourglass-half":"f252","fa-hourglass-end":"f253","fa-hourglass":"f254","fa-hand-rock-o":"f255","fa-hand-paper-o":"f256","fa-hand-scissors-o":"f257","fa-hand-lizard-o":"f258","fa-hand-spock-o":"f259","fa-hand-pointer-o":"f25a","fa-hand-peace-o":"f25b","fa-trademark":"f25c","fa-registered":"f25d","fa-creative-commons":"f25e","fa-gg":"f260","fa-gg-circle":"f261","fa-tripadvisor":"f262","fa-odnoklassniki":"f263","fa-odnoklassniki-square":"f264","fa-get-pocket":"f265","fa-wikipedia-w":"f266","fa-safari":"f267","fa-chrome":"f268","fa-firefox":"f269","fa-opera":"f26a","fa-internet-explorer":"f26b","fa-television":"f26c","fa-contao":"f26d","fa-500px":"f26e","fa-amazon":"f270","fa-calendar-plus-o":"f271","fa-calendar-minus-o":"f272","fa-calendar-times-o":"f273","fa-calendar-check-o":"f274","fa-industry":"f275","fa-map-pin":"f276","fa-map-signs":"f277","fa-map-o":"f278","fa-map":"f279","fa-commenting":"f27a","fa-commenting-o":"f27b","fa-houzz":"f27c","fa-vimeo":"f27d","fa-black-tie":"f27e","fa-fonticons":"f280","fa-reddit-alien":"f281","fa-edge":"f282","fa-credit-card-alt":"f283","fa-codiepie":"f284","fa-modx":"f285","fa-fort-awesome":"f286","fa-usb":"f287","fa-product-hunt":"f288","fa-mixcloud":"f289","fa-scribd":"f28a","fa-pause-circle":"f28b","fa-pause-circle-o":"f28c","fa-stop-circle":"f28d","fa-stop-circle-o":"f28e","fa-shopping-bag":"f290","fa-shopping-basket":"f291","fa-hashtag":"f292","fa-bluetooth":"f293","fa-bluetooth-b":"f294","fa-percent":"f295","fa-gitlab":"f296","fa-wpbeginner":"f297","fa-wpforms":"f298","fa-envira":"f299","fa-universal-access":"f29a","fa-wheelchair-alt":"f29b","fa-question-circle-o":"f29c","fa-blind":"f29d","fa-audio-description":"f29e","fa-volume-control-phone":"f2a0","fa-braille":"f2a1","fa-assistive-listening-systems":"f2a2","fa-american-sign-language-interpreting":"f2a3","fa-deaf":"f2a4","fa-glide":"f2a5","fa-glide-g":"f2a6","fa-sign-language":"f2a7","fa-low-vision":"f2a8","fa-viadeo":"f2a9","fa-viadeo-square":"f2aa","fa-snapchat":"f2ab","fa-snapchat-ghost":"f2ac","fa-snapchat-square":"f2ad","fa-pied-piper":"f2ae","fa-first-order":"f2b0","fa-yoast":"f2b1","fa-themeisle":"f2b2","fa-google-plus-official":"f2b3","fa-font-awesome":"f2b4"};var totalLine=0,moveElementType="old",old_template="",interval="",ftypeCreated="",elementsToBeUpdated=[],element_history="elements",dragged_element="",initialize=0,paymentElementRestrict=!1,captchaElementRestrict=!1,Ui={init:function(){var e=window.location.href.replace(/#e/,"").split("/");gd.object=e[4],gd.element=e[5],Ui.scrollTo(gd.element),Ui.buildForm();var t=function(){window.initialize+=1,Ui.update(),window.initialize<=1&&Ui.scrollTo(gd.element)};void 0!=window.onpopstate?window.onpopstate=t:window.onhashchange=t},scrollTo:function(e,t){t=t||1e3,e&&setTimeout(function(){var t=$(".flex-container").find(".flex-col").get(0);$parentDiv=$(t);var a=$(document).find("#f"+e);a.length&&$parentDiv.scrollTop($parentDiv.scrollTop()+(a.offset().top-100))},t)},update:function(){var e=window.location.href.replace(/#e/,"").split("/");gd.object=e[4],gd.element=e[5],"new"==gd.element||"source"==gd.element?(gd.element.length>3&&$("#browsetheme").hide(),$("#snew").show()):"delivery"==gd.element?($(".formElementContainer").hide(),$("#displayHeaderContainer").hide(),$(".fc-logo").hide(),$(document).find(".fc-logo-add").hide(),$("#delivery").hide(),$("#deliveryActive").show(),$("#delivery button").addClass("active"),$("#deliveryContainer").show()):($("#snew").hide(),$(".formElementContainer").show(),$("#displayHeaderContainer").show(),$("#delivery").show(),$("#deliveryActive").hide(),$(".fc-logo").show(),$(".fc-logo").is(":empty")?$(document).find(".fc-logo-add").show():$(document).find(".fc-logo-add").hide(),$("#delivery button").removeClass("active"),$("#deliveryContainer").hide(),$("#sidebar li a").removeClass("active"),$('a[href="#e'+e[5]+'"]').addClass("active"),gd.element.length>0?("elementsEdit"==gd.element&&Ui.populateElementsEdit(),16==gd.element.length&&$("#f"+gd.element).click(),$(".sel").hide(),$("#s"+gd.element).show(),$(".el").removeClass("selected"),$("#f"+gd.element).addClass("selected")):($(".sel").hide(),"ENDPOINT"==gd.fd.type?$("#sendpoint").show():($("#selements").show(),$("#element").addClass("active"))),window.element_history=gd.element)},populateElementsEdit:function(){$(".elementsContainer").html("");var e=$(".ellist"),t=[];$.each(e,function(e,a){var i=$(a).find(".formline");$.each(i,function(e,a){var i=$(a).find(".el");$.each(i,function(e,a){var i={id:$(a).attr("id").slice(1),label:$(a).find("[prop=inputLabel]").val()};t.push(i)})})});var a=$("<ul></ul>");$.each(t,function(e,t){var i=t.label?t.label:"Field Label";a.append('<li><a href="javascript:;" class="button small round toggle" data-element-id="'+t.id+'">'+i+"</a></li>")}),a.append('<li><a href="javascript:;" class="button small round toggle" data-element-id="confirmation">Success page</a></li>'),$(".elementsContainer").append(a),a.on("click","a",function(){$("#f"+$(this).data("element-id")).trigger("mousedown")})},buildForm:function(){var e={};e.form_id=gd.object,Utils.reqdata("getForm",e,Ui.outputForm)},outputForm:function(e){if(e.error&&"new"!=gd.element&&"new"!=gd.element.substring(0,3)&&"source"!=gd.element)return Ui.alert("error","This form does not exists"),$(".fcc").hide(),void $("#sidebar").hide();gd.fd=e,gd.elems=e.elements,Ui.makeform(),Ui.actionBinding(),Ui.update()},formHasPaidElements:function(){var e=[],t=!1;return $(document).find(".formElementContainer").find(".el").each(function(){var a=$(this).find(".gc[et]"),i=a.data("default-value"),o=a.attr("type"),n=$(this).attr("id").slice(1),l=$(document).find("#s"+n);-1!=window.paidElements.indexOf(o)&&e.push(i),l.find("[prop=enableLogic]").is(":checked")&&(l.find("[prop=logicAction]").val()||l.find("[prop=logicField]").val()||l.find("[prop=logicCondition]").val()||l.find("[prop=logicValue]").val())&&0==t&&(t=!0,e.push("Conditional Display"))}),e},makeform:function(){var e=gd.elems;if("ENDPOINT"==gd.fd.type)gd.element="settings",$(".button-header").addClass("header-endpoint").html('<ul class="inline-list button-list flex-row"><li><a href="#eendpoint" id="formlet" class="button small round toggle active">Settings</a></li></ul>'),$(".sidebar-position").append('<div class="sidebar-settings scroll"></div>'),$(".sidebar-position .sidebar-settings").append('<div id="sendpoint" class="sel">'+tmpl.side.endpoint+"</div>"),"1"==gd.fd.active?$(".form-state-container").append('<div id="formState" class="form-state button small form-active">UnPublish</div>'):$(".form-state-container").append('<div id="formState" class="form-state button small">Publish</div>'),$(".formElementContainer").append(tmpl.endp.form),Ui.populatesidebar("endpoint"),$(".fcc #delivery").hide();else if(void 0!==gd.fd){if(gd.fd.logo){if("object"==typeof gd.fd.logo)t=$('<div class="logoAction"><a href="javascript:;"><i class="fa fa-times-circle"></i> Remove</a></div><img src="https://s3.amazonaws.com/'+gd.fd.logo.bucket+"/"+gd.fd.logo.key+"?v="+Utils.insertid()+'" />');else var t=$('<div class="logoAction"><a href="javascript:;"><i class="fa fa-times-circle"></i> Remove</a></div><img src="/logo/'+gd.fd.logo+"?v="+Utils.insertid()+'" />');$(".fc-logo").append(t),$(".fc-logo-add").hide()}if($(".button-header").html('<div id="sideElement">            \t\t<header>Fields</header>            \t\t<ul class="inline-list button-list flex-row">            \t\t\t<li><a href="#eelements" id="element" class="button small round toggle"><i class="fa fa-plus"></i> Add</a></li>            \t\t\t<li><a href="#eelementsEdit" id="elementEdit" class="button small round toggle"><i class="fa fa-pencil"></i> Edit</a></li>            \t\t</ul>            \t</div>            \t<div id="sideForm">            \t\t<header>The form</header>            \t\t<ul class="inline-list button-list flex-row">            \t\t\t<li style="width:55%"><a href="#esettings" id="formlet" class="button small round toggle active"><i class="fa fa-cog"></i> Settings</a></li>            \t\t\t<li style="width:45%"><a href="#etheme" id="theme" class="button small round toggle"><i class="fa fa-pie-chart"></i> Color</a></li>            \t\t</ul>            \t</div>            </ul>'),$(".sidebar-position").append('<div class="sidebar-settings scroll"></div>'),"1"==gd.fd.active?$(".form-state-container").append('<div id="formState" class="form-state button small form-active">Unpublish</div>'):$(".form-state-container").append('<div id="formState" class="form-state button small">Publish</div>'),$(".sidebar-position .sidebar-settings").append('            \t<div id="selements" class="sel">'+tmpl.side.elements+'</div>            \t<div id="selementsEdit" class="sel">'+tmpl.side.elementsEdit+'</div>            \t<div id="ssettings" class="sel">'+tmpl.side.settings+'</div>            \t<div id="sconfirmation" class="sel">'+tmpl.side.confirmation+'</div>            \t<div id="stheme" class="sel">'+tmpl.side.theme+"</div>            "),e||(e=[]),e.sort(function(e,t){return e.order==t.order?0:e.order>t.order?1:-1}),gd.fd.pages&&gd.fd.pages.constructor===Array&&gd.fd.pages.length){a=[];$.each(gd.fd.pages,function(e,t){if($.isEmptyObject(t._id));else{var i=!1;a.length&&(i=a.map(function(e){return e==t._id}).reduce(function(e,t){return e||t})),i||a.push(t._id)}}),0==a.length&&(a=["page1"])}else var a=["page1"];var o=0,n=0,l=$(".formElementContainer");if($.each(a,function(t,i){var s=$('<div id="formelements_'+o+'" data-page="'+i+'" class="ellist"></div>');l.append(s);for(var r=$.grep(e,function(e){return e.page==i||$.isEmptyObject(e.page)}),d=[],c=[],t=0;t<r.length;t++){var f=0;c.push(r[t]);for(var p=0;p<c.length;p++)f+=c[p].size;(f>=12||t==r.length-1)&&(d.push(c),c=[])}$.each(d,function(e,t){n++,window.totalLine++;var a="line"+n,i=$('<div class="formline" id="'+a+'"></div>');$.each(t,function(e,t){if(void 0===(a=tmpl.frm[t.type]))var a="no template loaded for "+t.type;var o=$('<div id="f'+t._id+'" class="el">'+a+"</div>"),n=o.find("fieldset"),l=n.find("input");t.customValidationType&&o.attr("validation-type",t.customValidationType);var s=o.find('textarea[prop="inputLabel"]');"SECTION"==t.type&&(s=o.find('textarea[prop="labelText"]'));var r=o.find('button[prop="required"]'),d=o.find('[prop="instructionText"]');if(s.html(t.inputLabel),"SECTION"==t.type&&s.html(t.labelText),t.required&&r.addClass("active"),t.instructionText&&d.html(t.instructionText),t.iconEnabled&&(n.addClass("inline-edit-container"),l.addClass("inline-edit input-text"),n.append('<i class="fa '+t.iconName+'"></i>')),"CHECKBOX"==t.type||"RADIO"==t.type||"SWITCH"==t.type||"PRODUCTS"==t.type||"INPUTTABLE"==t.type){var c=o.find('[class="option_container"]'),f=t.optionsList;if("PRODUCTS"==t.type){f=t.productsList,c.find("table").remove();var p=t.optionsList,u="currency";t.unit&&(u=t.unit),o.find("[et=products]").attr("data-unit",u)}if("RADIO"!=t.type&&"CHECKBOX"!=t.type&&"SWITCH"!=t.type||c.find(".foption").remove(),"INPUTTABLE"==t.type){f=t.questionList;var m=t.answerList;c.find("tr.ans").remove(),c.find("tr.foption").remove();var g=$('<tr class="ans">                  \t\t\t\t\t<td></td>                                </tr>'),h="";m&&m.length&&$.each(m,function(e,t){g.append($('<td class="gray"><label class="option"><input type="text" class="inline-edit input-text table-input" value="'+t.label+'"></label><div class="del"><i class="icon-trash"></i></div></td>')),h+='<td class="ans"><input type="radio" disabled class="radio_ans"></td>'}),g.insertBefore(c.find(".new"))}if(void 0!=f){if("PRODUCTS"==t.type)var b=o.find(".select select.text");if($.each(f,function(e,a){if(a){var i=a.value?a.value:0,o=$('<input type="text" class="inline-edit input-text" />').val(a.label),n=$('<input type="text" class="inline-edit input-text product-input" />').val(a.label),l=$('<input type="text" class="inline-edit input-text table-input" />').val(a.label),s=$('<input type="text" class="inline-edit input-text" style="margin-left:30px;width: 94%;" />').val(a.label);if("CHECKBOX"==t.type)(r=$('<div class="foption">\t                                            <fieldset class="option-container">\t                                                <label class="option">\t                                                    <input type="checkbox" />\t                                                    <i></i>\t                                                </label>\t                                                <button class="inline-edit red">\t                                                    <i class="fm-icon-close-thick"></i>\t                                                </button>\t                                            </fieldset>\t                                        </div>')).find(".option").append(o);else if("PRODUCTS"==t.type){var r=$('<tr class="foption option-container trow">\t                              \t\t\t\t\t<td>\t\t                                                <label class="option">\t\t                                                    <input type="checkbox" />\t\t                                                    <i></i>\t\t                                                </label>\t\t                                                <span class="price">(<span class="symbol">$</span><span class="amount">'+i+'</span> <span class="currency">'+gd.fd.currency+'</span>)</span>\t                                                </td>\t                                                <td class="tamt">\t                                                \t<span class="tcell"><select><option class="default_value_amt">Quantity</option></select></span>\t                                                </td>\t                                                <td class="tbtn">\t\t                                                <button class="inline-edit red">\t\t                                                    <i class="fm-icon-close-thick"></i>\t\t                                                </button>\t                                                </td>\t                                            </tr>'),d=$("<option>"+a.label+' (<span class="symbol">$</span>'+i+' <span class="currency">'+gd.fd.currency+"</span>)</option>");b.append(d),r.find(".option").append(n)}else if("INPUTTABLE"==t.type)(r=$('<tr class="foption option-container trow">\t                              \t\t\t\t\t<td class="gray">\t\t                                                <label class="option">\t\t                                                </label>\t\t                                                <div class="del"><i class="icon-trash"></i></div>\t                                                </td>\t                                            </tr>')).find(".option").append(l),r.append($(h));else if("SWITCH"==t.type){var f="ON",p="OFF";t.onLabel&&(f=t.onLabel),t.offLabel&&(p=t.offLabel),(r=$('<div class="foption">\t                                            <fieldset class="option-container">\t                                                <label class="option switch">\t                                                    <input type="checkbox" />\t                                                    <span class="switch-container"><span class="switch-status on">'+f+'</span><span class="switch-status off">'+p+'</span><i></i></span>\t                                                </label>\t                                                <button class="inline-edit red">\t                                                    <i class="fm-icon-close-thick"></i>\t                                                </button>\t                                            </fieldset>\t                                        </div>')).find(".option").append(s);var u=c.find("div.new").find(".switch-container");u.find(".on").html(f),u.find(".off").html(p)}else(r=$('<div class="foption">\t                                            <fieldset class="option-container">\t                                                <label class="option">\t                                                    <i class="fake-radio"></i>\t                                                </label>\t                                                <button class="inline-edit red">\t                                                    <i class="fm-icon-close-thick"></i>\t                                                </button>\t                                            </fieldset>\t                                        </div>')).find(".option").append(o);r.insertBefore(c.find(".new"))}}),"PRODUCTS"==t.type&&(t.useSelect?(o.find(".selectContainer").show(),c.hide()):(o.find(".selectContainer").hide(),c.show()),t.enableAmount?(o.find(".tamt").show(),o.find(".selectContainer").addClass("hasQty")):(o.find(".tamt").hide(),o.find(".selectContainer").removeClass("hasQty")),o.find(".default_value_amt").html(t.enableAmountLabel),void 0!=p)){var v=o.find(".tcell select"),A=o.find(".selectContainer .qty select");$.each(p,function(e,t){if(t){var a=$('<option value="'+t.value+'">'+t.label+"</option>");v.append(a),A.append(a)}})}}t.otherOption&&c.find(".other").show(),t.otherOptionLabel&&c.find(".otherText").html(t.otherOptionLabel)}else if("SELECT"==t.type){c=o.find("fieldset select");void 0!=t.optionsList&&$.each(t.optionsList,function(e,t){var a=$('<option value="'+t.value+'">'+t.label+"</option>");c.append(a)})}else if("RANGE"==t.type){var y=n.find(".output-container");t.rangeMax&&y.find("span").html(t.rangeMax)}else if("NAME"==t.type)t.middleName&&!t.nameTitle?(o.find(".firstname").removeClass("g6").addClass("g5"),o.find(".lastname").removeClass("g6").addClass("g5"),o.find(".titlename").hide(),o.find(".middlename").show()):!t.middleName&&t.nameTitle?(o.find(".firstname").removeClass("g6").addClass("g5"),o.find(".lastname").removeClass("g6").addClass("g5"),o.find(".titlename").show(),o.find(".middlename").hide()):t.middleName&&t.nameTitle&&(o.find(".firstname").removeClass("g6").addClass("g4"),o.find(".lastname").removeClass("g6").addClass("g4"),o.find(".titlename").show(),o.find(".middlename").show());else if("US_ADDRESS"==t.type)t.country?o.find(".countrySelect").show():o.find(".countrySelect").hide(),"OTHER"==t.format&&(o.find(".state_select").hide(),o.find(".state_text").show());else if("PICTURE"==t.type){if(o.addClass("picture"),t.picture){o.find(".no_image").hide();var w=o.find(".image_container");w.show();var C=w.find("img");C.attr("src","/images/"+t.picture),t.width&&C.css("width",t.width),t.height&&C.css("height",t.height)}}else if("FILE"==t.type){var x=t.fileButtonLabel;x||(x="Choose File..."),o.find(".editable").html(x)}else if("DATE"==t.type||"DATETIME"==t.type||"TIME"==t.type){var E=o.find("input[prop=placeholderText]");t.placeholderText&&E.val(t.placeholderText);var T=t.interval?t.interval:1,k=!!t.use12Notation&&t.use12Notation,B=null,S=null,_=window.user_date_format;if("DATETIME"==t.type){var D=!1,L=!0,U=t.beginDate,P=t.endDate;U&&(B=new Date(1e3*window.strtotime(U))),P&&(S=new Date(1e3*strtotime(P)))}else if("DATE"==t.type){var D=!1,L=!1,U=t.beginDate,P=t.endDate;U&&(B=new Date(1e3*window.strtotime(U))),P&&(S=new Date(1e3*strtotime(P)))}else var L=!0,D=!0;if("DATETIME"==t.type||"TIME"==t.type)if(1==k){R=!1;if(D)_="h:i K";else _=window.user_date_format+" h:i K"}else{var R=!0;if(D)_="H:i";else _=window.user_date_format+" H:i"}var N=null;"DATE"!=t.type&&"DATETIME"!=t.type||!t.defaultValue||(N=new Date(1e3*window.strtotime(t.defaultValue))),setTimeout(function(){Ui.makeElementDateOrTime(E,{dateFormat:_,noCalendar:D,enableTime:L,minuteIncrement:T,time_24hr:R,minDate:B,maxDate:S,allowInput:!0,defaultDate:N,appendTo:E.closest("fieldset").get(0),onClose:function(e,t,a){$(a.input).blur()}})},500)}else if("TEXTAREA"==t.type){var I=o.find(".rcContainer");t.textMaxLength?(I.show(),I.css("display","block"),I.find(".maxChar").html(t.textMaxLength)):I.hide();var M=96;t.textAreaHeight&&(M=t.textAreaHeight),(E=o.find("textarea[prop=placeholderText]")).css("height",M+"px")}else if("SIGNATURE"==t.type){var Q=(I=o.find(".canvasC")).find("canvas");t.width&&(I.css("width",t.width+"px"),Q.css("width",t.width+"px")),t.height&&(I.css("height",t.height+"px"),Q.css("height",t.height+"px")),t.clearLabel&&I.find(".actions .clear").html(t.clearLabel)}i.append(o),Ui.makeside(t._id,t.type),Ui.elpopulate(t)}),s.append(i),$("input.product-input").each(function(){$(this).attr({width:"auto",size:$(this).val().length})});var o=document.getElementById(a);Ui.makeElementSortable(o)}),n++,window.totalLine++,Ui.addformline("line"+n,o);var u=$('<div class="footer">                    <div class="gr flush" style="margin:0">                        <div class="gc g3 pad-double right">                            <span contenteditable class="button button-blue nextButtonText editable" type="button" style="float: right;">Next</span>                        </div>                        <div class="gc g3 pad-double left" style="float:left">                            <span contenteditable data-trigger="s_previousButtonText" data-prop="previousButtonText" class="button button-blue previousButtonText editable" type="button" style="float: left;">Previous</span>                        </div>                        <div class="gc g6 pad-double align-center left" style="width:100%;">                            <span class="pagination" style="display:inline-block; margin-top:8px;"><span class="pagination_page footerPaginationPageText">Page</span> 1 <span class="pagination_of footerPaginationOfText">of</span> 2</span>                        </div>                    </div>                </div>'),m=a[o-1],g=a[o+1];void 0==m?u.find(".left > .button").hide():u.find(".left > .button").show(),void 0==g?u.find(".right > .button").removeClass("nextButtonText").addClass("submitButtonText").attr("data-trigger","s_submitButtonText").attr("data-prop","submitButtonText").html("Submit"):u.find(".right > .button").removeClass("submitButtonText").addClass("nextButtonText").attr("data-trigger","s_nextButtonText").attr("data-prop","nextButtonText").html("Next"),gd.fd.submitButtonText&&u.find(".button.submitButtonText").html(gd.fd.submitButtonText),gd.fd.previousButtonText&&u.find(".button.previousButtonText").html(gd.fd.previousButtonText),gd.fd.nextButtonText&&u.find(".button.nextButtonText").html(gd.fd.nextButtonText),a.length>1?u.find(".pagination").html('<span class="pagination_page footerPaginationPageText">Page</span> '+(o+1)+' <span class="pagination_of footerPaginationOfText">of</span> '+a.length):u.find(".pagination").hide(),s.append(u),gd.fd.pages&&gd.fd.pages.constructor===Array&&gd.fd.pages.length&&$.each(gd.fd.pages,function(e,t){i==t._id&&(void 0!==t.nextButtonText&&s.find(".button.nextButtonText").html(t.nextButtonText),void 0!==t.previousButtonText&&s.find(".button.previousButtonText").html(t.previousButtonText))}),s.find(".pagination_page").html(gd.fd.footerPaginationPageText),s.find(".pagination_of").html(gd.fd.footerPaginationOfText),o++;var h=$('<div class="arrange"><i title="move page down" class="fa fa-arrow-circle-down down" aria-hidden="true"></i> <i title="move page up" class="fa fa-arrow-circle-up up" aria-hidden="true"></i></div>');void 0==g?h.find(".down").hide():h.find(".down").show(),void 0==m?h.find(".up").hide():h.find(".up").show(),s.append(h)}),a.length>1)for(i=1;i<a.length;i++){var s=$('[data-page="'+a[i]+'"]'),r=$('<div class="delpage button small">                        <i class="fa fa-trash"></i> Delete Page                    </div>');s.append(r)}var d=gd.fd.submitSuccessMessage,c="thank you for your submission",f="submitSuccessMessage";gd.fd.doRedirect?(c="http://example.com/",f="redirectUrl",(d=gd.fd.redirectUrl)||(d="")):d||(d="thank you for your submission"),l.append('<div class="new_form_page">\t\t\t\t<a href="javascript:;" class="new_page button small round"><i class="fa fa-plus"></i> Add new Page</a>\t\t\t\t<div class="submit_confirmation_info">Success page</div>            \t<div class="submit_confirmation">            \t\t<div id="sc_redirects"><div>Redirects to:</div></div>            \t\t<div id="fconfirmation" class="el"><div class="gc"><textarea class="ed autoheight" prop="'+f+'" placeholder="'+c+'">'+d+"</textarea></div></div>            \t</div>            </div>"),gd.fd.doRedirect?(l.find("#sc_redirects").show(),l.find("textarea").removeClass("autoheight")):(l.find("#sc_redirects").hide(),l.find("textarea").addClass("autoheight"));Sortable.create(document.getElementById("sideA"),{animation:350,ghostClass:"ghost",dataIdAttr:"did",sort:!1,group:{name:"A",pull:"clone",put:!1},onMove:function(e){Ui.setel(e)},onStart:function(e){Ui.showDropLines(e)},onEnd:function(e){Ui.removeDropLines()}}),Sortable.create(document.getElementById("sideB"),{animation:350,ghostClass:"ghost",dataIdAttr:"did",sort:!1,group:{name:"A",pull:"clone",put:!1},onMove:function(e){Ui.setel(e)},onStart:function(e){Ui.showDropLines(e)},onEnd:function(e){Ui.removeDropLines()}}),Sortable.create(document.getElementById("sideC"),{animation:350,ghostClass:"ghost",dataIdAttr:"did",sort:!1,group:{name:"A",pull:"clone",put:!1},onMove:function(e){Ui.setel(e)},onStart:function(e){Ui.showDropLines(e)},onEnd:function(e){Ui.removeDropLines()}});Ui.populatesidebar("theme"),Ui.populatesidebar("settings"),Ui.populatesidebar("confirmation"),Ui.populatesidebar("elements"),Ui.populatesidebar("elementsEdit"),"0"!=gd.fd.themeEnabled&&""!=gd.fd.themeEnabled&&gd.fd.themeEnabled||$("#stheme").find("fieldset").not(".customCSSFieldset").hide()}else $(".formElementContainer").append("something went wrong with this form , Do you have the rights to see it ?")},makeside:function(e,t){var a=["inputLabel","validationMessage","instructionText","helpText","placeholderText","placeholderFirstText","placeholderMiddleText","placeholderLastText","placeholderAddress1Text","placeholderAddress2Text","placeholderCityText","placeholderStateText","placeholderZipText","placeholderCountryText","reqdis","defaultValue","optionsList","queryName","otherOption","otherOptionLabel","enableAmount","productsList","questionList","answerList","amountOptionsList","logic","calculation"];if(void 0===(i=tmpl.side[t]))var i="no Side template loaded for "+t;for(i+="STRIPE"==t||"PAYPAL"==t||"STRIPEPAYPAL"==t||"CAPTCHA"==t?'<fieldset>\t            <ul class="inline-list button-list" style="margin-left:7px">\t                <li><button class="del_element button small red">Delete</button></li>\t            </ul>\t        </fieldset>':'<fieldset>\t            <ul class="inline-list button-list" style="margin-left:7px">\t                <li><button class="duplicate button small">Duplicate</button></li>\t                <li><button class="del_element button small red">Delete</button></li>\t            </ul>\t        </fieldset>',$(".sidebar-position .sidebar-settings").append('<div id="s'+e+'" et="'+t+'"class="sel" style="display:none">'+i+"</div>"),l=0;l<a.length;l++)$("#s"+e+" fieldset."+a[l]).html(tmpl.fld[a[l]])},redel:function(e){var t=$(e.to).parent(".ellist"),a=t.data("page"),i=t.attr("id").slice(13);if($(e.item).hasClass("disabled")&&"1"==gd.fd.active)return Ui.alert("error",'Please use a non published form if you want to test that element or <a href="/settings/subscription/">upgrade your account</a>.'),$(e.item).remove(),!1;if(window.paymentElementRestrict&&($(e.item).hasClass("stripe")||$(e.item).hasClass("paypal")||$(e.item).hasClass("stripepaypal")))return Ui.alert("error","There can be only 1 payment element in a form please delete the other one."),$(e.item).remove(),!1;if(window.captchaElementRestrict&&$(e.item).hasClass("captcha"))return Ui.alert("error","There can be only 1 captcha element in a form please delete the other one."),$(e.item).remove(),!1;$(e.item).find("input").each(function(e,t){$(t).attr("data-default-value")&&("checkbox"==$(t).attr("type")?$(t).attr("checked",!0):$(t).val($(t).attr("data-default-value")))});$(document).find("#"+e.item.id).parent().attr("id");var o=$(document).find("#"+e.item.id).attr("id")?$(document).find("#"+e.item.id).attr("id").slice(1):null;if($("#"+e.item.id).attr("did"))var n=$(document).find("#"+e.item.id).attr("did").slice(4).toUpperCase();var l=$("#"+e.item.id).attr("data-text-type"),s=1e3*$(e.to).attr("id").slice(4);if(!$(e.to).hasClass("drop-line")){var r="";window.dragged_element&&(r=window.dragged_element.val()),Ui.createformel(s,n,a,o,l,r),setTimeout(function(){Ui.balanceformline($(e.to),a),setTimeout(function(){Ui.submitUpdateElements(window.elementsToBeUpdated)},1e3)},300)}"new"==window.moveElementType&&1==$(e.to).find(".el").length&&($(e.to).hasClass("drop-line")?setTimeout(function(){$(e.to).removeClass("drop-line");var t=1e3*$(e.to).attr("id").slice(4),i="";window.dragged_element&&(i=window.dragged_element.val()),Ui.createformel(t,n,a,o,l,i);var s=$(e.to).closest(".formElementContainer").find(".ellist"),r=1;$.each(s,function(e,t){var a=(t=$(t)).data("page");$.each(t.find(".formline"),function(e,t){$(t).find(".el").length>0&&(Ui.balanceformline($(t),a,r),r++)})}),setTimeout(function(){Ui.submitUpdateElements(window.elementsToBeUpdated)},1e3),window.dragged_element=""},300):(newlineid=window.totalLine+1,Ui.addformline("line"+newlineid,i,"new"),window.totalLine=newlineid,window.moveElementType="old")),($(e.item).hasClass("stripe")||$(e.item).hasClass("paypal")||$(e.item).hasClass("stripepaypal"))&&Ui.determineCurrency()},addNewElement:function(e){var t=e.from.id;"sideA"!=t&&"sideB"!=t&&"sideC"!=t||Ui.redel(e)},showDropLines:function(e){$(document).find(".new_form_page").css("marginBottom","1000px");var t=$(".ellist");$.each(t,function(t,a){var i=$(a).find(".formline");$.each(i,function(t,a){if($(a).find(".el").length)if($(a).attr("id")==e.from.id&&1==$(a).find(".el").length);else{var i=$('<div class="formline drop-line" placeholder="Drag boxes here to add them to the form"></div>');Ui.makeElementSortable(i.get(0)),i.insertBefore($(a))}})})},removeDropLines:function(){$(document).find(".new_form_page").css("marginBottom","400px");var e=$(".drop-line");$.each(e,function(e,t){0==$(t).find(".el").length&&$(t).remove()}),setTimeout(function(){var e=$(".ellist"),t=1;$.each(e,function(e,a){var i=$(a).find(".formline");$.each(i,function(e,a){$(a).attr("id","line"+t),Ui.makeElementSortable($(a).get(0)),t++})})}),window.interval&&clearInterval(window.interval)},paymentElementExists:function(){var e=$(".ellist"),t=!1;return $.each(e,function(e,a){var i=$(a).find(".formline");$.each(i,function(e,a){var i=$(a).find(".el");i.length&&$.each(i,function(e,a){if($(a).hasClass("ghost"));else{var i=$(a).find(".gc").first().attr("et");"paypal"!=i&&"stripe"!=i&&"stripepaypal"!=i||(t=!0)}})})}),window.paymentElementRestrict=t,t},captchaElementExists:function(){var e=$(".ellist"),t=!1;return $.each(e,function(e,a){var i=$(a).find(".formline");$.each(i,function(e,a){var i=$(a).find(".el");i.length&&$.each(i,function(e,a){$(a).hasClass("ghost")||"captcha"==$(a).find(".gc").first().attr("et")&&(t=!0)})})}),window.captchaElementRestrict=t,t},makeElementSortable:function(e){Sortable.create(e,{animation:350,group:"A",filter:function(e){var t=$(e.toElement).closest(".div-textarea");if(t.length)a=t;else var a=$(e.toElement);return!!(a.hasClass("inline-edit")||a.hasClass("ed")||a.hasClass("div-textarea")||"placeholderText"==a.attr("prop"))},onAdd:function(e){if(!($(e.to).find(".el").length>0))return!1;Ui.addNewElement(e),window.interval&&clearInterval(window.interval)},onMove:function(e){return!0},onEnd:function(e){Ui.removeDropLines(),Ui.endMove(e)},onStart:function(e){Ui.showDropLines(e)}})},addformline:function(e,t,a){"old"==(a=a||"old")?$("#formelements_"+t).append('<div class="formline" id="'+e+'" placeholder="Drag boxes here to add them to the form"></div>'):$('<div class="formline" id="'+e+'" placeholder="Drag boxes here to add them to the form"></div>').insertBefore("#formelements_"+t+" .footer");var i=document.getElementById(e);Ui.makeElementSortable(i)},setel:function(e,t){if(t=t||"dragged",$(e.dragged).hasClass("disabled")&&"1"==gd.fd.active);else if(Ui.paymentElementExists()&&($(e.dragged).hasClass("stripe")||$(e.dragged).hasClass("paypal")||$(e.dragged).hasClass("stripepaypal")));else if(!Ui.captchaElementExists()||!$(e.dragged).hasClass("captcha")){clearInterval(window.interval),0==$($(e.dragged).html()).is("div")&&"dragged"==t&&(window.old_template=$(e.dragged).html());var a=Utils.insertid(),i=$(e.dragged).attr("did").slice(4);if(void 0===(o=tmpl.frm[i.toUpperCase()]))var o="no template loaded for "+i.toUpperCase();if(void 0===tmpl.side[i.toUpperCase()])i.toUpperCase();var n=$("<div>"+o+"</div>"),l="";if($(e.dragged).data("text-type")){l=$(e.dragged).data("text-type");var s=(r=n.find("fieldset")).find("input");"email"!=l&&"phone"!=l&&"date"!=l||(r.addClass("inline-edit-container"),s.addClass("inline-edit input-text")),"email"==l?(s.attr("type","email"),r.append('<i class="fa fa-envelope"></i>')):"phone"==l?r.append('<i class="fa fa-phone"></i>'):"date"==l?r.append('<i class="fa fa-calendar"></i>'):"number"==l&&s.attr("type","number")}if("datetime"==i){d=(r=n.find("fieldset")).find("input[prop=placeholderText]").get(0);Ui.makeElementDateOrTime(d,{enableTime:!0,allowInput:!0,time_24hr:!0,appendTo:r.get(0),onClose:function(e,t,a){$(a.input).blur()}})}if("date"==i){d=(r=n.find("fieldset")).find("input[prop=placeholderText]").get(0);Ui.makeElementDateOrTime(d,{allowInput:!0,appendTo:r.get(0),onClose:function(e,t,a){$(a.input).blur()}})}if("time"==i){var r=n.find("fieldset"),d=r.find("input[prop=placeholderText]").get(0);Ui.makeElementDateOrTime(d,{enableTime:!0,noCalendar:!0,time_24hr:!0,allowInput:!0,appendTo:r.get(0),onClose:function(e,t,a){$(a.input).blur()}})}var c=$(e.dragged).data("default-value"),f=n.find("textarea[prop=inputLabel]");return f.length&&(f.val(c),window.dragged_element=f),$(e.dragged).html(n),$(e.dragged).attr("id","f"+a),l&&$(e.dragged).attr("validation-type",l.toUpperCase()),Ui.makeside(a,i.toUpperCase()),Ui.movel(e),"dragged"==t&&(window.interval=setInterval(function(){0==$(e.to).find("#f"+a).length&&window.old_template&&($(e.dragged).html(window.old_template),$(e.dragged).removeAttr("id"),window.old_template="")},1)),a}($(e.dragged).hasClass("stripe")||$(e.dragged).hasClass("paypal")||$(e.dragged).hasClass("stripepaypal"))&&Ui.determineCurrency()},endMove:function(e){var t=$(e.item).closest(".formElementContainer").find(".ellist"),a=1,i=1;$.each(t,function(t,o){var n=(o=$(o)).data("page"),l=o.attr("id").slice(13);0==$(e.from).find(".el").length&&$(e.from).remove();var s=o.find(".formline").last(),r=s.attr("id").slice(4);$.each(o.find(".formline"),function(e,t){$(t).find(".el").length>0&&($(t).hasClass("drop-line")&&$(t).removeClass("drop-line"),Ui.balanceformline($(t),n,a),a++)}),s.find(".el").length>0&&Ui.addformline("line"+(parseInt(r)+1),l,"new"),setTimeout(function(){$.each(o.find(".formline"),function(e,t){$(t).attr("id","line"+i),i++})},100)}),Ui.submitUpdateElements(window.elementsToBeUpdated)},movel:function(e){var t=e.from.id;e.to.id;"sideA"!=t&&"sideB"!=t&&"sideC"!=t||(window.moveElementType="new")},saveform:function(e){e.toArray();alert("ccc"),alert(JSON.stringify(e.options.group))},balanceformline:function(e,t,a){var i=e.attr("id"),o=1e3*(a=a||i.slice(4)),n=e.find(".el"),l=12/n.length;$.each(n,function(e,a){var i=o+e,n={};n.form_id=gd.object,n.el_id=$(a).attr("id").slice(1),n.order=i,n.size=l,n.page=t,n.action="update",window.elementsToBeUpdated.push({el_id:$(a).attr("id").slice(1),order:i,size:l,page:t})}),Ui.determineFormNeedsUpgrade()},submitUpdateElements:function(e){var t={};t.form_id=gd.object,t.updates=e,t.action="update",t.method="POST",Utils.reqdata("editElements",t),window.elementsToBeUpdated=[]},elpopulate:function(e){1==e.required&&$("#f"+e._id+" [prop=required]").addClass("active"),1==e.iconEnabled&&($("#f"+e._id+" div.icon").addClass("icon-input"),$("#f"+e._id+" div.icon").append('<i class="fa '+e.iconName+'"></i>')),"TEXT"==e.type&&"NONE"!=e.customValidationType&&$(".sidebar #s"+e._id).find(".validationMessage").show(),"FILE"==e.type&&e.largeFile&&e.fileType&&"image"==e.fileType.split("/")[0]&&$(".sidebar #s"+e._id).find(".image_dimension").show();var t=[],a=[],i=["required","disabled","iconEnabled","enableLogic"];if("TEXT"==e.type)var i=["required","disabled","iconEnabled","enableLogic"],t=["inputLabel","instructionText","helpText","placeholderText","defaultValue","iconName","customValidationType","validationMessage","queryName","logicAction","logicField","logicCondition","logicValue","regex"];else if("DATE"==e.type)var i=["required","disabled","enableLogic"],t=["inputLabel","instructionText","helpText","placeholderText","defaultValue","queryName","beginDate","endDate","logicAction","logicField","logicCondition","logicValue"];else if("TIME"==e.type)var i=["required","disabled","use12Notation","enableLogic"],t=["inputLabel","instructionText","helpText","placeholderText","defaultValue","queryName","interval","logicAction","logicField","logicCondition","logicValue","minTime","maxTime"];else if("DATETIME"==e.type)var i=["required","disabled","use12Notation","queryName","enableLogic"],t=["inputLabel","instructionText","helpText","placeholderText","defaultValue","queryName","beginDate","endDate","interval","logicAction","logicField","logicCondition","logicValue","minTime","maxTime"];else if("FILE"==e.type)var t=["inputLabel","fileButtonLabel","instructionText","helpText","queryName","logicAction","logicField","logicCondition","logicValue","unfinishUpload","finishedUpload","uploading","fileType","minSize","maxSize","fileSizeError","minHeight","maxHeight","minWidth","maxWidth","fileDimensionError"],i=["required","disabled","sendAsAttachment","enableLogic","largeFile"];else if("PICTURE"==e.type)var t=["width","height","logicAction","logicField","logicCondition","logicValue"],i=["enableLogic"];else if("STRIPE"==e.type)var t=["label","public_key","secret_key","amount","currency","paymentsPageLabel","buttonLabel","cardNameLabel","cardNumberLabel","expiryDateLabel","securityCodeLabel","postCodeLabel","queryName","logicAction","logicField","logicCondition","logicValue","calculationTotal","fieldList"],i=["postCode","enableLogic"];else if("PAYPAL"==e.type)var t=["label","email","amount","currency","paymentsPageLabel","buttonLabel","queryName","logicAction","logicField","logicCondition","logicValue","calculationTotal","fieldList"],i=["enableLogic"];else if("STRIPEPAYPAL"==e.type)var t=["label","labelStripe","labelPaypal","email","public_key","secret_key","amount","currency","paymentsPageLabel","buttonLabel","cardNameLabel","cardNumberLabel","expiryDateLabel","securityCodeLabel","postCodeLabel","queryName","logicAction","logicField","logicCondition","logicValue","calculationTotal","fieldList"],i=["postCode","enableLogic"];else if("LABEL"==e.type)var t=["labelText","logicAction","logicField","logicCondition","logicValue"],i=["enableLogic"];else if("SECTION"==e.type)var t=["labelText","logicAction","logicField","logicCondition","logicValue"],i=["enableLogic"];else if("SELECT"==e.type)var t=["inputLabel","instructionText","helpText","placeholderText","queryName","logicAction","logicField","logicCondition","logicValue"],i=["required","disabled","enableLogic"],a=["optionsList"];else if("RADIO"==e.type||"CHECKBOX"==e.type)var t=["inputLabel","instructionText","helpText","queryName","otherOptionLabel","logicAction","logicField","logicCondition","logicValue"],i=["required","disabled","otherOption","enableLogic"],a=["optionsList"];else if("PRODUCTS"==e.type)var t=["inputLabel","instructionText","helpText","queryName","enableAmountLabel","unit","logicAction","logicField","logicCondition","logicValue"],i=["required","disabled","enableAmount","useSelect","enableLogic"],a=["productsList","optionsList"];else if("INPUTTABLE"==e.type)var t=["inputLabel","instructionText","helpText","queryName","logicAction","logicField","logicCondition","logicValue"],i=["required","disabled","enableLogic"],a=["questionList","answerList"];else if("SWITCH"==e.type)var t=["inputLabel","instructionText","helpText","queryName","onLabel","offLabel","otherOptionLabel","logicAction","logicField","logicCondition","logicValue"],i=["required","disabled","otherOption","enableLogic"],a=["optionsList"];else if("RANGE"==e.type)var t=["inputLabel","instructionText","helpText","rangeMax","rangeMin","queryName","logicAction","logicField","logicCondition","logicValue"],i=["required","disabled","enableLogic"];else if("NAME"==e.type)var t=["inputLabel","instructionText","helpText","placeholderTitleText","placeholderFirstText","placeholderMiddleText","placeholderLastText","queryName","logicAction","logicField","logicCondition","logicValue"],i=["required","disabled","nameTitle","middleName","enableLogic"];else if("TEXTAREA"==e.type)var t=["inputLabel","instructionText","helpText","placeholderText","defaultValue","customValidationType","queryName","textMaxLength","textAreaHeight","logicAction","logicField","logicCondition","logicValue"],i=["required","disabled","enableLogic"];else if("US_ADDRESS"==e.type)var t=["inputLabel","instructionText","helpText","format","placeholderAddress1Text","placeholderAddress2Text","placeholderCityText","placeholderStateText","placeholderZipText","placeholderCountryText","defaultCountry","queryName","logicAction","logicField","logicCondition","logicValue"],i=["required","disabled","country","enableLogic"];else if("CAPTCHA"==e.type)t=["captchaError"];else if("SIGNATURE"==e.type)var t=["label","width","height","clearLabel","logicAction","logicField","logicCondition","logicValue"],i=["enableLogic"];for(l=0;l<a.length;l++)if(void 0!=e[a[l]])for("object"==typeof e[a[l]]&&(e[a[l]]=Object.keys(e[a[l]]).map(function(t){return e[a[l]][t]})),$(".sidebar #s"+e._id+" [prop="+a[l]+"]").html(""),"SELECT"==e.type&&$("#f"+e._id+" [prop="+a[l]+"]").html("<option></option>"),op=0;op<e[a[l]].length;op++){var o=e[a[l]][op];if(o){if(void 0==o.label&&(o.label=""),void 0==o.value&&(o.value=""),"SWITCH"==e.type);else if("RADIO"==e.type||"CHECKBOX"==e.type){var n=$('<input prop="option_label" class="" type="text" />').val(o.label),s=$('<div prop="o'+op+'" class="option-container">\t\t\t          \t\t\t<label class="option">\t\t\t          \t\t\t\t<i class="fake-radio"></i>\t\t\t          \t\t\t</label>\t\t\t          \t\t\t<button class="inline-edit red" tabindex="-1"><i class="fm-icon-close-thick"></i></button>\t\t\t          \t\t</div>');s.find("label.option").append(n),$("#f"+e._id+" [prop="+a[l]+"]").append(s)}else $("#f"+e._id+" [prop="+a[l]+"]").append($("<option>",{value:o.value,text:o.label,oid:"o"+op}));var r="",d="";if(0==op?d='style="display:none;"':op==e[a[l]].length-1&&(r='style="display:none;"'),"INPUTTABLE"==e.type)(f=$('<fieldset prop="o'+op+'">\t\t\t\t            \t<input class="g10 text small dark" prop="option_label" value="'+o.label+'">\t\t\t\t            \t<button class="right inline-edit delete" tabindex="-1"><i class="icon-trash"></i></button>\t\t\t\t            \t<button class="right inline-edit moveup" tabindex="-1" '+d+'><i class="icon-arrow-up"></i></button>\t\t\t\t            \t<button class="right inline-edit movedown" tabindex="-1" '+r+'><i class="icon-arrow-down"></i></button>\t\t\t\t            </fieldset>')).find("input[prop=option_label]").val(o.label);else{var f=$('<fieldset prop="o'+op+'">\t\t\t\t            \t<input class="g5 text small dark" prop="option_label" value="'+o.label+'">\t\t\t\t            \t<input class="g5 text small dark marleft" prop="option_value" value="'+o.value+'">\t\t\t\t            \t<button class="right inline-edit delete" tabindex="-1"><i class="icon-trash"></i></button>\t\t\t\t            \t<button class="right inline-edit moveup" tabindex="-1" '+d+'><i class="icon-arrow-up"></i></button>\t\t\t\t            \t<button class="right inline-edit movedown" tabindex="-1" '+r+'><i class="icon-arrow-down"></i></button>\t\t\t\t            </fieldset>');f.find("input[prop=option_label]").val(o.label),f.find("input[prop=option_value]").val(o.value)}$(".sidebar #s"+e._id+" [prop="+a[l]+"]").append(f)}}for(setTimeout(function(){for(l=0;l<t.length;l++){void 0!=e[t[l]]&&($("#f"+e._id+" [prop="+t[l]+"]").is("div")&&$("#f"+e._id+" [prop="+t[l]+"]").html(e[t[l]]),$("#f"+e._id+" [prop="+t[l]+"]").is("option")?$("#f"+e._id+" [prop="+t[l]+"]").html(e[t[l]]):$("#f"+e._id+' [prop="'+t[l]+'"]').val(e[t[l]]),$("#s"+e._id+" [prop="+t[l]+"]").val(e[t[l]]));var a=String(e[t[l]]).replace(/\W/g,"");$(document).find("fieldset."+t[l]+"_"+a).show()}},100),c=0;c<i.length;c++)1==e[i[c]]?($("#s"+e._id+" [prop="+i[c]+"]").prop("checked",!0),$(document).find("#s"+e._id+" .show_"+i[c]+"_1").show(),$(document).find("#s"+e._id+" .show_"+i[c]+"_0").hide()):($(document).find("#s"+e._id+" .show_"+i[c]+"_1").hide(),$(document).find("#s"+e._id+" .show_"+i[c]+"_0").show())},populatesidebar:function(e){var t={};t.theme=["themeFormBackground","themeBrowserBackground","themeFont","themeEnabled","themeFormBorder","themeFieldBackground","themeFieldBorder","themeFieldActive","themeFieldHover","themeFieldError","themeFieldSelected","themeSubmitButton","themeSubmitButtonText","themeText","themeDescriptionText","themeFieldText","themeCSS","themeID","customCSS"],t.settings=["name","logo","description","displayHeader","notifyNewSubmissions","notifySubmitter","notifyUseTemplate","emailReply","emailFrom","email","submitButtonText","previousButtonText","nextButtonText","inactiveMessage","requiredMessage","autoComplete","footerPaginationPageText","footerPaginationOfText","currency","isExternalData","externalData","enableCSRF","autoFill"],t.confirmation=["doRedirect","submitSuccessMessage","redirectUrl"],t.elements=[],t.elementsEdit=[],t.endpoint=["name","doRedirect","submitSuccessMessage","redirectUrl","notifyNewSubmissions","notifySubmitter","email","emailReply","emailFrom"];var a=t[e].length;for(i=0;i<a;i++)Ui.setprop(t[e][i],gd.fd[t[e][i]],"from db")},setprop:function(e,t,a){if("checked"!=a){if(t&&("name"!=e&&"description"!=e||(t=t.replace(/\\(.)/gm,"$1")),$("#"+e).html(t),$("#s_"+e).val(t)),"displayHeader"!=e||t||$(document).find("#displayHeaderContainer").css("visibility","hidden"),"logo"==e&&t){$("#ssettings").find(".file").hide();var i=$("#ssettings").find(".logoContainer");if("object"==typeof t)o=$('<fieldset class="formlogo"><i class="fa fa-trash"></i><img src="https://s3.amazonaws.com/'+t.bucket+"/"+t.key+"?v="+Utils.insertid()+'" /></fieldset>');else var o=$('<fieldset class="formlogo"><i class="fa fa-trash"></i><img src="/logo/'+t+"?v="+Utils.insertid()+'" /></fieldset>');$(i).append(o)}"themeEnabled"==e&&t&&$("#stheme").find(".customCSS").hide(),"customCSS"==e&&t&&($("#stheme").find(".themeEnabled").hide(),$(document).find(".warning_message_custom_css").show())}"checkbox"==$("#s_"+e).attr("type")&&(1==t?($("#s_"+e).prop("checked",!0),$(document).find(".show_"+e+"_0").hide(),$(document).find(".show_"+e+"_1").show()):($("#s_"+e).prop("checked",!1),$(document).find(".show_"+e+"_1").hide(),$(document).find(".show_"+e+"_0").show())),temp_val=String(t).replace(/\W/g,""),$(document).find("fieldset."+e+"_"+temp_val).show()},activateEl:function(e){if(e=e||!1,window.initialize=2,e._id){var t=e._id,a=$(document).find("#f"+t);parent.location.hash="#e"+t;var i=[],o=!1;a.closest(".formElementContainer").find(".ellist").each(function(){if(o)return!1;$(this).find(".el").each(function(){var e=$(this).attr("id").substring(1);if(e==t)return o=!0,!1;var a=$(this).find("[prop=inputLabel]").val();i.push({id:e,label:a})})});var n=$(document).find("#ssettings");if(n.find("#s_isExternalData").is(":checked")){var l=n.find("#s_externalData").val().split(",");$.each(l,function(e,t){i.push({id:t.trim(),label:t.trim()})})}var s=$(document).find("#s"+t);e.enableLogic?s.find(".show_enableLogic_1").show():s.find(".show_enableLogic_1").hide();var r=s.find("[prop=logicField]");if(r.html('<option value=""></option>'),$.each(i,function(e,t){if(t.label){var a=$('<option value="'+t.id+'">'+t.label+"</option>");r.append(a)}}),i.length<=0?s.find("fieldset.logic").hide():s.find("fieldset.logic").show(),e.logicField&&r.val(e.logicField),"INPUTTABLE"==e.type||"RADIO"==e.type||"CHECKBOX"==e.type||"SWITCH"==e.type||"PRODUCTS"==e.type||"SELECT"==e.type)Ui.elpopulate(e);else if("PAYPAL"==e.type||"STRIPE"==e.type||"STRIPEPAYPAL"==e.type)Ui.elpopulate(e),Ui.populateCalculationField(e),Ui.calculationShowActions(t);else if("TEXT"==e.type){var d=s.find(".fontawesome-select");d.html('<option value="">Select</option>'),$.each(gd.fa_icons,function(e,t){var a=e.replace("fa-","",t);a=(a=a.replace("-"," ",a)).toLowerCase().replace(/\b[a-z]/g,function(e){return e.toUpperCase()}),d.append('<option value="'+e+'">&#x'+t+" "+a)}),Ui.elpopulate(e)}}else if($(this).attr("id")){t=$(this).attr("id").substring(1);parent.location.hash="#e"+t;var c={};c.form_id=gd.object,c.element_id=t,Utils.reqdata("getFormElement",c,Ui.activateEl)}},createformel:function(e,t,a,i,o,n){if("elements"!=i){var l={};l.form_id=gd.object,l.el_id=i,l.order=e,l.size=12;var s=$(document).find("#s"+i);t&&(l.type=t),o?("email"==o?(l.iconEnabled=!0,l.iconName="fa-envelope",l.customValidationType="EMAIL",s.find("input[prop=iconEnabled]").prop("checked",!0),s.find("select[prop=iconName]").val("fa-envelope"),s.find("select[prop=customValidationType]").val("EMAIL")):"phone"==o?(l.iconEnabled=!0,l.iconName="fa-phone",l.customValidationType="PHONE",s.find("input[prop=iconEnabled]").prop("checked",!0),s.find("select[prop=iconName]").val("fa-phone"),s.find("select[prop=customValidationType]").val("PHONE")):"date"==o?(l.iconEnabled=!0,l.iconName="fa-calendar",l.customValidationType="DATE",s.find("input[prop=iconEnabled]").prop("checked",!0),s.find("select[prop=iconName]").val("fa-calendar"),s.find("select[prop=customValidationType]").val("DATE")):"number"==o&&(l.customValidationType="NUMBER",s.find("select[prop=customValidationType]").val("NUMBER")),l.validationMessage="This must be a valid value."):"NAME"==t?(l.placeholderFirstText="Firstname",l.placeholderLastText="Lastname",l.placeholderMiddleText="Middlename",l.placeholderTitleText="Title"):"STRIPE"==t?(l.label="Cards Accepted",l.buttonLabel="Buy now",l.paymentsPageLabel="This is a sample payment label",l.totalLabel="Total",l.cardNameLabel="Name on Card",l.cardNumberLabel="Card Number",l.expiryDateLabel="Expiry Date",l.securityCodeLabel="Security Code",l.postCodeLabel="ZIP/Postal Code",l.postCode=0,l.fieldList=[{field:""}],l.calculationTotal=""):"PAYPAL"==t?(l.label="We accept paypal payments",l.buttonLabel="Buy now",l.paymentsPageLabel="This is a sample payment label",l.totalLabel="Total",l.fieldList=[{field:""}],l.calculationTotal=""):"STRIPEPAYPAL"==t?(l.label="Please select paypal or credit/debit card",l.labelStripe="Pay with credit / debit card",l.labelPaypal="Pay with Paypal",l.buttonLabel="Buy now",l.paymentsPageLabel="This is a sample payment label",l.totalLabel="Total",l.cardNameLabel="Name on Card",l.cardNumberLabel="Card Number",l.expiryDateLabel="Expiry Date",l.securityCodeLabel="Security Code",l.postCodeLabel="ZIP/Postal Code",l.postCode=0,l.fieldList=[{field:""}],l.calculationTotal=""):"US_ADDRESS"==t?(l.placeholderAddress1Text="Address 1",l.placeholderAddress2Text="Address 2",l.placeholderCityText="City",l.placeholderStateText="State",l.placeholderZipText="Zip Code",l.placeholderCountryText="Country",l.country=!0,l.format="OTHER",s.find("input[prop=country]").prop("checked",!0),s.find("select[prop=format]").val("OTHER")):"RADIO"==t||"CHECKBOX"==t||"SWITCH"==t?(l.otherOptionLabel="Other",l.optionsList=[{label:"option 1"},{label:"option 2"}]):"SELECT"==t?l.optionsList=[{label:"option 1"},{label:"option 2"}]:"PRODUCTS"==t?(l.enableAmountLabel="Quantity",l.unit="currency",l.productsList=[{label:"Product 1",value:"100"},{label:"Product 2",value:"100"}]):"INPUTTABLE"==t?(l.questionList=[{label:"Question 1"},{label:"Question 2"}],l.answerList=[{label:"Bad"},{label:"Good"},{label:"Excellent"}]):"CAPTCHA"==t?l.captchaError="Please validate the captcha":"SIGNATURE"==t?(l.label="Signature",l.width=300,l.height=150,l.clearLabel="Clear"):"TEXTAREA"==t?(l.maxLengthErrorMessage="This field exceeded the maximum characters allowed.",l.textAreaHeight=96):"FILE"==t&&(l.unfinishUpload="File is not ready yet.",l.finishedUpload="File Uploaded",l.uploading="Uploading",l.fileSizeError="File size did not meet the requirement.",l.fileDimensionError="Image dimension did not meet the requirement."),l.page=a,l.inputLabel=n,l.method="POST",Utils.reqdata("editFormElement",l)}},deleteformel:function(){var e=$(this),t=e.closest(".ellist"),a=t.data("page"),i=t.attr("id").slice(13),o=e.closest(".el").attr("id").slice(1),n={};n.form_id=gd.object,n.el_id=o,n.method="POST",n.action="delete",Utils.reqdata("editFormElement",n),$("#s"+o).remove(),$("#f"+o).remove();var l=1;$.each(t.find(".formline"),function(e,t){$(t).find(".el").length>0?(Ui.balanceformline($(t),a,l),l++):$(t).remove()}),setTimeout(function(){Ui.submitUpdateElements(window.elementsToBeUpdated)},100),setTimeout(function(){Ui.removeDropLines(),Ui.addformline("line"+l,i,"new")},500),setTimeout(function(){window.location.href=gd.path+"editor/"+gd.object+"/#eelements"},1e3)},updateformel:function(e){var t=$(this).closest(".sel"),a=t.attr("id").slice(1),i=t.attr("et"),o={};if(null!=(L=$(this).attr("prop"))&&""!=L&&"elements"!=gd.element){if("settings"==a||"endpoint"==a||"confirmation"==a)if($("#"+L).html($(this).val()),$(document).find("#fconfirmation textarea[prop="+L+"]").val($(this).val()),"displayHeader"==L&&($(this).is(":checked")?$("#displayHeaderContainer").css("visibility","visible"):$("#displayHeaderContainer").css("visibility","hidden")),"checkbox"==$(this).attr("type")){if($(this).is(":checked")){if($("#s"+a+" .show_"+L+"_0").hide(),$("#s"+a+" .show_"+L+"_1").show(),"notifyNewSubmissions"==L)""==$("#s_email").val()&&($("#s_email").val(window.loginEmail),$("#s_email").trigger("keyup"));else if("notifySubmitter"==L||"isExternalData"==L){var n=!1;$.each($(".formElementContainer .el"),function(e,t){"EMAIL"!=$(t).attr("validation-type")||(n=!0)});O=!1;"FREE"==accountStatus?("notifySubmitter"==L?Ui.alert("error",'Please <a href="/settings/subscription/">upgrade your account</a> to enable email notifications to respondents'):"isExternalData"==L&&Ui.alert("error",'Please <a href="/settings/subscription/">upgrade your account</a> to enable pass external data'),O=!0):0==n&&"notifySubmitter"==L&&(Ui.alert("error","Please add atleast one email element in the form."),O=!0),O&&setTimeout(function(){$("#s_"+L).next(".switch-container").click()},100)}else if("doRedirect"==L){var l=(r=$(document).find("#sconfirmation")).find('[prop="redirectUrl"]');l.trigger("change");var s=l.val();(c=$(document).find(".submit_confirmation")).find("#sc_redirects").show(),(f=c.find("textarea")).css("height","21px"),f.removeClass("autoheight"),f.attr("placeholder","http://example.com/"),f.attr("prop","redirectUrl"),f.val(s)}}else if($("#s"+a+" .show_"+L+"_1").hide(),"doRedirect"==L){var r=$(document).find("#sconfirmation"),d=r.find("[prop=submitSuccessMessage]").val(),c=$(document).find(".submit_confirmation");c.find("#sc_redirects").hide();var f=c.find("textarea");f.addClass("autoheight"),f.attr("placeholder","thank you for your submission"),f.attr("prop","submitSuccessMessage"),f.val(d),f.trigger("keydown")}}else"submitSuccessMessage"==L&&$("textarea.autoheight").trigger("keydown");if("theme"==a){if((""==gd.fd.themeEnabled||"0"==gd.fd.themeEnabled||!gd.fd.themeEnabled)&&"themeEnabled"!=L&&"customCSS"!=L)return;switch(L){case"themeBrowserBackground":$(".fcc, .flex-col").css("background",$(this).val()+" !important");break;case"themeFont":var p=$(this).val();p||(p="'Source Sans Pro','Helvetica Neue',Helvetica,Arial,sans-serif"),$(this).val()&&WebFont.load({google:{families:[p]}}),$(".fcc").css("font-family",p+" !important"),$(".fcc button").css("font-family",p+" !important"),$(".fcc textarea").css("font-family",p+" !important");break;case"themeFormBackground":$(".fcc .ellist, .fcc .ellist .el, .fcc .ellist .el textarea:not(.text), .fcc .ellist .el [prop=labelText], .fcc .ellist .el .option-container input[type=text]").not(".selected").css("background",$(this).val()+" !important");break;case"themeFormBorder":$(".fcc .ellist").css("border","1px solid "+$(this).val()+" !important");break;case"themeFieldBackground":$(".fcc .el fieldset:not(.option-container):not(.range):not(.file):not(.picture), .fcc .el textarea.text, .fcc .el input[prop=placeholderText], .fcc .el input.static, .fcc .el fieldset select, .fcc .el canvas.signature-pad").css("background",$(this).val()+" !important");break;case"themeFieldBorder":$(".fcc .el fieldset:not(.option-container):not(.range):not(.file):not(.picture), .fcc .el textarea.text, .fcc .el fieldset select, .fcc .el canvas.signature-pad").css("boxShadow","0 0 0 1px "+$(this).val()+" !important"),$(".fcc .el fieldset.option-container i:not(.fm-icon-close-thick)").css("border","1px solid "+$(this).val()+" !important");break;case"themeSubmitButton":$(".fcc span.button, .fcc .file button[type=button]").css("background",$(this).val()+" !important");break;case"themeSubmitButtonText":$(".fcc span.button, .fcc .file button[type=button]").css("color",$(this).val()+" !important");break;case"themeText":$(".fcc, .fcc .el fieldset, .fcc .ellist .el textarea:not(.text), .fcc .ellist .el div.div-textarea, .fcc .el .option input.inline-edit").css("color",$(this).val()+" !important");break;case"themeDescriptionText":$(".fcc #description").css("color",$(this).val()+" !important");break;case"themeFieldText":$('.fcc .el [prop="placeholderText"]').css("color",$(this).val()+" !important");break;case"themeEnabled":setTimeout(function(){window.location.reload()},500)}}if("option_label"==L||"option_value"==L){var u=$(this).closest(".optionsList").attr("prop"),m=$(this).parent().attr("prop");"optionsList"==$(this).closest("div[class=optionsList").attr("prop")&&"PRODUCTS"==i&&(i="QTY");var g=P=$(this).val();if("SELECT"==i)$("#f"+gd.element+" [class=optionsList] [oid="+m+"] ").is("option")||$("#f"+gd.element+" [class=optionsList]").append($("<option>",{oid:m}));else if("CHECKBOX"==i||"RADIO"==i||"SWITCH"==i||"PRODUCTS"==i||"INPUTTABLE"==i){if("option_value"==L){var h=$(this).prev();""!=h.val()&&(g=h.val())}var b=m.slice(1),v=$("#f"+gd.element).find('[class="option_container"]');if("INPUTTABLE"==i){if("answerList"==u)(y=v.find("tr.ans td.gray").get(b))?$(y).html('<label class="option"><input type="text" class="inline-edit input-text table-input" value="'+g+'"></label><div class="del"><i class="icon-trash"></i></div>'):(v.find("tr.ans").append($('<td class="gray"><label class="option"><input type="text" class="inline-edit input-text table-input" value="'+g+'"></label><div class="del"><i class="icon-trash"></i></div></td>')),v.find("tr.foption").each(function(){$(this).append($('<td class="ans"><input type="radio" disabled="" class="radio_ans"></td>'))}));else if("questionList"==u)if(y=v.find("tr.foption").get(b))$(y).find("td.gray input").val(g);else{var A=v.find("tr.foption").get(b-1);A?(A=$(A).clone()).find("td.gray input").val(g):A=$('<tr class="foption option-container trow"><td class="gray"><label class="option"><input type="text" class="inline-edit input-text table-input"></label><div class="del"><i class="icon-trash"></i></div></td></tr>'),A.insertBefore(v.find("tr.new"))}}else{if(void 0==(y=v.find("div").not("div.new").not("div.other").get(b)))var y=v.find("tr.trow").not("div.new").not("div.other").get(b);if(y){if($(y).find("input").val(g),"PRODUCTS"==i&&"option_value"==L){w=$(this).val()?$(this).val():0;$(y).find(".price .amount").html(w);C=(k=$("#f"+gd.element).find(".select select")).find("option").get(parseInt(b)+1);$(C).html(g+' (<span class="symbol">$</span>'+w+' <span class="currency">'+gd.fd.currency+"</span>)")}if("PRODUCTS"==i&&"option_label"==L){var w=(w=$(this).next()).val()?w.val():0,C=(k=$("#f"+gd.element).find(".select select")).find("option").get(parseInt(b)+1);$(C).html(g+' (<span class="symbol">$</span>'+w+' <span class="currency">'+gd.fd.currency+"</span>)")}}else{var x=$('<input type="text" class="inline-edit input-text" />').val(P),E=$('<input type="text" class="inline-edit input-text product-input" />').val(P),T=$('<input type="text" class="inline-edit input-text" style="margin-left:30px;width: 94%;" />').val(P);if("CHECKBOX"==i)(D=$('<div class="foption">\t                            <fieldset class="option-container">\t                                <label class="option">\t                                    <input type="checkbox" />\t                                    <i></i>\t                                </label>\t                                <button class="inline-edit red">\t                                    <i class="fm-icon-close-thick"></i>\t                                </button>\t                            </fieldset>\t                        </div>')).find(".option").append(x);else if("PRODUCTS"==i){w=0;"option_value"==L&&(w=$(this).val()),(D=$('<tr class="foption option-container trow">\t          \t\t\t\t\t<td>\t                                <label class="option">\t                                    <input type="checkbox" />\t                                    <i></i>\t                                </label>\t                                <span class="price">(<span class="symbol">$</span><span class="amount">'+w+'</span> <span class="currency">'+gd.fd.currency+'</span>)</span>\t                            </td>\t                            <td class="tamt">\t                            \t<span class="tcell"><select><option class="default_value_amt">Quantity</option></select></span>\t                            </td>\t                            <td class="tbtn">\t                                <button class="inline-edit red">\t                                    <i class="fm-icon-close-thick"></i>\t                                </button>\t                            </td>\t                        </tr>')).find(".option").append(E);var k=$("#f"+gd.element).find(".select select"),B=$("<option>"+g+' (<span class="symbol">$</span>'+w+' <span class="currency">'+gd.fd.currency+"</span>)</option>");k.append(B),$("input.product-input").each(function(){$(this).attr({width:"auto",size:$(this).val().length})}),$("input.product-input").change(function(){$(this).attr({width:"auto",size:$(this).val().length})})}else if("SWITCH"==i){var S=(R=v.find("div.new").find(".switch-container")).find(".on").html(),_=R.find(".off").html();(D=$('<div class="foption">\t                            <fieldset class="option-container">\t                                <label class="option switch">\t                                    <input type="checkbox" />\t                                    <span class="switch-container"><span class="switch-status on">'+S+'</span><span class="switch-status off">'+_+'</span><i></i></span>\t                                </label>\t                                <button class="inline-edit red">\t                                    <i class="fm-icon-close-thick"></i>\t                                </button>\t                            </fieldset>\t                        </div>')).find(".option").append(T)}else{var D=$('<div class="foption">\t                            <fieldset class="option-container">\t                                <label class="option">\t                                    <i class="fake-radio"></i>\t                                </label>\t                                <button class="inline-edit red">\t                                    <i class="fm-icon-close-thick"></i>\t                                </button>\t                            </fieldset>\t                        </div>');D.find(".option").append(x)}D.insertBefore(v.find("div.new"))}}}else if("QTY"==i){b=m.slice(1);"option_label"==L&&(k=$("#f"+gd.element).find(".tcell select")).each(function(){var e=$(this).find("option").get(parseInt(b)+1);$(e).html(g)})}"option_label"==L&&"RADIO"!=i&&"CHECKBOX"!=i&&"PRODUCTS"!=i?$("#f"+gd.element+" [class=optionsList] [oid="+m+"] ").html(P):$("#f"+gd.element+" [class=optionsList] [oid="+m+"] ").attr("value",P);var L=L+"_"+m}else if("submitButtonText"==L||"previousButtonText"==L||"nextButtonText"==L){P=$(this).val();if((K=$(this).closest("fieldset")).hasClass("customFormButton")){var U=K.data("pageid");$('[data-page="'+U+'"]').find("[data-prop="+L+"]").html(P),o.page=U}}else if("footerPaginationPageText"==L||"footerPaginationOfText"==L){P=$(this).val();$(".ellist .footer ."+L).html($(this).val())}else if("fileButtonLabel"==L){P=$(this).val();(N=$(document).find("#f"+a)).find(".editable").html(P)}else if("onLabel"==L||"offLabel"==L){var P=$(this).val(),R=$("#f"+a).find(".switch-container");"onLabel"==L?R.find(".on").html(P):R.find(".off").html(P)}else if("rangeMax"==L){P=$(this).val();(M=$("#f"+a).find(".output-container")).find("span").html(P)}else if("otherOptionLabel"==L){P=$(this).val();(N=$(document).find("#f"+a)).find(".otherText").html(P)}else if("unit"==L){var N=$(document).find("#f"+a),I=$(document).find("#s"+a),P=$(this).val();N.find("[et=products]").attr("data-unit",$(this).val())}else if("enableAmountLabel"==L){var N=$(document).find("#f"+a),P=$(this).val();N.find(".default_value_amt").html($(this).val())}else if("textMaxLength"==L){var N=$(document).find("#f"+a),P=$(this).val(),M=N.find(".rcContainer");P?(M.show(),M.find(".maxChar").html(P)):M.hide()}else if("textAreaHeight"==L){var N=$(document).find("#f"+a),Q=96;if(P=$(this).val()){Q=P;(Z=N.find("textarea[prop=placeholderText]")).css("height",Q+"px")}}else if("width"==L){N=$(document).find("#f"+a);(P=$(this).val())&&((G=N.find(".canvasC")).css("width",P+"px"),(X=G.find("canvas")).css("width",P+"px"))}else if("height"==L){N=$(document).find("#f"+a);if(P=$(this).val()){var G=N.find(".canvasC");G.css("height",P+"px");var X=G.find("canvas");X.css("height",P+"px")}}else if("clearLabel"==L){var N=$(document).find("#f"+a),P=$(this).val();N.find(".actions .clear").html(P)}else if("fileType"==L){var N=$(document).find("#f"+a),I=$(document).find("#s"+a);"image"==(P=$(this).val()).split("/")[0]?I.find(".image_dimension").show():I.find(".image_dimension").hide()}else if("checkbox"==$(this).attr("type")&&"use12Notation"!=L)if(1==(P=$(this).attr("checked"))){if($(".show_"+L+"_0").hide(),$(".show_"+L+"_1").show(),"middleName"==L){N=$(document).find("#f"+a);(I=$(document).find("#s"+a)).find(".nameTitle").is(":checked")?(N.find(".firstname").removeClass("g6").removeClass("g5").addClass("g4"),N.find(".lastname").removeClass("g6").removeClass("g5").addClass("g4")):(N.find(".firstname").removeClass("g6").removeClass("g4").addClass("g5"),N.find(".lastname").removeClass("g6").removeClass("g4").addClass("g5")),N.find(".middlename").show()}else if("nameTitle"==L){N=$(document).find("#f"+a);(I=$(document).find("#s"+a)).find(".middleName").is(":checked")?(N.find(".firstname").removeClass("g6").removeClass("g5").addClass("g4"),N.find(".lastname").removeClass("g6").removeClass("g5").addClass("g4")):(N.find(".firstname").removeClass("g6").removeClass("g4").addClass("g5"),N.find(".lastname").removeClass("g6").removeClass("g4").addClass("g5")),N.find(".titlename").show()}else if("country"==L)(N=$(document).find("#f"+a)).find(".countrySelect").show();else if("iconEnabled"==L){N=$(document).find("#f"+a);$(document).find("#s"+a+" .show_iconEnabled_1").show(),N.find("fieldset").addClass("inline-edit-container"),N.find("fieldset").find("i").show()}else if("disabled"==L&&$(document).find("#s"+a+' input[prop="required"]').is(":checked"))$(document).find("#s"+a+' label[prop="required"]').click();else if("required"==L&&$(document).find("#s"+a+' input[prop="disabled"]').is(":checked"))$(document).find("#s"+a+' label[prop="disabled"]').click();else if("otherOption"==L)(N=$(document).find("#f"+a)).find(".other").show();else if("customCSS"==L)P=1,$(document).find("#s_themeEnabled").is(":checked")&&setTimeout(function(){$(document).find("#s_themeEnabled").click()},300),$(document).find(".themeEnabled").hide(),$(document).find(".warning_message_custom_css").show();else if("themeEnabled"==L)$(document).find("#s_customCSS").is(":checked")&&setTimeout(function(){$(document).find("#s_customCSS").click()},300);else if("useSelect"==L)(N=$(document).find("#f"+a)).find(".selectContainer").show(),N.find(".option_container").hide();else if("enableAmount"==L)(N=$(document).find("#f"+a)).find(".tamt").show(),N.find(".selectContainer").addClass("hasQty");else if("enableLogic"==L){var O=!1,H=$(document).find("#s"+gd.element);i=$(document).find("#s"+gd.element).attr("et"),"FREE"==accountStatus&&"1"==gd.fd.active&&(Ui.alert("error",'Please use unpublished form or <a href="/settings/subscription/">upgrade your account</a> to enable Conditional Display'),O=!0),O&&setTimeout(function(){H.find("#s_"+L).next(".switch-container").click()},100)}"required"!=L&&$(".selected [prop="+L+"]").addClass("active")}else{if($(".show_"+L+"_0").show(),$(".show_"+L+"_1").hide(),"middleName"==L){N=$(document).find("#f"+a);(I=$(document).find("#s"+a)).find(".nameTitle").is(":checked")?(N.find(".firstname").removeClass("g6").removeClass("g4").addClass("g5"),N.find(".lastname").removeClass("g6").removeClass("g4").addClass("g5")):(N.find(".firstname").removeClass("g4").removeClass("g5").addClass("g6"),N.find(".lastname").removeClass("g4").removeClass("g5").addClass("g6")),N.find(".middlename").hide()}else if("nameTitle"==L){N=$(document).find("#f"+a);(I=$(document).find("#s"+a)).find(".middleName").is(":checked")?(N.find(".firstname").removeClass("g6").removeClass("g4").addClass("g5"),N.find(".lastname").removeClass("g6").removeClass("g4").addClass("g5")):(N.find(".firstname").removeClass("g4").removeClass("g5").addClass("g6"),N.find(".lastname").removeClass("g4").removeClass("g5").addClass("g6")),N.find(".titlename").hide()}else if("country"==L)(N=$(document).find("#f"+a)).find(".countrySelect").hide();else if("iconEnabled"==L){N=$(document).find("#f"+a);$(document).find("#s"+a+" .show_iconEnabled_1").hide(),N.find("fieldset").removeClass("inline-edit-container"),N.find("fieldset").find("i").hide()}else"otherOption"==L?(N=$(document).find("#f"+a)).find(".other").hide():"customCSS"==L?(P=0,$(document).find(".themeEnabled").show(),$(document).find(".warning_message_custom_css").hide()):"useSelect"==L?((N=$(document).find("#f"+a)).find(".selectContainer").hide(),N.find(".option_container").show()):"enableAmount"==L&&((N=$(document).find("#f"+a)).find(".tamt").hide(),N.find(".selectContainer").removeClass("hasQty"));"required"!=L&&$(".selected [prop="+L+"]").removeClass("active")}else{if("customValidationType"==L){var F=(I=$("#s"+a)).find(".validationMessage"),j=F.find("input");"NONE"!=$(this).val()?(F.show(),""==j.val()&&(j.val("This must be a valid value."),j.trigger("change")),"REGEX"!=$(this).val()&&I.find(".customValidationType_REGEX").hide()):F.hide()}else if("width"==L||"height"==L){var q=$("#f"+a).find(".image_container").find("img"),z=(I=$("#s"+a)).find("input[prop=width]").val(),Q=I.find("input[prop=height]").val();"width"==L&&(z=$(this).val()),"height"==L&&(Q=$(this).val()),z?q.css("width",z):q.css("width","auto"),Q?q.css("height",Q):q.css("height","auto"),z||Q||q.css("width","100%"),q.css("maxWidth","100%")}else if("iconName"==L)if((K=(N=$(document).find("#f"+a)).find("fieldset")).find("i").length){var Y=K.find("i"),V=Y.attr("class").slice(3);Y.removeClass(V),Y.addClass($(this).val())}else K.append('<i class="fa '+$(this).val()+'"></i>');else if("customValidationType"==L)$("#f"+a).attr("validation-type",$(this).val());else if("format"==L){N=$(document).find("#f"+a);"OTHER"==$(this).val()?(N.find(".state_text").show(),N.find(".state_select").hide()):(N.find(".state_text").hide(),N.find(".state_select").show())}else if("themeID"==L)setTimeout(function(){window.location.reload()},500);else if("interval"==L||"beginDate"==L||"endDate"==L||"use12Notation"==L){var K=$(document).find("#f"+a),I=$(document).find("#s"+a),Z=K.find("input[prop=placeholderText]"),W=I.find("input[prop=interval]").val(),J=I.find("input[prop=use12Notation]").is(":checked"),ee=null,te=null;if(Z.hasClass("datetimePicker")){var ae=!1,ie=!0,oe=I.find("input[prop=beginDate]").val(),ne=I.find("input[prop=endDate]").val();oe&&(ee=new Date(1e3*window.strtotime(oe))),ne&&(te=new Date(1e3*strtotime(ne)))}else if(Z.hasClass("datePicker")){var ae=!1,ie=!1,oe=I.find("input[prop=beginDate]").val(),ne=I.find("input[prop=endDate]").val();oe&&(ee=new Date(1e3*window.strtotime(oe))),ne&&(te=new Date(1e3*strtotime(ne)))}else var ie=!0,ae=!0;if(1==J){le=!1;if(ae)se="h:i K";else se=window.user_date_format+" h:i K"}else{var le=!0;if(ae)se="H:i";else var se=window.user_date_format+" H:i"}setTimeout(function(){Ui.makeElementDateOrTime(Z,{dateFormat:se,noCalendar:ae,enableTime:ie,minuteIncrement:W,time_24hr:le,minDate:ee,maxDate:te,allowInput:!0,appendTo:Z.closest("fieldset").get(0),onClose:function(e,t,a){$(a.input).blur()}})},500)}P=$(this).val();"checkbox"==$(this).attr("type")&&(P=$(this).attr("checked")),$(".selected [prop="+L+"]").is("div")||$(".selected [prop="+L+"]").is("span")?$(".selected [prop="+L+"]").html(P):$(".selected [prop="+L+"]").val(P)}var re=String(P).replace(/\W/g,"");$(document).find("fieldset."+L+"_"+re).show(),Ui.determineFormNeedsUpgrade(),Ui.determineProduct(),Ui.determineCurrency(),o.form_id=gd.object,o.el_id="required"==L?a:gd.element,o.prop=L,o.value=P,i&&(o.el_type=i),u&&(o.list_type=u),o.method="POST",Utils.reqdata("editFormElement",o)}},duplicateformel:function(e){if((e=e||!1)._id){var t=e,a="f"+e._id;delete t._id,delete t.name,t.el_id=Utils.insertid(),t.form_id=gd.object,t.method="POST",$("#"+a).removeClass("selected");var i=$("#"+a).clone(),o=$('<div class="formline" id="line_copy"></div>');if(i.attr("id","f"+t.el_id),i.addClass("selected"),"DATE"==t.type||"DATETIME"==t.type||"TIME"==t.type){var n=i.find("input[prop=placeholderText]");n.val(t.placeholderText);var l=t.interval?t.interval:1,s=!!t.use12Notation&&t.use12Notation,r=null,d=null,c=window.user_date_format;if("DATETIME"==t.type){var f=!1,p=!0,u=t.beginDate,m=t.endDate;u&&(r=new Date(1e3*window.strtotime(u))),m&&(d=new Date(1e3*strtotime(m)))}else if("DATE"==t.type){var f=!1,p=!1,u=t.beginDate,m=t.endDate;u&&(r=new Date(1e3*window.strtotime(u))),m&&(d=new Date(1e3*strtotime(m)))}else var p=!0,f=!0;if("DATETIME"==t.type||"TIME"==t.type)if(1==s){g=!1;if(f)c="h:i K";else c=window.user_date_format+" h:i K"}else{var g=!0;if(f)c="H:i";else c=window.user_date_format+" H:i"}setTimeout(function(){Ui.makeElementDateOrTime(n,{dateFormat:c,noCalendar:f,enableTime:p,minuteIncrement:l,time_24hr:g,minDate:r,maxDate:d,allowInput:!0,defaultDate:null,appendTo:n.closest("fieldset").get(0),onClose:function(e,t,a){$(a.input).blur()}})},500)}o.append(i),o.insertAfter($("#"+a).closest(".formline")),Utils.reqdata("editFormElement",t),setTimeout(function(){var e=$(".formElementContainer").find(".ellist"),a=1,i=1;$.each(e,function(e,o){var n=(o=$(o)).data("page");o.attr("id").slice(13);$.each(o.find(".formline"),function(e,t){$(t).find(".el").length>0&&(Ui.balanceformline($(t),n,a),a++)}),setTimeout(function(){$.each(o.find(".formline"),function(e,t){$(t).attr("id","line"+i),i++}),Ui.submitUpdateElements(window.elementsToBeUpdated),Ui.makeside(t.el_id,t.type),t._id=t.el_id;var e=$("#f"+t._id);e.click();var a=e.closest(".formline");Ui.makeElementSortable(a.get(0)),Ui.elpopulate(t)},100)})},100)}else{var h=$(this).closest(".sel").attr("id").slice(1);(t={}).form_id=gd.object,t.element_id=h,Utils.reqdata("getFormElement",t,Ui.duplicateformel)}},updateformselected:function(e){if(13==e.which&&$(this).hasClass("ed")){var t=$(this).val();return $(this).val(t.substring(0,t.length-1)),!1}var a=$(this).closest(".el").attr("id").slice(1),i=$(this).closest(".gc").attr("et");if(null==(c=$(this).attr("prop"))||""==c){if("checkbox"==$(this).attr("type"))return;if($(this).closest(".option-container").length>0||$(this).closest("tr.ans").length>0){var o=$(this).closest(".option-container").parent();(o.hasClass("option_container")||o.is("tbody")&&"products"==o.closest(".gc").attr("et"))&&(o=$(this).closest(".option-container"));var n=o.index();if("inputtable"==i)if((n-=1)<0){n=(o=$(this).closest(".gray")).index()-1;l="answerList"}else var l="questionList";var s=$("#s"+a+" div[class=optionsList]").first();"inputtable"==i&&(s=$("#s"+a+" fieldset[class="+l+"]").find("div[class=optionsList]"));var r=s.find("fieldset[prop=o"+n+"]");if(0==r.length){var d=$('<fieldset prop="o'+n+'">                        <input class="g5 text small dark" prop="option_label">                        <input class="g5 text small dark marleft" prop="option_value">                        <button class="right inline-edit delete" tabindex="-1"><i class="icon-trash"></i></button>                        <button class="right inline-edit moveup" tabindex="-1"><i class="icon-arrow-up"></i></button>                        <button class="right inline-edit movedown" tabindex="-1"><i class="icon-arrow-down"></i></button>                    </fieldset>');""!=$(this).val()&&s.append(d),r=d,$(this).on("blur keydown",function(e){if((13==e.which||0==e.which)&&$(this).val()){var t=$(this).closest(".gc").attr("et"),a=$('<input type="text" class="inline-edit input-text" />').val($(this).val()),i=$('<input type="text" class="inline-edit input-text product-input" />').val($(this).val()),o=$('<input type="text" class="inline-edit input-text" style="margin-left:30px;width: 94%;" />').val($(this).val()),n=$(this).closest(".option_container");if("checkbox"==t)(f=$('<div class="foption">                                    <fieldset class="option-container">                                        <label class="option">                                            <input type="checkbox" />                                            <i></i>                                        </label>                                        <button class="inline-edit red">                                            <i class="fm-icon-close-thick"></i>                                        </button>                                    </fieldset>                                </div>')).find(".option").append(a);else if("products"==t){(f=$('<tr class="foption option-container trow">                  \t\t\t\t\t<td>                                        <label class="option">                                            <input type="checkbox" />                                            <i></i>                                        </label>                                        <span class="price">(<span class="symbol">$</span><span class="amount">0</span> <span class="currency">'+gd.fd.currency+'</span>)</span>                                    </td>                                    <td class="tamt">                                    \t<span class="tcell"><select><option class="default_value_amt">Quantity</option></select></span>                                    </td>                                    <td class="tbtn">                                        <button class="inline-edit red">                                            <i class="fm-icon-close-thick"></i>                                        </button>                                    </td>                                </tr>')).find(".option").append(i);var l=$("#f"+gd.element).find(".select select"),s=$("<option>"+$(this).val()+' (<span class="symbol">$</span>0 <span class="currency">'+gd.fd.currency+"</span>)</option>");l.append(s),$("input.product-input").each(function(){$(this).attr({width:"auto",size:$(this).val().length})}),Ui.determineProduct(),Ui.determineCurrency()}else if("switch"==t){var r=n.find("div.new").find(".switch-container"),d=r.find(".on").html(),c=r.find(".off").html();(f=$('<div class="foption">                                    <fieldset class="option-container">                                        <label class="option switch">                                            <input type="checkbox" />                                            <span class="switch-container"><span class="switch-status on">'+d+'</span><span class="switch-status off">'+c+'</span><i></i></span>                                        </label>                                        <button class="inline-edit red">                                            <i class="fm-icon-close-thick"></i>                                        </button>                                    </fieldset>                                </div>')).find(".option").append(o)}else{var f=$('<div class="foption">                                    <fieldset class="option-container">                                        <label class="option">                                            <i class="fake-radio"></i>                                        </label>                                        <button class="inline-edit red">                                            <i class="fm-icon-close-thick"></i>                                        </button>                                    </fieldset>                                </div>');f.find(".option").append(a)}var p=$(n).find("div.new");f.insertBefore($(n).find("div.new")),p.find("input").val("")}})}r.find("input[prop=option_label]").val($(this).val());var c="option_label_o"+n;(p={}).form_id=gd.object,p.el_id=a,p.prop=c,p.value=$(this).val(),p.el_type=i,p.method="POST",l&&(p.list_type=l),""!=p.value&&Utils.reqdata("editFormElement",p),Ui.modifyOptionButtons(s.find("fieldset"))}}else{if($(this).is("div"))f=$(this).html();else var f=$(this).val();$("#s"+a+" [prop="+c+"]").val(f);var p={};p.form_id=gd.object,p.el_id=a,p.prop=c,p.value=f,p.method="POST",Utils.reqdata("editFormElement",p)}},addoption:function(){var e="o"+$(this).parent().prev("div[class=optionsList]").find("fieldset").length,t="text";if("PRODUCTS"==$(this).closest(".sel").attr("et")&&(t="number"),"INPUTTABLE"==$(this).closest(".sel").attr("et"))a='<fieldset prop="'+e+'"><input type="text" class="g10 text small dark" prop="option_label"><button class="right inline-edit delete" tabindex="-1"><i class="icon-trash"></i></button> <button class="right inline-edit moveup" tabindex="-1"><i class="icon-arrow-up"></i></button> <button class="right inline-edit movedown" tabindex="-1"><i class="icon-arrow-down"></i></button> </fieldset>';else var a='<fieldset prop="'+e+'"><input type="text" class="g5 text small dark" prop="option_label"><input type="'+t+'" class="g5 text small dark marleft" prop="option_value"><button class="right inline-edit delete" tabindex="-1"><i class="icon-trash"></i></button> <button class="right inline-edit moveup" tabindex="-1"><i class="icon-arrow-up"></i></button> <button class="right inline-edit movedown" tabindex="-1"><i class="icon-arrow-down"></i></button> </fieldset>';var i=$(this).attr("prop");$(this).parent().prev("div[class=optionsList]").append(a).find("input[prop="+i+"]").focus(),Ui.modifyOptionButtons($(this).parent().prev("div[class=optionsList]").find("fieldset"))},changeoption:function(){var e=$(this).parent().attr("prop"),t=$(this).closest(".sel").attr("et");if($(this).hasClass("delete"))a="delete";else if($(this).hasClass("moveup"))a="moveup";else if($(this).hasClass("movedown"))var a="movedown";var i=$(this).closest("[class=optionsList]"),o=i.attr("prop");Utils.reqdata("editFormElement",{form_id:gd.object,el_id:gd.element,prop:"option_label_"+e,action:a,el_type:t,list_type:o});var n=$(this).closest("fieldset"),l=e.slice(1),s=$(document).find("#f"+gd.element+' [class="option_container"]');if("answerList"==o)r=s.find("tr.ans td.gray").get(l);else var r=s.find(".foption").get(l);var d=$(r);"movedown"==a?(n.next("fieldset").after(n),"answerList"==o?d.next(".gray").after(d):d.next(".foption").after(d)):"moveup"==a?(n.prev("fieldset").before(n),"answerList"==o?d.prev(".gray").before(d):d.prev(".foption").before(d)):"delete"==a&&(n.remove(),"answerList"==o?(d.remove(),s.find(".foption").each(function(){$(this).find("td.ans").first().remove()})):d.remove()),Ui.modifyOptionButtons(i.find("fieldset"))},modifyOptionButtons:function(e){var t=0;$.each(e,function(a,i){$(i).attr("prop","o"+t),$(i).find("button.moveup").show(),$(i).find("button.movedown").show(),0==a?$(i).find("button.moveup").hide():a==e.length-1&&$(i).find("button.movedown").hide(),t+=1})},createForm:function(e){var t=window.location.href.replace(/#e/,"").split("/");if(window.ftypeCreated=e,"ENDPOINT"==e)a=$("#snew input#endpointname").val();else var a=$("#snew input#formname").val();var i={};"source"==gd.element&&""!=t[6]&&(i.sourceform=t[6]),i.form_id=gd.object,i.name=a,i.type=e,Utils.reqdata("createForm",i,Ui.formCreated)},formCreated:function(){"ENDPOINT"==window.ftypeCreated?window.location.href=gd.path+"editor/"+gd.object+"/#eendpoint":window.location.href=gd.path+"editor/"+gd.object+"/#eelements",setTimeout(function(){window.location.reload()},500)},updateFormState:function(){var e={};e.form_id=gd.object,e.update_type="state",$("#formStateContainer #formState").hasClass("form-active")?(e.active=0,gd.fd.active=0):(e.active=1,gd.fd.active=1),Utils.reqdata("saveForm",e,Ui.formStateUpdated)},formStateUpdated:function(e){e.updated?Ui.alert("success",e.message):Ui.alert("error",e.message);var t=$("#formStateContainer #formState");e.active?(t.html("Unpublish"),t.addClass("form-active")):(t.html("Publish"),t.removeClass("form-active"))},alert:function(e,t){e=e||"error",t=t||"",$(".alert-container").addClass(e),$(".alert-container").html('<div class="content">'+t+'</div><span class="close"><i class="fa fa-times-circle"></i></span>'),$(".alert-container").show(),$(".alert-container").find("span.close").on("click",function(){$(".alert-container").removeClass("error"),$(".alert-container").removeClass("success"),$(".alert-container").html(""),$(".alert-container").hide()})},createNewPage:function(){var e={};e.form_id=gd.object,e.page=Utils.insertid(),Utils.reqdata("saveFormPage",e,Ui.formPageCreated)},formPageCreated:function(e){window.location.href=gd.path+"editor/"+gd.object+"/"},deletePage:function(){if(confirm("Are you sure you want to delete the page and it's elements?")){var e=$(this).closest(".ellist"),t=e.data("page"),a={};a.form_id=gd.object,a.page=t,a.action="delete",Utils.reqdata("saveFormPage",a,Ui.formPageDeleted);var i=e.closest(".formElementContainer").find(".ellist"),o=1,n=1;$.each(i,function(t,a){var i=(a=$(a)).data("page");a.attr("id").slice(13);$.each(a.find(".formline"),function(e,t){$(t).find(".el").length>0&&(Ui.balanceformline($(t),i,o),o++)}),setTimeout(function(){$.each(a.find(".formline"),function(e,t){$(t).attr("id","line"+n),n++}),e.remove(),window.location.reload()},100)})}},formPageDeleted:function(e){},logoDeleted:function(e){$(".fc-logo").html("");var t=$("#ssettings").find(".logoContainer");t.find(".file").show(),t.find(".formlogo").remove()},makeElementDateOrTime:function(e,t){t=t||null,e.flatpickr(t)},determineProduct:function(){setTimeout(function(){$(document).find("[et=products]").not("[data-unit=currency").find("span.symbol").html(""),$(document).find("[et=products]").not("[data-unit=currency").each(function(){$(this).find("span.currency").html($(this).data("unit"));var e=$(this).closest(".el").attr("id").slice(1);$("#s"+e).find(".product_unit").html($(this).data("unit"))}),$(document).find("[et=products]").each(function(){var e=$(this).closest(".el").attr("id").slice(1);$("#s"+e).find("[prop=enableAmount]").is(":checked")?$(this).find("td.tamt").show():$(this).find("td.tamt").hide()})},100)},determineCurrency:function(){setTimeout(function(){var e=$(document).find("#ssettings").find("#s_currency").val();$(".ellist").find("span.currency").html(e),"USD"==e?$(document).find("span.symbol").html("$"):$(document).find("span.symbol").html("")},1)},determineFormNeedsUpgrade:function(){var e=Ui.formHasPaidElements();if(e.length>0&&"FREE"==window.accountStatus){var t="";return $.each(e,function(e,a){t+='<i class="fa fa-circle-thin" aria-hidden="true"></i> <b>'+a+"</b> &nbsp;&nbsp;&nbsp;"}),setTimeout(function(){Ui.alert("error",'You are using advanced features, they are active for you to test , but to publish the form for external users you will need to <a href="/settings/subscription/">upgrade your account</a>. Advanced features used: <br>'+t),$(".form-state-container").html(""),$(".form").css("marginTop","4rem"),$(".form-menu .right").css("width","400px"),$(".form-state-container").append('<a href="/settings/subscription/" id="formState" style="width:190px;" class="form-state button small">Upgrade to be able to publish</a>')},500),!0}return $(".alert-container").hide(),$(".form-state-container").html(""),$(".form").css("marginTop","2rem"),$(".form-menu .right").css("width","300px"),"1"==gd.fd.active?$(".form-state-container").append('<div id="formState" class="form-state button small form-active">Unpublish</div>'):$(".form-state-container").append('<div id="formState" class="form-state button small">Publish</div>'),!1},populateCalculationField:function(e){var t=$(document).find("#s"+e._id).find(".side_calculation");if(e.fieldLists&&e.fieldLists.length){t.html("");var a=0;$.each(e.fieldLists,function(e){var i=Utils.toLetters(a),o=$('<div class="fieldList"> <div class="g2 f label">'+i+'</div> <div class="g8 f field"><select class="text"><option></option></select></div> <div class="g2 f action"><span class="remove"><i class="fa fa-trash"></i></span><span class="add"><i class="fa fa-plus-square"></i></span></div>');t.append(o),a++})}var i=t.find(".fieldList"),o=[],n=!1;$(document).find("#f"+e._id).closest(".formElementContainer").find(".ellist").each(function(){if(n)return!1;$(this).find(".el").each(function(){var t=$(this).attr("id").substring(1);if(t==e._id)return n=!0,!1;var a=$(this).find("[prop=inputLabel]").val();o.push({id:t,label:a})})});var l="";$.each(o,function(e,t){t.label&&(l+='<option value="'+t.id+'">'+t.label+"</option>")});var s=0;i.each(function(){var t=$(this).find("select.text");if(t.html("<option></option>"),t.append($(l)),e.fieldLists){var a=e.fieldLists[s];a&&t.val(a.field)}s++})},calculationShowActions:function(e){$(document).find("#s"+e).find(".side_calculation").find(".fieldList").each(function(){var e=$(this).index(),t=Utils.toLetters(e);$(this).find(".label").html(t),$(this).is(":last-child")&&$(this).is(":first-child")?($(this).find(".action .remove").hide(),$(this).find(".action .add").show()):$(this).is(":last-child")?($(this).find(".action .remove").show(),$(this).find(".action .add").show()):($(this).find(".action .remove").show(),$(this).find(".action .add").hide())})},calculationAddField:function(){var e=$(this).closest(".sel"),t=e.find(".side_calculation"),a=t.find(".fieldList").length,i=(t.closest(".calculation").find("input[prop=calculationTotal]").val(),Utils.toLetters(a)),o=$('<div class="fieldList"> <div class="g2 f label">'+i+'</div> <div class="g8 f field"><select class="text"><option></option></select></div> <div class="g2 f action"><span class="remove"><i class="fa fa-trash"></i></span><span class="add"><i class="fa fa-plus-square"></i></span></div>');t.append(o),Ui.calculationShowActions(e.attr("id").slice(1)),Ui.calculationSubmitUpdate(e.attr("id").slice(1)),setTimeout(function(){$(document).find("#f"+e.attr("id").slice(1)).click()},500)},calculationRemoveField:function(){var e=$(this).closest(".sel");$(this).closest(".fieldList").remove(),Ui.populateCalculationField(e.attr("id").slice(1)),Ui.calculationShowActions(e.attr("id").slice(1)),Ui.calculationSubmitUpdate(e.attr("id").slice(1))},calculationSubmitUpdate:function(e){var t=[];$(document).find("#s"+e).find(".side_calculation").find(".fieldList").each(function(){var e={field:$(this).find("select.text").val()};t.push(e)});var a={};a.form_id=gd.object,a.el_id=e,a.prop="fieldLists",a.value=t,a.method="POST",Utils.reqdata("editFormElement",a)},arrangePage:function(e){var t="";e.hasClass("down")?t="down":e.hasClass("up")&&(t="up");var a=e.closest(".ellist"),i="";i="up"==t?a.prev(".ellist"):a.next(".ellist"),a.swapWith(i);var o=[];$(document).find(".formElementContainer .ellist").each(function(){var e=$(this).attr("data-page"),t="Next",a="Previous",i=$(this).find(".footer"),n=i.find("[data-prop=nextButtonText]"),l=i.find("[data-prop=previousButtonText]");n.length&&(t=n.html()),l.length&&(a=l.html()),o.push({_id:e,nextButtonText:t,previousButtonText:a})});var n={};n.form_id=gd.object,n.pages=o,n.method="POST",Utils.reqdata("updatePages",n);var l=$(document).find(".formElementContainer").find(".ellist"),s=1;$.each(l,function(e,t){var a=(t=$(t)).data("page");t.attr("id").slice(13);$.each(t.find(".formline"),function(e,t){$(t).find(".el").length>0&&(Ui.balanceformline($(t),a,s),s++)}),setTimeout(function(){Ui.submitUpdateElements(window.elementsToBeUpdated),window.location.reload()},100)})},actionBinding:function(){$(document).on("click",".new_page",Ui.createNewPage),$(document).on("click",".delpage",Ui.deletePage),$(".ellist").on("mousedown","button[prop=required]",function(e){e.preventDefault(),$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active");var t=$(this).closest(".el").attr("id").slice(1);$("#s"+t+" input[prop=required]").click()}),$(document).on("mousedown",".el",Ui.activateEl),$("#snew").on("click","#createnewform",function(){Ui.createForm("FULL")}),$("#snew").on("click","#createnewendpoint",function(){Ui.createForm("ENDPOINT")}),$(document).on("change click","#sidebar input:not([type=checkbox]):not([prop=option_label]):not([prop=option_value])",Ui.updateformel),$(document).on("keyup","#sidebar input",Ui.updateformel),$(document).on("change","input.jscolor",Ui.updateformel),$("#sidebar").on("focus","input.addoption",Ui.addoption),$("#sidebar").on("keyup","textarea",Ui.updateformel),$(document).on("change","#sidebar input[type=checkbox]",Ui.updateformel),$(document).on("change","#sidebar select",Ui.updateformel),$(document).on("click","#sidebar [class=optionsList] button",Ui.changeoption),$("#sidebar").on("click","button.duplicate",Ui.duplicateformel),$("#sidebar").on("click","button.del_element",function(e){e.preventDefault();var t=$(this).closest(".sel").attr("id").slice(1);$("#f"+t).find("button.delete").click()}),$(".ellist").on("keyup blur","textarea",Ui.updateformselected),$(".ellist").on("keyup change blur","div.div-textarea",Ui.updateformselected),$(".ellist").on("blur","input[prop=placeholderText]",Ui.updateformselected),$(".ellist").on("keyup change","input:not(.other_text)",Ui.updateformselected),$(".ellist").on("click",".delete",Ui.deleteformel),$(".ellist").on("click",".duplicate",function(){var e=$(this).closest(".el").attr("id").slice(1),t={};t.form_id=gd.object,t.element_id=e,Utils.reqdata("getFormElement",t,Ui.duplicateformel)}),$(".ellist").on("click","button.logic",function(){var e=$(this).closest(".el").attr("id").slice(1),t=$(document).find("#s"+e),a=t.find("[prop=enableLogic]");0==a.is(":checked")?(a.parent().find(".switch-container").click(),setTimeout(function(){t.closest(".scroll").scrollTop(1e3)},0)):t.closest(".scroll").scrollTop(1e3)});var e=$(document).find("textarea.autoheight");e.length&&e.on("keydown",function(){var e=this;setTimeout(function(){e.style.cssText="height:21px; padding:0;";var t=e.scrollHeight;e.style.cssText="height:"+t+"px";var a=t+40;document.getElementById("fconfirmation").style.cssText="height:"+a+"px"},0)}),$("textarea.autoheight").trigger("keydown"),$(document).on("click",".submit_confirmation",function(){window.location.href=gd.path+"editor/"+gd.object+"/#econfirmation"}),$(document).on("focus",".submit_confirmation textarea",function(){$(this).closest(".el");$(document).find("a#formlet").trigger("click")}),$(document).on("keyup",".submit_confirmation textarea",function(){var e=$(this).attr("prop");$(document).find("#sconfirmation").find("[prop="+e+"]").val($(this).val())}),$(document).on("blur",".submit_confirmation textarea",function(){$(this).closest(".el");var e=$(this).attr("prop"),t=$(document).find("#sconfirmation").find("[prop="+e+"]");t.val($(this).val()),t.trigger("keyup")}),$(document).on("click",".ellist .arrange .fa",function(e){Ui.arrangePage($(this))}),$(document).on("click","#selements .el",function(e){var t=$(this).clone(),a=$(document).find(".ellist").last().find(".footer").prev(".formline"),i={};i.dragged=t.get(0),i.from={id:"sideA"},i.to=a,i.to.id="",a.append(t);var o=Ui.setel(i,"click");o&&Ui.scrollTo(o,1);var n={};n.to=a,n.item=t.get(0),n.item.id=t.attr("id"),Ui.redel(n)}),$(".ellist").on("click",".option-container button.red",function(e){e.preventDefault();var t=$(this).closest(".el").attr("id").slice(1),a=$(this).closest("fieldset.option-container").parent().index();a<0&&(a=$(this).closest(".option-container").index()),$("#s"+t+" div[class=optionsList]").find("fieldset[prop=o"+a+"]").find("button.delete").click()}),$("#formStateContainer").on("click",".form-state",Ui.updateFormState),$("#sidebar").on("click",".side_change_image",function(e){e.preventDefault();var t=$(this).closest(".sel").attr("id").slice(1);$("#f"+t).find(".upload_picture").click()}),$(".ellist").on("click",".upload_picture",function(e){e.preventDefault();var t=$(this).prev(),a=$(this).closest("fieldset.picture").find(".image_container"),i=$(this).closest("fieldset.picture").find(".no_image");t.click(),t.on("change",function(e){if(e.target.files[0].size/1e3/1e3>window.max_upload_size)Ui.alert("error","Max image size is "+window.max_upload_size+"MB");else if(this.files&&this.files[0]){var t=a.find("img"),o=new FileReader;o.onload=function(e){t.attr("src",e.target.result)},o.readAsDataURL(this.files[0]),a.show(),i.hide();var n={};n.form_id=gd.object,n.el_id=gd.element,n.prop="picture",n.value=e.target.files[0],Utils.reqdataFile("editFormElement",n)}})}),$(".ellist").on("click",".inputTable .new a",function(e){var t=$(this),a=t.closest(".el").attr("id").slice(1),i=$(document).find("#s"+a).find("fieldset.questionList"),o=i.find(".addoption input");setTimeout(function(){o.focus();var e=i.find("[prop=questionList]").find("fieldset"),a=e.get(e.length-1);$(a).find("input").trigger("keyup");var n=t.closest(".option_container").find(".foption").get(e.length-1);$(n).find("input.inline-edit").focus()},100)}),$(".ellist").on("click","div[et=inputtable] .newColumn a",function(e){var t=$(this),a=t.closest(".el").attr("id").slice(1),i=$(document).find("#s"+a).find("fieldset.answerList"),o=i.find(".addoption input");setTimeout(function(){o.focus();var e=i.find("[prop=answerList]").find("fieldset"),a=e.get(e.length-1);$(a).find("input").trigger("keyup");var n=t.closest(".el").find("tr.ans td.gray").get(e.length-1);$(n).find("input.inline-edit").focus()},100)}),$(".ellist").on("click",".inputTable .del",function(e){e.preventDefault();var t="questionList";$(this).closest(".ans").length&&(t="answerList");var a=$(this).closest(".el").attr("id").slice(1),i=$(this).closest(".option-container").index();i<0&&(i=$(this).closest(".gray").index()),i-=1,$("#s"+a+" div[prop="+t+"]").find("fieldset[prop=o"+i+"]").find("button.delete").click()});var t=$("#sidebar").find(".file");if(t.length>0){var a=t.find("button"),i=t.find('input[type="file"]');a.on("click",function(e){e.preventDefault(),i.click()}),i.on("change",function(e){var t={};t.form_id=gd.object,t.el_id="settings",t.prop="logo",t.value=e.target.files[0],Utils.reqdataFile("editFormElement",t)})}$(document).on("click",".fcc .fc-logo-add a",function(){$(document).find("#ssettings").find("fieldset.file button").click()}),$(document).on("click",".fcc .fc-logo .logoAction a",function(){$(document).find("#ssettings").find(".formlogo i").click()}),$(document).on("click","#sidebar .formlogo i",function(){var e={};e.form_id=gd.object,e.el_id="settings",e.prop="logo",e.value="",Utils.reqdata("editFormElement",e,Ui.logoDeleted),$(document).find(".fc-logo-add").show()}),$(document).on("click",".fcc #delivery",function(){window.location.href=gd.path+"editor/"+gd.object+"/#edelivery"}),$(document).on("selectstart",".div-textarea",function(){var e=$(this),t=e.closest(".gc"),a=e.closest(".el"),i=$('<div class="btn-toolbar eControls" data-role="editor-toolbar" data-target=".div-textarea">    \t\t\t<ul>        \t\t\t<li><button class="control-bold" data-edit="bold"><i class="fa fa-bold"></i></button></li>        \t\t\t<li><button class="control-italic" data-edit="italic"><i class="fa fa-italic"></i></button></li>        \t\t\t<li><button class="control-heading2" data-edit="heading h2"><i class="fa fa-header"></i></button></li>        \t\t\t<li><button class="control-alignleft" data-edit="justifyleft"><i class="fa fa-align-left"></i></button></li>        \t\t\t<li><button class="control-aligncenter" data-edit="justifycenter"><i class="fa fa-align-center"></i></button></li>        \t\t\t<li><button class="control-alignright"  data-edit="justifyright"><i class="fa fa-align-right"></i></button></li>        \t\t\t<li>        \t\t\t\t<button class="control-link dropdown-toggle" data-toggle="dropdown"><i class="fa fa-link"></i></button>        \t\t\t\t<div class="dropdown-menu input-append">        \t\t\t\t\t<input class="span2" placeholder="URL" type="text" data-edit="createLink" data-com.agilebits.onepassword.user-edited="yes">\t\t\t    \t\t\t<button class="btn" type="button">Add</button>        \t\t\t\t</div>        \t\t\t</li>        \t\t\t<li><button class="control-removelink"  data-edit="unlink" title="Remove Link"><i class="fa fa-scissors"></i></button></li>    \t\t\t</ul>    \t\t</div>');$(document).one("mouseup keyup",function(){this.getSelection().isCollapsed||(t.find(".eControls").remove(),t.append(i),e.wysiwyg())}),t.on("click",".eControls",function(){}),t.on("click",".control-link",function(){$(this).next(".dropdown-menu").hasClass("shown")?$(this).next(".dropdown-menu").removeClass("shown"):$(this).next(".dropdown-menu").addClass("shown")}),t.one("blur",function(){}),$(document).on("click",function(e){a.attr("id")!=$(e.target).closest(".el").attr("id")&&t.find(".eControls").remove()})}),$(document).on("click",".eControls button",function(){$(".div-textarea").trigger("change")}),$("body").on("click",function(e){"none"!=$("#deliveryContainer").css("display")&&0==$(e.target).closest("#deliveryContainer").length&&(window.location.href=gd.path+"editor/"+gd.object+"/#e"+window.element_history);var t=$(document).find("#s"+window.element_history);if(t.length){var a=t.find("[prop=enableLogic]");if(a.length&&a.is(":checked")&&!(t.find("[prop=logicAction]").val()||t.find("[prop=logicField]").val()||t.find("[prop=logicCondition]").val()||t.find("[prop=logicValue]").val())){var i=window.location.href.replace(/#e/,"").split("/");gd.object=i[4],gd.element=i[5];var o=$(e.target).closest(".sel");if(a.length&&a.is(":checked")&&(0==o.length||o.length&&o.attr("id").slice(1)!=gd.element))if($(e.target).closest(".sidebar").length);else{var n=!1;($(e.target).closest("button").hasClass("logic")||$(e.target).hasClass("logic"))&&(n=!0),0==n&&(a.closest(".enableLogic").find(".switch-container").trigger("click"),Ui.determineFormNeedsUpgrade())}}}}),$("#deliveryContainer button.close").on("click",function(){$("body").click()}),$(".editable").on("click",function(){window.location.href=gd.path+"editor/"+gd.object+"/#esettings"}).on("keyup",function(){var e=$(this).data("trigger"),t=$(this).data("prop"),a=$(this).closest(".ellist").data("page"),i=window.location.href.replace(/#e/,"").split("/");$("#s"+i[5]+" #"+e).val($(this).html()),$(".sel").find('[data-pageid="'+a+'"').find('[prop="'+t+'"]').val($(this).html());var o={};o.form_id=gd.object,o.el_id=i[5],o.prop=t,o.page=a,o.value=$(this).html(),Utils.reqdata("editFormElement",o)}).keypress(function(e){return 13!=e.which}),$(".jscolor").on("keyup",function(){$(this).css("background",$(this).val())}),$(document).on("click",".datetimePicker",function(){var e=$(this).closest("fieldset");setTimeout(function(){e.find(".flatpickr-calendar").addClass("showTimeInput")},500)}),$("body").attr("spellcheck",!1),$(document).on("input keyup","input.product-input",function(){$(this).attr({width:"auto",size:$(this).val().length})}),"USD"!=gd.fd.currency?$("span.symbol").html(""):$("span.symbol").html("$"),$(document).on("mouseover",".el",function(e){$(this).closest(".formElementContainer");var t=$(".formElementContainer .el").index($(this)),a=$(document).find("#ssettings"),i=!1;a.find("#s_isExternalData").is(":checked")&&a.find("#s_externalData").val()&&(i=!0),0==t&&0==i?$(this).find("button.logic").hide():$(this).find("button.logic").show()}),setTimeout(function(){$(document).find(".selected").trigger("mouseover")},50),Ui.determineFormNeedsUpgrade(),Ui.determineProduct(),$(document).on("click",".side_calculation .action .add",Ui.calculationAddField),$(document).on("click",".side_calculation .action .remove",Ui.calculationRemoveField),$(document).on("change",".side_calculation .field select.text",function(){var e=$(this).closest(".sel").attr("id").slice(1),t=($(this).closest(".fieldList"),$(this).closest(".field")),a=$("#s"+e+" .fieldList .field").index(t),i=Utils.toLetters(a),o=$(this).closest(".calculation").find("input[prop=calculationTotal]"),n=o.val();""==n?(o.val(i),o.trigger("change")):n.split("").indexOf(i)<0&&(o.val(n+" + "+i),o.trigger("change")),Ui.calculationSubmitUpdate(e)})}},Utils={};Utils.insertid=function(){var e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t="";for(l=0;l<16;l++)t+=e[Math.floor(58*Math.random()+1)];return t},Utils.reqdata=function(e,t,a){var i=new XMLHttpRequest;if(i.onreadystatechange=function(){4==i.readyState&&200==i.status&&('{"status":"loggedout"}'==i.responseText&&window.location.reload(),a&&a(JSON.parse(i.responseText)))},"POST"==t.method){var o="method="+e+"&json="+encodeURIComponent(JSON.stringify(t)),n="/__api/json/";i.open("POST",n,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(o)}else{n="/__api/json/?method="+e+"&json="+encodeURIComponent(JSON.stringify(t));i.open("GET",n),i.send()}},Utils.reqdataFile=function(e,t){var a=new FormData;a.append("method",e),a.append("json",[]),a.append("upload",!0),a.append("form_id",t.form_id),a.append("el_id",t.el_id),a.append("prop",t.prop),a.append("file",t.value),$.ajax({url:"/__api/json/",data:a,type:"POST",cache:!1,contentType:!1,processData:!1,success:function(e){if("logo"==t.prop){$(".fc-logo").html("");i=$('<div class="logoAction"><a href="javascript:;"><i class="fa fa-times-circle"></i> Remove</a></div><img src="/logo/'+t.form_id+"_logo.jpg?v="+Utils.insertid()+'" />');$(".fc-logo").append(i),$(document).find(".fc-logo-add").hide(),$("#ssettings").find(".file").hide();var a=$("#ssettings").find(".logoContainer"),i=$('<fieldset class="formlogo"><i class="fa fa-trash"></i><img src="/logo/'+t.form_id+"_logo.jpg?v="+Utils.insertid()+'" /></fieldset>');$(a).append(i)}}})},Utils.toLetters=function(e){var t=(e+=1)%26,a=e/26|0,i=t?String.fromCharCode(64+t):(a--,"Z");return a?toLetters(a)+i:i},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};
